(()=>{var e={2176:(e,t,r)=>{"use strict";function n(){return!("undefined"!=typeof __SENTRY_BROWSER_BUNDLE__&&__SENTRY_BROWSER_BUNDLE__)&&"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)}function i(e,t){return e.require(t)}r.d(t,{l$:()=>i,KV:()=>n}),e=r.hmd(e)},1170:(e,t,r)=>{"use strict";r.d(t,{ph:()=>l,yW:()=>u});var n=r(2176),i=r(1235);e=r.hmd(e);const o=(0,i.Rf)(),s={nowSeconds:()=>Date.now()/1e3},a=(0,n.KV)()?function(){try{return(0,n.l$)(e,"perf_hooks").performance}catch(e){return}}():function(){const{performance:e}=o;if(e&&e.now)return{now:()=>e.now(),timeOrigin:Date.now()-e.now()}}(),c=void 0===a?s:{nowSeconds:()=>(a.timeOrigin+a.now())/1e3},u=s.nowSeconds.bind(s),l=c.nowSeconds.bind(c);let d;(()=>{const{performance:e}=o;if(!e||!e.now)return void(d="none");const t=36e5,r=e.now(),n=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+r-n):t,s=i<t,a=e.timing&&e.timing.navigationStart,c="number"==typeof a?Math.abs(a+r-n):t;s||c<t?i<=c?(d="timeOrigin",e.timeOrigin):d="navigationStart":d="dateNow"})()},1235:(e,t,r)=>{"use strict";function n(e){return e&&e.Math==Math?e:void 0}r.d(t,{Rf:()=>o,YO:()=>s,n2:()=>i});const i="object"==typeof globalThis&&n(globalThis)||"object"==typeof window&&n(window)||"object"==typeof self&&n(self)||"object"==typeof r.g&&n(r.g)||function(){return this}()||{};function o(){return i}function s(e,t,r){const n=r||i,o=n.__SENTRY__=n.__SENTRY__||{};return o[e]||(o[e]=t())}},9662:(e,t,r)=>{var n=r(614),i=r(6330),o=TypeError;e.exports=function(e){if(n(e))return e;throw o(i(e)+" is not a function")}},9483:(e,t,r)=>{var n=r(4411),i=r(6330),o=TypeError;e.exports=function(e){if(n(e))return e;throw o(i(e)+" is not a constructor")}},6077:(e,t,r)=>{var n=r(614),i=String,o=TypeError;e.exports=function(e){if("object"==typeof e||n(e))return e;throw o("Can't set "+i(e)+" as a prototype")}},1223:(e,t,r)=>{var n=r(5112),i=r(30),o=r(3070).f,s=n("unscopables"),a=Array.prototype;null==a[s]&&o(a,s,{configurable:!0,value:i(null)}),e.exports=function(e){a[s][e]=!0}},1530:(e,t,r)=>{"use strict";var n=r(8710).charAt;e.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},5787:(e,t,r)=>{var n=r(7976),i=TypeError;e.exports=function(e,t){if(n(t,e))return e;throw i("Incorrect invocation")}},9670:(e,t,r)=>{var n=r(111),i=String,o=TypeError;e.exports=function(e){if(n(e))return e;throw o(i(e)+" is not an object")}},8533:(e,t,r)=>{"use strict";var n=r(2092).forEach,i=r(9341)("forEach");e.exports=i?[].forEach:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}},8457:(e,t,r)=>{"use strict";var n=r(9974),i=r(6916),o=r(7908),s=r(3411),a=r(7659),c=r(4411),u=r(6244),l=r(6135),d=r(4121),p=r(1246),h=Array;e.exports=function(e){var t=o(e),r=c(this),f=arguments.length,g=f>1?arguments[1]:void 0,m=void 0!==g;m&&(g=n(g,f>2?arguments[2]:void 0));var E,v,y,_,A,I,S=p(t),C=0;if(!S||this===h&&a(S))for(E=u(t),v=r?new this(E):h(E);E>C;C++)I=m?g(t[C],C):t[C],l(v,C,I);else for(A=(_=d(t,S)).next,v=r?new this:[];!(y=i(A,_)).done;C++)I=m?s(_,g,[y.value,C],!0):y.value,l(v,C,I);return v.length=C,v}},1318:(e,t,r)=>{var n=r(5656),i=r(1400),o=r(6244),s=function(e){return function(t,r,s){var a,c=n(t),u=o(c),l=i(s,u);if(e&&r!=r){for(;u>l;)if((a=c[l++])!=a)return!0}else for(;u>l;l++)if((e||l in c)&&c[l]===r)return e||l||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},2092:(e,t,r)=>{var n=r(9974),i=r(1702),o=r(8361),s=r(7908),a=r(6244),c=r(5417),u=i([].push),l=function(e){var t=1==e,r=2==e,i=3==e,l=4==e,d=6==e,p=7==e,h=5==e||d;return function(f,g,m,E){for(var v,y,_=s(f),A=o(_),I=n(g,m),S=a(A),C=0,O=E||c,T=t?O(f,S):r||p?O(f,0):void 0;S>C;C++)if((h||C in A)&&(y=I(v=A[C],C,_),e))if(t)T[C]=y;else if(y)switch(e){case 3:return!0;case 5:return v;case 6:return C;case 2:u(T,v)}else switch(e){case 4:return!1;case 7:u(T,v)}return d?-1:i||l?l:T}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},9341:(e,t,r)=>{"use strict";var n=r(7293);e.exports=function(e,t){var r=[][e];return!!r&&n((function(){r.call(null,t||function(){return 1},1)}))}},3671:(e,t,r)=>{var n=r(9662),i=r(7908),o=r(8361),s=r(6244),a=TypeError,c=function(e){return function(t,r,c,u){n(r);var l=i(t),d=o(l),p=s(l),h=e?p-1:0,f=e?-1:1;if(c<2)for(;;){if(h in d){u=d[h],h+=f;break}if(h+=f,e?h<0:p<=h)throw a("Reduce of empty array with no initial value")}for(;e?h>=0:p>h;h+=f)h in d&&(u=r(u,d[h],h,l));return u}};e.exports={left:c(!1),right:c(!0)}},1589:(e,t,r)=>{var n=r(1400),i=r(6244),o=r(6135),s=Array,a=Math.max;e.exports=function(e,t,r){for(var c=i(e),u=n(t,c),l=n(void 0===r?c:r,c),d=s(a(l-u,0)),p=0;u<l;u++,p++)o(d,p,e[u]);return d.length=p,d}},4362:(e,t,r)=>{var n=r(1589),i=Math.floor,o=function(e,t){var r=e.length,c=i(r/2);return r<8?s(e,t):a(e,o(n(e,0,c),t),o(n(e,c),t),t)},s=function(e,t){for(var r,n,i=e.length,o=1;o<i;){for(n=o,r=e[o];n&&t(e[n-1],r)>0;)e[n]=e[--n];n!==o++&&(e[n]=r)}return e},a=function(e,t,r,n){for(var i=t.length,o=r.length,s=0,a=0;s<i||a<o;)e[s+a]=s<i&&a<o?n(t[s],r[a])<=0?t[s++]:r[a++]:s<i?t[s++]:r[a++];return e};e.exports=o},7475:(e,t,r)=>{var n=r(3157),i=r(4411),o=r(111),s=r(5112)("species"),a=Array;e.exports=function(e){var t;return n(e)&&(t=e.constructor,(i(t)&&(t===a||n(t.prototype))||o(t)&&null===(t=t[s]))&&(t=void 0)),void 0===t?a:t}},5417:(e,t,r)=>{var n=r(7475);e.exports=function(e,t){return new(n(e))(0===t?0:t)}},3411:(e,t,r)=>{var n=r(9670),i=r(9212);e.exports=function(e,t,r,o){try{return o?t(n(r)[0],r[1]):t(r)}catch(t){i(e,"throw",t)}}},4326:(e,t,r)=>{var n=r(84),i=n({}.toString),o=n("".slice);e.exports=function(e){return o(i(e),8,-1)}},648:(e,t,r)=>{var n=r(1694),i=r(614),o=r(4326),s=r(5112)("toStringTag"),a=Object,c="Arguments"==o(function(){return arguments}());e.exports=n?o:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=a(e),s))?r:c?o(t):"Object"==(n=o(t))&&i(t.callee)?"Arguments":n}},9920:(e,t,r)=>{var n=r(2597),i=r(3887),o=r(1236),s=r(3070);e.exports=function(e,t,r){for(var a=i(t),c=s.f,u=o.f,l=0;l<a.length;l++){var d=a[l];n(e,d)||r&&n(r,d)||c(e,d,u(t,d))}}},4964:(e,t,r)=>{var n=r(5112)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[n]=!1,"/./"[e](t)}catch(e){}}return!1}},8544:(e,t,r)=>{var n=r(7293);e.exports=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},6178:e=>{e.exports=function(e,t){return{value:e,done:t}}},8880:(e,t,r)=>{var n=r(9781),i=r(3070),o=r(9114);e.exports=n?function(e,t,r){return i.f(e,t,o(1,r))}:function(e,t,r){return e[t]=r,e}},9114:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},6135:(e,t,r)=>{"use strict";var n=r(4948),i=r(3070),o=r(9114);e.exports=function(e,t,r){var s=n(t);s in e?i.f(e,s,o(0,r)):e[s]=r}},7045:(e,t,r)=>{var n=r(6339),i=r(3070);e.exports=function(e,t,r){return r.get&&n(r.get,t,{getter:!0}),r.set&&n(r.set,t,{setter:!0}),i.f(e,t,r)}},8052:(e,t,r)=>{var n=r(614),i=r(3070),o=r(6339),s=r(3072);e.exports=function(e,t,r,a){a||(a={});var c=a.enumerable,u=void 0!==a.name?a.name:t;if(n(r)&&o(r,u,a),a.global)c?e[t]=r:s(t,r);else{try{a.unsafe?e[t]&&(c=!0):delete e[t]}catch(e){}c?e[t]=r:i.f(e,t,{value:r,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return e}},9190:(e,t,r)=>{var n=r(8052);e.exports=function(e,t,r){for(var i in t)n(e,i,t[i],r);return e}},3072:(e,t,r)=>{var n=r(7854),i=Object.defineProperty;e.exports=function(e,t){try{i(n,e,{value:t,configurable:!0,writable:!0})}catch(r){n[e]=t}return t}},9781:(e,t,r)=>{var n=r(7293);e.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4154:e=>{var t="object"==typeof document&&document.all,r=void 0===t&&void 0!==t;e.exports={all:t,IS_HTMLDDA:r}},317:(e,t,r)=>{var n=r(7854),i=r(111),o=n.document,s=i(o)&&i(o.createElement);e.exports=function(e){return s?o.createElement(e):{}}},8324:e=>{e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},8509:(e,t,r)=>{var n=r(317)("span").classList,i=n&&n.constructor&&n.constructor.prototype;e.exports=i===Object.prototype?void 0:i},5268:(e,t,r)=>{var n=r(4326),i=r(7854);e.exports="process"==n(i.process)},8113:(e,t,r)=>{var n=r(5005);e.exports=n("navigator","userAgent")||""},7392:(e,t,r)=>{var n,i,o=r(7854),s=r(8113),a=o.process,c=o.Deno,u=a&&a.versions||c&&c.version,l=u&&u.v8;l&&(i=(n=l.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!i&&s&&(!(n=s.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=s.match(/Chrome\/(\d+)/))&&(i=+n[1]),e.exports=i},748:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:(e,t,r)=>{var n=r(7854),i=r(1236).f,o=r(8880),s=r(8052),a=r(3072),c=r(9920),u=r(4705);e.exports=function(e,t){var r,l,d,p,h,f=e.target,g=e.global,m=e.stat;if(r=g?n:m?n[f]||a(f,{}):(n[f]||{}).prototype)for(l in t){if(p=t[l],d=e.dontCallGetSet?(h=i(r,l))&&h.value:r[l],!u(g?l:f+(m?".":"#")+l,e.forced)&&void 0!==d){if(typeof p==typeof d)continue;c(p,d)}(e.sham||d&&d.sham)&&o(p,"sham",!0),s(r,l,p,e)}}},7293:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},7007:(e,t,r)=>{"use strict";r(4916);var n=r(1702),i=r(8052),o=r(2261),s=r(7293),a=r(5112),c=r(8880),u=a("species"),l=RegExp.prototype;e.exports=function(e,t,r,d){var p=a(e),h=!s((function(){var t={};return t[p]=function(){return 7},7!=""[e](t)})),f=h&&!s((function(){var t=!1,r=/a/;return"split"===e&&((r={}).constructor={},r.constructor[u]=function(){return r},r.flags="",r[p]=/./[p]),r.exec=function(){return t=!0,null},r[p](""),!t}));if(!h||!f||r){var g=n(/./[p]),m=t(p,""[e],(function(e,t,r,i,s){var a=n(e),c=t.exec;return c===o||c===l.exec?h&&!s?{done:!0,value:g(t,r,i)}:{done:!0,value:a(r,t,i)}:{done:!1}}));i(String.prototype,e,m[0]),i(l,p,m[1])}d&&c(l[p],"sham",!0)}},2104:(e,t,r)=>{var n=r(4374),i=Function.prototype,o=i.apply,s=i.call;e.exports="object"==typeof Reflect&&Reflect.apply||(n?s.bind(o):function(){return s.apply(o,arguments)})},9974:(e,t,r)=>{var n=r(1702),i=r(9662),o=r(4374),s=n(n.bind);e.exports=function(e,t){return i(e),void 0===t?e:o?s(e,t):function(){return e.apply(t,arguments)}}},4374:(e,t,r)=>{var n=r(7293);e.exports=!n((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},6916:(e,t,r)=>{var n=r(4374),i=Function.prototype.call;e.exports=n?i.bind(i):function(){return i.apply(i,arguments)}},6530:(e,t,r)=>{var n=r(9781),i=r(2597),o=Function.prototype,s=n&&Object.getOwnPropertyDescriptor,a=i(o,"name"),c=a&&"something"===function(){}.name,u=a&&(!n||n&&s(o,"name").configurable);e.exports={EXISTS:a,PROPER:c,CONFIGURABLE:u}},84:(e,t,r)=>{var n=r(4374),i=Function.prototype,o=i.call,s=n&&i.bind.bind(o,o);e.exports=n?s:function(e){return function(){return o.apply(e,arguments)}}},1702:(e,t,r)=>{var n=r(4326),i=r(84);e.exports=function(e){if("Function"===n(e))return i(e)}},5005:(e,t,r)=>{var n=r(7854),i=r(614),o=function(e){return i(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?o(n[e]):n[e]&&n[e][t]}},1246:(e,t,r)=>{var n=r(648),i=r(8173),o=r(8554),s=r(7497),a=r(5112)("iterator");e.exports=function(e){if(!o(e))return i(e,a)||i(e,"@@iterator")||s[n(e)]}},4121:(e,t,r)=>{var n=r(6916),i=r(9662),o=r(9670),s=r(6330),a=r(1246),c=TypeError;e.exports=function(e,t){var r=arguments.length<2?a(e):t;if(i(r))return o(n(r,e));throw c(s(e)+" is not iterable")}},8173:(e,t,r)=>{var n=r(9662),i=r(8554);e.exports=function(e,t){var r=e[t];return i(r)?void 0:n(r)}},647:(e,t,r)=>{var n=r(1702),i=r(7908),o=Math.floor,s=n("".charAt),a=n("".replace),c=n("".slice),u=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,r,n,d,p){var h=r+e.length,f=n.length,g=l;return void 0!==d&&(d=i(d),g=u),a(p,g,(function(i,a){var u;switch(s(a,0)){case"$":return"$";case"&":return e;case"`":return c(t,0,r);case"'":return c(t,h);case"<":u=d[c(a,1,-1)];break;default:var l=+a;if(0===l)return i;if(l>f){var p=o(l/10);return 0===p?i:p<=f?void 0===n[p-1]?s(a,1):n[p-1]+s(a,1):i}u=n[l-1]}return void 0===u?"":u}))}},7854:(e,t,r)=>{var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||function(){return this}()||Function("return this")()},2597:(e,t,r)=>{var n=r(1702),i=r(7908),o=n({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return o(i(e),t)}},3501:e=>{e.exports={}},490:(e,t,r)=>{var n=r(5005);e.exports=n("document","documentElement")},4664:(e,t,r)=>{var n=r(9781),i=r(7293),o=r(317);e.exports=!n&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},8361:(e,t,r)=>{var n=r(1702),i=r(7293),o=r(4326),s=Object,a=n("".split);e.exports=i((function(){return!s("z").propertyIsEnumerable(0)}))?function(e){return"String"==o(e)?a(e,""):s(e)}:s},9587:(e,t,r)=>{var n=r(614),i=r(111),o=r(7674);e.exports=function(e,t,r){var s,a;return o&&n(s=t.constructor)&&s!==r&&i(a=s.prototype)&&a!==r.prototype&&o(e,a),e}},2788:(e,t,r)=>{var n=r(1702),i=r(614),o=r(5465),s=n(Function.toString);i(o.inspectSource)||(o.inspectSource=function(e){return s(e)}),e.exports=o.inspectSource},9909:(e,t,r)=>{var n,i,o,s=r(4811),a=r(7854),c=r(111),u=r(8880),l=r(2597),d=r(5465),p=r(6200),h=r(3501),f="Object already initialized",g=a.TypeError,m=a.WeakMap;if(s||d.state){var E=d.state||(d.state=new m);E.get=E.get,E.has=E.has,E.set=E.set,n=function(e,t){if(E.has(e))throw g(f);return t.facade=e,E.set(e,t),t},i=function(e){return E.get(e)||{}},o=function(e){return E.has(e)}}else{var v=p("state");h[v]=!0,n=function(e,t){if(l(e,v))throw g(f);return t.facade=e,u(e,v,t),t},i=function(e){return l(e,v)?e[v]:{}},o=function(e){return l(e,v)}}e.exports={set:n,get:i,has:o,enforce:function(e){return o(e)?i(e):n(e,{})},getterFor:function(e){return function(t){var r;if(!c(t)||(r=i(t)).type!==e)throw g("Incompatible receiver, "+e+" required");return r}}}},7659:(e,t,r)=>{var n=r(5112),i=r(7497),o=n("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||s[o]===e)}},3157:(e,t,r)=>{var n=r(4326);e.exports=Array.isArray||function(e){return"Array"==n(e)}},614:(e,t,r)=>{var n=r(4154),i=n.all;e.exports=n.IS_HTMLDDA?function(e){return"function"==typeof e||e===i}:function(e){return"function"==typeof e}},4411:(e,t,r)=>{var n=r(1702),i=r(7293),o=r(614),s=r(648),a=r(5005),c=r(2788),u=function(){},l=[],d=a("Reflect","construct"),p=/^\s*(?:class|function)\b/,h=n(p.exec),f=!p.exec(u),g=function(e){if(!o(e))return!1;try{return d(u,l,e),!0}catch(e){return!1}},m=function(e){if(!o(e))return!1;switch(s(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return f||!!h(p,c(e))}catch(e){return!0}};m.sham=!0,e.exports=!d||i((function(){var e;return g(g.call)||!g(Object)||!g((function(){e=!0}))||e}))?m:g},4705:(e,t,r)=>{var n=r(7293),i=r(614),o=/#|\.prototype\./,s=function(e,t){var r=c[a(e)];return r==l||r!=u&&(i(t)?n(t):!!t)},a=s.normalize=function(e){return String(e).replace(o,".").toLowerCase()},c=s.data={},u=s.NATIVE="N",l=s.POLYFILL="P";e.exports=s},8554:e=>{e.exports=function(e){return null==e}},111:(e,t,r)=>{var n=r(614),i=r(4154),o=i.all;e.exports=i.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:n(e)||e===o}:function(e){return"object"==typeof e?null!==e:n(e)}},1913:e=>{e.exports=!1},7850:(e,t,r)=>{var n=r(111),i=r(4326),o=r(5112)("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},2190:(e,t,r)=>{var n=r(5005),i=r(614),o=r(7976),s=r(3307),a=Object;e.exports=s?function(e){return"symbol"==typeof e}:function(e){var t=n("Symbol");return i(t)&&o(t.prototype,a(e))}},408:(e,t,r)=>{var n=r(9974),i=r(6916),o=r(9670),s=r(6330),a=r(7659),c=r(6244),u=r(7976),l=r(4121),d=r(1246),p=r(9212),h=TypeError,f=function(e,t){this.stopped=e,this.result=t},g=f.prototype;e.exports=function(e,t,r){var m,E,v,y,_,A,I,S=r&&r.that,C=!(!r||!r.AS_ENTRIES),O=!(!r||!r.IS_RECORD),T=!(!r||!r.IS_ITERATOR),P=!(!r||!r.INTERRUPTED),R=n(t,S),N=function(e){return m&&p(m,"normal",e),new f(!0,e)},w=function(e){return C?(o(e),P?R(e[0],e[1],N):R(e[0],e[1])):P?R(e,N):R(e)};if(O)m=e.iterator;else if(T)m=e;else{if(!(E=d(e)))throw h(s(e)+" is not iterable");if(a(E)){for(v=0,y=c(e);y>v;v++)if((_=w(e[v]))&&u(g,_))return _;return new f(!1)}m=l(e,E)}for(A=O?e.next:m.next;!(I=i(A,m)).done;){try{_=w(I.value)}catch(e){p(m,"throw",e)}if("object"==typeof _&&_&&u(g,_))return _}return new f(!1)}},9212:(e,t,r)=>{var n=r(6916),i=r(9670),o=r(8173);e.exports=function(e,t,r){var s,a;i(e);try{if(!(s=o(e,"return"))){if("throw"===t)throw r;return r}s=n(s,e)}catch(e){a=!0,s=e}if("throw"===t)throw r;if(a)throw s;return i(s),r}},3061:(e,t,r)=>{"use strict";var n=r(3383).IteratorPrototype,i=r(30),o=r(9114),s=r(8003),a=r(7497),c=function(){return this};e.exports=function(e,t,r,u){var l=t+" Iterator";return e.prototype=i(n,{next:o(+!u,r)}),s(e,l,!1,!0),a[l]=c,e}},1656:(e,t,r)=>{"use strict";var n=r(2109),i=r(6916),o=r(1913),s=r(6530),a=r(614),c=r(3061),u=r(9518),l=r(7674),d=r(8003),p=r(8880),h=r(8052),f=r(5112),g=r(7497),m=r(3383),E=s.PROPER,v=s.CONFIGURABLE,y=m.IteratorPrototype,_=m.BUGGY_SAFARI_ITERATORS,A=f("iterator"),I="keys",S="values",C="entries",O=function(){return this};e.exports=function(e,t,r,s,f,m,T){c(r,t,s);var P,R,N,w=function(e){if(e===f&&U)return U;if(!_&&e in L)return L[e];switch(e){case I:case S:case C:return function(){return new r(this,e)}}return function(){return new r(this)}},b=t+" Iterator",D=!1,L=e.prototype,x=L[A]||L["@@iterator"]||f&&L[f],U=!_&&x||w(f),M="Array"==t&&L.entries||x;if(M&&(P=u(M.call(new e)))!==Object.prototype&&P.next&&(o||u(P)===y||(l?l(P,y):a(P[A])||h(P,A,O)),d(P,b,!0,!0),o&&(g[b]=O)),E&&f==S&&x&&x.name!==S&&(!o&&v?p(L,"name",S):(D=!0,U=function(){return i(x,this)})),f)if(R={values:w(S),keys:m?U:w(I),entries:w(C)},T)for(N in R)(_||D||!(N in L))&&h(L,N,R[N]);else n({target:t,proto:!0,forced:_||D},R);return o&&!T||L[A]===U||h(L,A,U,{name:f}),g[t]=U,R}},3383:(e,t,r)=>{"use strict";var n,i,o,s=r(7293),a=r(614),c=r(111),u=r(30),l=r(9518),d=r(8052),p=r(5112),h=r(1913),f=p("iterator"),g=!1;[].keys&&("next"in(o=[].keys())?(i=l(l(o)))!==Object.prototype&&(n=i):g=!0),!c(n)||s((function(){var e={};return n[f].call(e)!==e}))?n={}:h&&(n=u(n)),a(n[f])||d(n,f,(function(){return this})),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:g}},7497:e=>{e.exports={}},6244:(e,t,r)=>{var n=r(7466);e.exports=function(e){return n(e.length)}},6339:(e,t,r)=>{var n=r(7293),i=r(614),o=r(2597),s=r(9781),a=r(6530).CONFIGURABLE,c=r(2788),u=r(9909),l=u.enforce,d=u.get,p=Object.defineProperty,h=s&&!n((function(){return 8!==p((function(){}),"length",{value:8}).length})),f=String(String).split("String"),g=e.exports=function(e,t,r){"Symbol("===String(t).slice(0,7)&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(t="get "+t),r&&r.setter&&(t="set "+t),(!o(e,"name")||a&&e.name!==t)&&(s?p(e,"name",{value:t,configurable:!0}):e.name=t),h&&r&&o(r,"arity")&&e.length!==r.arity&&p(e,"length",{value:r.arity});try{r&&o(r,"constructor")&&r.constructor?s&&p(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var n=l(e);return o(n,"source")||(n.source=f.join("string"==typeof t?t:"")),e};Function.prototype.toString=g((function(){return i(this)&&d(this).source||c(this)}),"toString")},4758:e=>{var t=Math.ceil,r=Math.floor;e.exports=Math.trunc||function(e){var n=+e;return(n>0?r:t)(n)}},3929:(e,t,r)=>{var n=r(7850),i=TypeError;e.exports=function(e){if(n(e))throw i("The method doesn't accept regular expressions");return e}},2814:(e,t,r)=>{var n=r(7854),i=r(7293),o=r(1702),s=r(1340),a=r(3111).trim,c=r(1361),u=o("".charAt),l=n.parseFloat,d=n.Symbol,p=d&&d.iterator,h=1/l(c+"-0")!=-1/0||p&&!i((function(){l(Object(p))}));e.exports=h?function(e){var t=a(s(e)),r=l(t);return 0===r&&"-"==u(t,0)?-0:r}:l},3009:(e,t,r)=>{var n=r(7854),i=r(7293),o=r(1702),s=r(1340),a=r(3111).trim,c=r(1361),u=n.parseInt,l=n.Symbol,d=l&&l.iterator,p=/^[+-]?0x/i,h=o(p.exec),f=8!==u(c+"08")||22!==u(c+"0x16")||d&&!i((function(){u(Object(d))}));e.exports=f?function(e,t){var r=a(s(e));return u(r,t>>>0||(h(p,r)?16:10))}:u},1574:(e,t,r)=>{"use strict";var n=r(9781),i=r(1702),o=r(6916),s=r(7293),a=r(1956),c=r(5181),u=r(5296),l=r(7908),d=r(8361),p=Object.assign,h=Object.defineProperty,f=i([].concat);e.exports=!p||s((function(){if(n&&1!==p({b:1},p(h({},"a",{enumerable:!0,get:function(){h(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},r=Symbol(),i="abcdefghijklmnopqrst";return e[r]=7,i.split("").forEach((function(e){t[e]=e})),7!=p({},e)[r]||a(p({},t)).join("")!=i}))?function(e,t){for(var r=l(e),i=arguments.length,s=1,p=c.f,h=u.f;i>s;)for(var g,m=d(arguments[s++]),E=p?f(a(m),p(m)):a(m),v=E.length,y=0;v>y;)g=E[y++],n&&!o(h,m,g)||(r[g]=m[g]);return r}:p},30:(e,t,r)=>{var n,i=r(9670),o=r(6048),s=r(748),a=r(3501),c=r(490),u=r(317),l=r(6200)("IE_PROTO"),d=function(){},p=function(e){return"<script>"+e+"<\/script>"},h=function(e){e.write(p("")),e.close();var t=e.parentWindow.Object;return e=null,t},f=function(){try{n=new ActiveXObject("htmlfile")}catch(e){}var e,t;f="undefined"!=typeof document?document.domain&&n?h(n):((t=u("iframe")).style.display="none",c.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(p("document.F=Object")),e.close(),e.F):h(n);for(var r=s.length;r--;)delete f.prototype[s[r]];return f()};a[l]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(d.prototype=i(e),r=new d,d.prototype=null,r[l]=e):r=f(),void 0===t?r:o.f(r,t)}},6048:(e,t,r)=>{var n=r(9781),i=r(3353),o=r(3070),s=r(9670),a=r(5656),c=r(1956);t.f=n&&!i?Object.defineProperties:function(e,t){s(e);for(var r,n=a(t),i=c(t),u=i.length,l=0;u>l;)o.f(e,r=i[l++],n[r]);return e}},3070:(e,t,r)=>{var n=r(9781),i=r(4664),o=r(3353),s=r(9670),a=r(4948),c=TypeError,u=Object.defineProperty,l=Object.getOwnPropertyDescriptor;t.f=n?o?function(e,t,r){if(s(e),t=a(t),s(r),"function"==typeof e&&"prototype"===t&&"value"in r&&"writable"in r&&!r.writable){var n=l(e,t);n&&n.writable&&(e[t]=r.value,r={configurable:"configurable"in r?r.configurable:n.configurable,enumerable:"enumerable"in r?r.enumerable:n.enumerable,writable:!1})}return u(e,t,r)}:u:function(e,t,r){if(s(e),t=a(t),s(r),i)try{return u(e,t,r)}catch(e){}if("get"in r||"set"in r)throw c("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},1236:(e,t,r)=>{var n=r(9781),i=r(6916),o=r(5296),s=r(9114),a=r(5656),c=r(4948),u=r(2597),l=r(4664),d=Object.getOwnPropertyDescriptor;t.f=n?d:function(e,t){if(e=a(e),t=c(t),l)try{return d(e,t)}catch(e){}if(u(e,t))return s(!i(o.f,e,t),e[t])}},8006:(e,t,r)=>{var n=r(6324),i=r(748).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,i)}},5181:(e,t)=>{t.f=Object.getOwnPropertySymbols},9518:(e,t,r)=>{var n=r(2597),i=r(614),o=r(7908),s=r(6200),a=r(8544),c=s("IE_PROTO"),u=Object,l=u.prototype;e.exports=a?u.getPrototypeOf:function(e){var t=o(e);if(n(t,c))return t[c];var r=t.constructor;return i(r)&&t instanceof r?r.prototype:t instanceof u?l:null}},7976:(e,t,r)=>{var n=r(1702);e.exports=n({}.isPrototypeOf)},6324:(e,t,r)=>{var n=r(1702),i=r(2597),o=r(5656),s=r(1318).indexOf,a=r(3501),c=n([].push);e.exports=function(e,t){var r,n=o(e),u=0,l=[];for(r in n)!i(a,r)&&i(n,r)&&c(l,r);for(;t.length>u;)i(n,r=t[u++])&&(~s(l,r)||c(l,r));return l}},1956:(e,t,r)=>{var n=r(6324),i=r(748);e.exports=Object.keys||function(e){return n(e,i)}},5296:(e,t)=>{"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,i=n&&!r.call({1:2},1);t.f=i?function(e){var t=n(this,e);return!!t&&t.enumerable}:r},7674:(e,t,r)=>{var n=r(1702),i=r(9670),o=r(6077);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=n(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(r,[]),t=r instanceof Array}catch(e){}return function(r,n){return i(r),o(n),t?e(r,n):r.__proto__=n,r}}():void 0)},4699:(e,t,r)=>{var n=r(9781),i=r(1702),o=r(1956),s=r(5656),a=i(r(5296).f),c=i([].push),u=function(e){return function(t){for(var r,i=s(t),u=o(i),l=u.length,d=0,p=[];l>d;)r=u[d++],n&&!a(i,r)||c(p,e?[r,i[r]]:i[r]);return p}};e.exports={entries:u(!0),values:u(!1)}},2140:(e,t,r)=>{var n=r(6916),i=r(614),o=r(111),s=TypeError;e.exports=function(e,t){var r,a;if("string"===t&&i(r=e.toString)&&!o(a=n(r,e)))return a;if(i(r=e.valueOf)&&!o(a=n(r,e)))return a;if("string"!==t&&i(r=e.toString)&&!o(a=n(r,e)))return a;throw s("Can't convert object to primitive value")}},3887:(e,t,r)=>{var n=r(5005),i=r(1702),o=r(8006),s=r(5181),a=r(9670),c=i([].concat);e.exports=n("Reflect","ownKeys")||function(e){var t=o.f(a(e)),r=s.f;return r?c(t,r(e)):t}},2626:(e,t,r)=>{var n=r(3070).f;e.exports=function(e,t,r){r in e||n(e,r,{configurable:!0,get:function(){return t[r]},set:function(e){t[r]=e}})}},7651:(e,t,r)=>{var n=r(6916),i=r(9670),o=r(614),s=r(4326),a=r(2261),c=TypeError;e.exports=function(e,t){var r=e.exec;if(o(r)){var u=n(r,e,t);return null!==u&&i(u),u}if("RegExp"===s(e))return n(a,e,t);throw c("RegExp#exec called on incompatible receiver")}},2261:(e,t,r)=>{"use strict";var n,i,o=r(6916),s=r(1702),a=r(1340),c=r(7066),u=r(2999),l=r(2309),d=r(30),p=r(9909).get,h=r(9441),f=r(7168),g=l("native-string-replace",String.prototype.replace),m=RegExp.prototype.exec,E=m,v=s("".charAt),y=s("".indexOf),_=s("".replace),A=s("".slice),I=(i=/b*/g,o(m,n=/a/,"a"),o(m,i,"a"),0!==n.lastIndex||0!==i.lastIndex),S=u.BROKEN_CARET,C=void 0!==/()??/.exec("")[1];(I||C||S||h||f)&&(E=function(e){var t,r,n,i,s,u,l,h=this,f=p(h),O=a(e),T=f.raw;if(T)return T.lastIndex=h.lastIndex,t=o(E,T,O),h.lastIndex=T.lastIndex,t;var P=f.groups,R=S&&h.sticky,N=o(c,h),w=h.source,b=0,D=O;if(R&&(N=_(N,"y",""),-1===y(N,"g")&&(N+="g"),D=A(O,h.lastIndex),h.lastIndex>0&&(!h.multiline||h.multiline&&"\n"!==v(O,h.lastIndex-1))&&(w="(?: "+w+")",D=" "+D,b++),r=new RegExp("^(?:"+w+")",N)),C&&(r=new RegExp("^"+w+"$(?!\\s)",N)),I&&(n=h.lastIndex),i=o(m,R?r:h,D),R?i?(i.input=A(i.input,b),i[0]=A(i[0],b),i.index=h.lastIndex,h.lastIndex+=i[0].length):h.lastIndex=0:I&&i&&(h.lastIndex=h.global?i.index+i[0].length:n),C&&i&&i.length>1&&o(g,i[0],r,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(i[s]=void 0)})),i&&P)for(i.groups=u=d(null),s=0;s<P.length;s++)u[(l=P[s])[0]]=i[l[1]];return i}),e.exports=E},7066:(e,t,r)=>{"use strict";var n=r(9670);e.exports=function(){var e=n(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},4706:(e,t,r)=>{var n=r(6916),i=r(2597),o=r(7976),s=r(7066),a=RegExp.prototype;e.exports=function(e){var t=e.flags;return void 0!==t||"flags"in a||i(e,"flags")||!o(a,e)?t:n(s,e)}},2999:(e,t,r)=>{var n=r(7293),i=r(7854).RegExp,o=n((function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),s=o||n((function(){return!i("a","y").sticky})),a=o||n((function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:a,MISSED_STICKY:s,UNSUPPORTED_Y:o}},9441:(e,t,r)=>{var n=r(7293),i=r(7854).RegExp;e.exports=n((function(){var e=i(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},7168:(e,t,r)=>{var n=r(7293),i=r(7854).RegExp;e.exports=n((function(){var e=i("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},4488:(e,t,r)=>{var n=r(8554),i=TypeError;e.exports=function(e){if(n(e))throw i("Can't call method on "+e);return e}},1150:e=>{e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},6340:(e,t,r)=>{"use strict";var n=r(5005),i=r(3070),o=r(5112),s=r(9781),a=o("species");e.exports=function(e){var t=n(e),r=i.f;s&&t&&!t[a]&&r(t,a,{configurable:!0,get:function(){return this}})}},8003:(e,t,r)=>{var n=r(3070).f,i=r(2597),o=r(5112)("toStringTag");e.exports=function(e,t,r){e&&!r&&(e=e.prototype),e&&!i(e,o)&&n(e,o,{configurable:!0,value:t})}},6200:(e,t,r)=>{var n=r(2309),i=r(9711),o=n("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},5465:(e,t,r)=>{var n=r(7854),i=r(3072),o="__core-js_shared__",s=n[o]||i(o,{});e.exports=s},2309:(e,t,r)=>{var n=r(1913),i=r(5465);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.26.0",mode:n?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.26.0/LICENSE",source:"https://github.com/zloirock/core-js"})},6707:(e,t,r)=>{var n=r(9670),i=r(9483),o=r(8554),s=r(5112)("species");e.exports=function(e,t){var r,a=n(e).constructor;return void 0===a||o(r=n(a)[s])?t:i(r)}},8710:(e,t,r)=>{var n=r(1702),i=r(9303),o=r(1340),s=r(4488),a=n("".charAt),c=n("".charCodeAt),u=n("".slice),l=function(e){return function(t,r){var n,l,d=o(s(t)),p=i(r),h=d.length;return p<0||p>=h?e?"":void 0:(n=c(d,p))<55296||n>56319||p+1===h||(l=c(d,p+1))<56320||l>57343?e?a(d,p):n:e?u(d,p,p+2):l-56320+(n-55296<<10)+65536}};e.exports={codeAt:l(!1),charAt:l(!0)}},3197:(e,t,r)=>{"use strict";var n=r(1702),i=2147483647,o=/[^\0-\u007E]/,s=/[.\u3002\uFF0E\uFF61]/g,a="Overflow: input needs wider integers to process",c=RangeError,u=n(s.exec),l=Math.floor,d=String.fromCharCode,p=n("".charCodeAt),h=n([].join),f=n([].push),g=n("".replace),m=n("".split),E=n("".toLowerCase),v=function(e){return e+22+75*(e<26)},y=function(e,t,r){var n=0;for(e=r?l(e/700):e>>1,e+=l(e/t);e>455;)e=l(e/35),n+=36;return l(n+36*e/(e+38))},_=function(e){var t=[];e=function(e){for(var t=[],r=0,n=e.length;r<n;){var i=p(e,r++);if(i>=55296&&i<=56319&&r<n){var o=p(e,r++);56320==(64512&o)?f(t,((1023&i)<<10)+(1023&o)+65536):(f(t,i),r--)}else f(t,i)}return t}(e);var r,n,o=e.length,s=128,u=0,g=72;for(r=0;r<e.length;r++)(n=e[r])<128&&f(t,d(n));var m=t.length,E=m;for(m&&f(t,"-");E<o;){var _=i;for(r=0;r<e.length;r++)(n=e[r])>=s&&n<_&&(_=n);var A=E+1;if(_-s>l((i-u)/A))throw c(a);for(u+=(_-s)*A,s=_,r=0;r<e.length;r++){if((n=e[r])<s&&++u>i)throw c(a);if(n==s){for(var I=u,S=36;;){var C=S<=g?1:S>=g+26?26:S-g;if(I<C)break;var O=I-C,T=36-C;f(t,d(v(C+O%T))),I=l(O/T),S+=36}f(t,d(v(I))),g=y(u,A,E==m),u=0,E++}}u++,s++}return h(t,"")};e.exports=function(e){var t,r,n=[],i=m(g(E(e),s,"."),".");for(t=0;t<i.length;t++)r=i[t],f(n,u(o,r)?"xn--"+_(r):r);return h(n,".")}},8415:(e,t,r)=>{"use strict";var n=r(9303),i=r(1340),o=r(4488),s=RangeError;e.exports=function(e){var t=i(o(this)),r="",a=n(e);if(a<0||a==1/0)throw s("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(t+=t))1&a&&(r+=t);return r}},6091:(e,t,r)=>{var n=r(6530).PROPER,i=r(7293),o=r(1361);e.exports=function(e){return i((function(){return!!o[e]()||"​᠎"!=="​᠎"[e]()||n&&o[e].name!==e}))}},3111:(e,t,r)=>{var n=r(1702),i=r(4488),o=r(1340),s=r(1361),a=n("".replace),c="["+s+"]",u=RegExp("^"+c+c+"*"),l=RegExp(c+c+"*$"),d=function(e){return function(t){var r=o(i(t));return 1&e&&(r=a(r,u,"")),2&e&&(r=a(r,l,"")),r}};e.exports={start:d(1),end:d(2),trim:d(3)}},6293:(e,t,r)=>{var n=r(7392),i=r(7293);e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},863:(e,t,r)=>{var n=r(1702);e.exports=n(1..valueOf)},1400:(e,t,r)=>{var n=r(9303),i=Math.max,o=Math.min;e.exports=function(e,t){var r=n(e);return r<0?i(r+t,0):o(r,t)}},5656:(e,t,r)=>{var n=r(8361),i=r(4488);e.exports=function(e){return n(i(e))}},9303:(e,t,r)=>{var n=r(4758);e.exports=function(e){var t=+e;return t!=t||0===t?0:n(t)}},7466:(e,t,r)=>{var n=r(9303),i=Math.min;e.exports=function(e){return e>0?i(n(e),9007199254740991):0}},7908:(e,t,r)=>{var n=r(4488),i=Object;e.exports=function(e){return i(n(e))}},7593:(e,t,r)=>{var n=r(6916),i=r(111),o=r(2190),s=r(8173),a=r(2140),c=r(5112),u=TypeError,l=c("toPrimitive");e.exports=function(e,t){if(!i(e)||o(e))return e;var r,c=s(e,l);if(c){if(void 0===t&&(t="default"),r=n(c,e,t),!i(r)||o(r))return r;throw u("Can't convert object to primitive value")}return void 0===t&&(t="number"),a(e,t)}},4948:(e,t,r)=>{var n=r(7593),i=r(2190);e.exports=function(e){var t=n(e,"string");return i(t)?t:t+""}},1694:(e,t,r)=>{var n={};n[r(5112)("toStringTag")]="z",e.exports="[object z]"===String(n)},1340:(e,t,r)=>{var n=r(648),i=String;e.exports=function(e){if("Symbol"===n(e))throw TypeError("Cannot convert a Symbol value to a string");return i(e)}},6330:e=>{var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},9711:(e,t,r)=>{var n=r(1702),i=0,o=Math.random(),s=n(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+s(++i+o,36)}},5143:(e,t,r)=>{var n=r(7293),i=r(5112),o=r(1913),s=i("iterator");e.exports=!n((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,r="";return e.pathname="c%20d",t.forEach((function(e,n){t.delete("b"),r+=n+e})),o&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[s]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==r||"x"!==new URL("http://x",void 0).host}))},3307:(e,t,r)=>{var n=r(6293);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:(e,t,r)=>{var n=r(9781),i=r(7293);e.exports=n&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},8053:e=>{var t=TypeError;e.exports=function(e,r){if(e<r)throw t("Not enough arguments");return e}},4811:(e,t,r)=>{var n=r(7854),i=r(614),o=n.WeakMap;e.exports=i(o)&&/native code/.test(String(o))},5112:(e,t,r)=>{var n=r(7854),i=r(2309),o=r(2597),s=r(9711),a=r(6293),c=r(3307),u=i("wks"),l=n.Symbol,d=l&&l.for,p=c?l:l&&l.withoutSetter||s;e.exports=function(e){if(!o(u,e)||!a&&"string"!=typeof u[e]){var t="Symbol."+e;a&&o(l,e)?u[e]=l[e]:u[e]=c&&d?d(t):p(t)}return u[e]}},1361:e=>{e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},6699:(e,t,r)=>{"use strict";var n=r(2109),i=r(1318).includes,o=r(7293),s=r(1223);n({target:"Array",proto:!0,forced:o((function(){return!Array(1).includes()}))},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),s("includes")},6992:(e,t,r)=>{"use strict";var n=r(5656),i=r(1223),o=r(7497),s=r(9909),a=r(3070).f,c=r(1656),u=r(6178),l=r(1913),d=r(9781),p="Array Iterator",h=s.set,f=s.getterFor(p);e.exports=c(Array,"Array",(function(e,t){h(this,{type:p,target:n(e),index:0,kind:t})}),(function(){var e=f(this),t=e.target,r=e.kind,n=e.index++;return!t||n>=t.length?(e.target=void 0,u(void 0,!0)):u("keys"==r?n:"values"==r?t[n]:[n,t[n]],!1)}),"values");var g=o.Arguments=o.Array;if(i("keys"),i("values"),i("entries"),!l&&d&&"values"!==g.name)try{a(g,"name",{value:"values"})}catch(e){}},5827:(e,t,r)=>{"use strict";var n=r(2109),i=r(3671).left,o=r(9341),s=r(7392),a=r(5268);n({target:"Array",proto:!0,forced:!o("reduce")||!a&&s>79&&s<83},{reduce:function(e){var t=arguments.length;return i(this,e,t,t>1?arguments[1]:void 0)}})},1874:(e,t,r)=>{var n=r(2109),i=r(2814);n({target:"Number",stat:!0,forced:Number.parseFloat!=i},{parseFloat:i})},9494:(e,t,r)=>{var n=r(2109),i=r(3009);n({target:"Number",stat:!0,forced:Number.parseInt!=i},{parseInt:i})},6977:(e,t,r)=>{"use strict";var n=r(2109),i=r(1702),o=r(9303),s=r(863),a=r(8415),c=r(7293),u=RangeError,l=String,d=Math.floor,p=i(a),h=i("".slice),f=i(1..toFixed),g=function(e,t,r){return 0===t?r:t%2==1?g(e,t-1,r*e):g(e*e,t/2,r)},m=function(e,t,r){for(var n=-1,i=r;++n<6;)i+=t*e[n],e[n]=i%1e7,i=d(i/1e7)},E=function(e,t){for(var r=6,n=0;--r>=0;)n+=e[r],e[r]=d(n/t),n=n%t*1e7},v=function(e){for(var t=6,r="";--t>=0;)if(""!==r||0===t||0!==e[t]){var n=l(e[t]);r=""===r?n:r+p("0",7-n.length)+n}return r};n({target:"Number",proto:!0,forced:c((function(){return"0.000"!==f(8e-5,3)||"1"!==f(.9,0)||"1.25"!==f(1.255,2)||"1000000000000000128"!==f(0xde0b6b3a7640080,0)}))||!c((function(){f({})}))},{toFixed:function(e){var t,r,n,i,a=s(this),c=o(e),d=[0,0,0,0,0,0],f="",y="0";if(c<0||c>20)throw u("Incorrect fraction digits");if(a!=a)return"NaN";if(a<=-1e21||a>=1e21)return l(a);if(a<0&&(f="-",a=-a),a>1e-21)if(r=(t=function(e){for(var t=0,r=e;r>=4096;)t+=12,r/=4096;for(;r>=2;)t+=1,r/=2;return t}(a*g(2,69,1))-69)<0?a*g(2,-t,1):a/g(2,t,1),r*=4503599627370496,(t=52-t)>0){for(m(d,0,r),n=c;n>=7;)m(d,1e7,0),n-=7;for(m(d,g(10,n,1),0),n=t-1;n>=23;)E(d,1<<23),n-=23;E(d,1<<n),m(d,1,1),E(d,2),y=v(d)}else m(d,0,r),m(d,1<<-t,0),y=v(d)+p("0",c);return c>0?f+((i=y.length)<=c?"0."+p("0",c-i)+y:h(y,0,i-c)+"."+h(y,i-c)):f+y}})},9601:(e,t,r)=>{var n=r(2109),i=r(1574);n({target:"Object",stat:!0,arity:2,forced:Object.assign!==i},{assign:i})},9720:(e,t,r)=>{var n=r(2109),i=r(4699).entries;n({target:"Object",stat:!0},{entries:function(e){return i(e)}})},8559:(e,t,r)=>{var n=r(2109),i=r(408),o=r(6135);n({target:"Object",stat:!0},{fromEntries:function(e){var t={};return i(e,(function(e,r){o(t,e,r)}),{AS_ENTRIES:!0}),t}})},6833:(e,t,r)=>{var n=r(2109),i=r(4699).values;n({target:"Object",stat:!0},{values:function(e){return i(e)}})},4603:(e,t,r)=>{var n=r(9781),i=r(7854),o=r(1702),s=r(4705),a=r(9587),c=r(8880),u=r(8006).f,l=r(7976),d=r(7850),p=r(1340),h=r(4706),f=r(2999),g=r(2626),m=r(8052),E=r(7293),v=r(2597),y=r(9909).enforce,_=r(6340),A=r(5112),I=r(9441),S=r(7168),C=A("match"),O=i.RegExp,T=O.prototype,P=i.SyntaxError,R=o(T.exec),N=o("".charAt),w=o("".replace),b=o("".indexOf),D=o("".slice),L=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,x=/a/g,U=/a/g,M=new O(x)!==x,k=f.MISSED_STICKY,H=f.UNSUPPORTED_Y;if(s("RegExp",n&&(!M||k||I||S||E((function(){return U[C]=!1,O(x)!=x||O(U)==U||"/a/i"!=O(x,"i")}))))){for(var B=function(e,t){var r,n,i,o,s,u,f=l(T,this),g=d(e),m=void 0===t,E=[],_=e;if(!f&&g&&m&&e.constructor===B)return e;if((g||l(T,e))&&(e=e.source,m&&(t=h(_))),e=void 0===e?"":p(e),t=void 0===t?"":p(t),_=e,I&&"dotAll"in x&&(n=!!t&&b(t,"s")>-1)&&(t=w(t,/s/g,"")),r=t,k&&"sticky"in x&&(i=!!t&&b(t,"y")>-1)&&H&&(t=w(t,/y/g,"")),S&&(o=function(e){for(var t,r=e.length,n=0,i="",o=[],s={},a=!1,c=!1,u=0,l="";n<=r;n++){if("\\"===(t=N(e,n)))t+=N(e,++n);else if("]"===t)a=!1;else if(!a)switch(!0){case"["===t:a=!0;break;case"("===t:R(L,D(e,n+1))&&(n+=2,c=!0),i+=t,u++;continue;case">"===t&&c:if(""===l||v(s,l))throw new P("Invalid capture group name");s[l]=!0,o[o.length]=[l,u],c=!1,l="";continue}c?l+=t:i+=t}return[i,o]}(e),e=o[0],E=o[1]),s=a(O(e,t),f?this:T,B),(n||i||E.length)&&(u=y(s),n&&(u.dotAll=!0,u.raw=B(function(e){for(var t,r=e.length,n=0,i="",o=!1;n<=r;n++)"\\"!==(t=N(e,n))?o||"."!==t?("["===t?o=!0:"]"===t&&(o=!1),i+=t):i+="[\\s\\S]":i+=t+N(e,++n);return i}(e),r)),i&&(u.sticky=!0),E.length&&(u.groups=E)),e!==_)try{c(s,"source",""===_?"(?:)":_)}catch(e){}return s},G=u(O),F=0;G.length>F;)g(B,O,G[F++]);T.constructor=B,B.prototype=T,m(i,"RegExp",B,{constructor:!0})}_("RegExp")},4916:(e,t,r)=>{"use strict";var n=r(2109),i=r(2261);n({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},9714:(e,t,r)=>{"use strict";var n=r(6530).PROPER,i=r(8052),o=r(9670),s=r(1340),a=r(7293),c=r(4706),u="toString",l=RegExp.prototype.toString,d=a((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),p=n&&l.name!=u;(d||p)&&i(RegExp.prototype,u,(function(){var e=o(this);return"/"+s(e.source)+"/"+s(c(e))}),{unsafe:!0})},7852:(e,t,r)=>{"use strict";var n,i=r(2109),o=r(1702),s=r(1236).f,a=r(7466),c=r(1340),u=r(3929),l=r(4488),d=r(4964),p=r(1913),h=o("".endsWith),f=o("".slice),g=Math.min,m=d("endsWith");i({target:"String",proto:!0,forced:!(!p&&!m&&(n=s(String.prototype,"endsWith"),n&&!n.writable)||m)},{endsWith:function(e){var t=c(l(this));u(e);var r=arguments.length>1?arguments[1]:void 0,n=t.length,i=void 0===r?n:g(a(r),n),o=c(e);return h?h(t,o,i):f(t,i-o.length,i)===o}})},2023:(e,t,r)=>{"use strict";var n=r(2109),i=r(1702),o=r(3929),s=r(4488),a=r(1340),c=r(4964),u=i("".indexOf);n({target:"String",proto:!0,forced:!c("includes")},{includes:function(e){return!!~u(a(s(this)),a(o(e)),arguments.length>1?arguments[1]:void 0)}})},8783:(e,t,r)=>{"use strict";var n=r(8710).charAt,i=r(1340),o=r(9909),s=r(1656),a=r(6178),c="String Iterator",u=o.set,l=o.getterFor(c);s(String,"String",(function(e){u(this,{type:c,string:i(e),index:0})}),(function(){var e,t=l(this),r=t.string,i=t.index;return i>=r.length?a(void 0,!0):(e=n(r,i),t.index+=e.length,a(e,!1))}))},4723:(e,t,r)=>{"use strict";var n=r(6916),i=r(7007),o=r(9670),s=r(8554),a=r(7466),c=r(1340),u=r(4488),l=r(8173),d=r(1530),p=r(7651);i("match",(function(e,t,r){return[function(t){var r=u(this),i=s(t)?void 0:l(t,e);return i?n(i,t,r):new RegExp(t)[e](c(r))},function(e){var n=o(this),i=c(e),s=r(t,n,i);if(s.done)return s.value;if(!n.global)return p(n,i);var u=n.unicode;n.lastIndex=0;for(var l,h=[],f=0;null!==(l=p(n,i));){var g=c(l[0]);h[f]=g,""===g&&(n.lastIndex=d(i,a(n.lastIndex),u)),f++}return 0===f?null:h}]}))},5306:(e,t,r)=>{"use strict";var n=r(2104),i=r(6916),o=r(1702),s=r(7007),a=r(7293),c=r(9670),u=r(614),l=r(8554),d=r(9303),p=r(7466),h=r(1340),f=r(4488),g=r(1530),m=r(8173),E=r(647),v=r(7651),y=r(5112)("replace"),_=Math.max,A=Math.min,I=o([].concat),S=o([].push),C=o("".indexOf),O=o("".slice),T="$0"==="a".replace(/./,"$0"),P=!!/./[y]&&""===/./[y]("a","$0");s("replace",(function(e,t,r){var o=P?"$":"$0";return[function(e,r){var n=f(this),o=l(e)?void 0:m(e,y);return o?i(o,e,n,r):i(t,h(n),e,r)},function(e,i){var s=c(this),a=h(e);if("string"==typeof i&&-1===C(i,o)&&-1===C(i,"$<")){var l=r(t,s,a,i);if(l.done)return l.value}var f=u(i);f||(i=h(i));var m=s.global;if(m){var y=s.unicode;s.lastIndex=0}for(var T=[];;){var P=v(s,a);if(null===P)break;if(S(T,P),!m)break;""===h(P[0])&&(s.lastIndex=g(a,p(s.lastIndex),y))}for(var R,N="",w=0,b=0;b<T.length;b++){for(var D=h((P=T[b])[0]),L=_(A(d(P.index),a.length),0),x=[],U=1;U<P.length;U++)S(x,void 0===(R=P[U])?R:String(R));var M=P.groups;if(f){var k=I([D],x,L,a);void 0!==M&&S(k,M);var H=h(n(i,void 0,k))}else H=E(D,a,L,x,M,i);L>=w&&(N+=O(a,w,L)+H,w=L+D.length)}return N+O(a,w)}]}),!!a((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!T||P)},4765:(e,t,r)=>{"use strict";var n=r(6916),i=r(7007),o=r(9670),s=r(8554),a=r(4488),c=r(1150),u=r(1340),l=r(8173),d=r(7651);i("search",(function(e,t,r){return[function(t){var r=a(this),i=s(t)?void 0:l(t,e);return i?n(i,t,r):new RegExp(t)[e](u(r))},function(e){var n=o(this),i=u(e),s=r(t,n,i);if(s.done)return s.value;var a=n.lastIndex;c(a,0)||(n.lastIndex=0);var l=d(n,i);return c(n.lastIndex,a)||(n.lastIndex=a),null===l?-1:l.index}]}))},3123:(e,t,r)=>{"use strict";var n=r(2104),i=r(6916),o=r(1702),s=r(7007),a=r(9670),c=r(8554),u=r(7850),l=r(4488),d=r(6707),p=r(1530),h=r(7466),f=r(1340),g=r(8173),m=r(1589),E=r(7651),v=r(2261),y=r(2999),_=r(7293),A=y.UNSUPPORTED_Y,I=4294967295,S=Math.min,C=[].push,O=o(/./.exec),T=o(C),P=o("".slice);s("split",(function(e,t,r){var o;return o="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,r){var o=f(l(this)),s=void 0===r?I:r>>>0;if(0===s)return[];if(void 0===e)return[o];if(!u(e))return i(t,o,e,s);for(var a,c,d,p=[],h=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),g=0,E=new RegExp(e.source,h+"g");(a=i(v,E,o))&&!((c=E.lastIndex)>g&&(T(p,P(o,g,a.index)),a.length>1&&a.index<o.length&&n(C,p,m(a,1)),d=a[0].length,g=c,p.length>=s));)E.lastIndex===a.index&&E.lastIndex++;return g===o.length?!d&&O(E,"")||T(p,""):T(p,P(o,g)),p.length>s?m(p,0,s):p}:"0".split(void 0,0).length?function(e,r){return void 0===e&&0===r?[]:i(t,this,e,r)}:t,[function(t,r){var n=l(this),s=c(t)?void 0:g(t,e);return s?i(s,t,n,r):i(o,f(n),t,r)},function(e,n){var i=a(this),s=f(e),c=r(o,i,s,n,o!==t);if(c.done)return c.value;var u=d(i,RegExp),l=i.unicode,g=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(A?"g":"y"),m=new u(A?"^(?:"+i.source+")":i,g),v=void 0===n?I:n>>>0;if(0===v)return[];if(0===s.length)return null===E(m,s)?[s]:[];for(var y=0,_=0,C=[];_<s.length;){m.lastIndex=A?0:_;var O,R=E(m,A?P(s,_):s);if(null===R||(O=S(h(m.lastIndex+(A?_:0)),s.length))===y)_=p(s,_,l);else{if(T(C,P(s,y,_)),C.length===v)return C;for(var N=1;N<=R.length-1;N++)if(T(C,R[N]),C.length===v)return C;_=y=O}}return T(C,P(s,y)),C}]}),!!_((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2!==r.length||"a"!==r[0]||"b"!==r[1]})),A)},6755:(e,t,r)=>{"use strict";var n,i=r(2109),o=r(1702),s=r(1236).f,a=r(7466),c=r(1340),u=r(3929),l=r(4488),d=r(4964),p=r(1913),h=o("".startsWith),f=o("".slice),g=Math.min,m=d("startsWith");i({target:"String",proto:!0,forced:!(!p&&!m&&(n=s(String.prototype,"startsWith"),n&&!n.writable)||m)},{startsWith:function(e){var t=c(l(this));u(e);var r=a(g(arguments.length>1?arguments[1]:void 0,t.length)),n=c(e);return h?h(t,n,r):f(t,r,r+n.length)===n}})},3210:(e,t,r)=>{"use strict";var n=r(2109),i=r(3111).trim;n({target:"String",proto:!0,forced:r(6091)("trim")},{trim:function(){return i(this)}})},4747:(e,t,r)=>{var n=r(7854),i=r(8324),o=r(8509),s=r(8533),a=r(8880),c=function(e){if(e&&e.forEach!==s)try{a(e,"forEach",s)}catch(t){e.forEach=s}};for(var u in i)i[u]&&c(n[u]&&n[u].prototype);c(o)},3948:(e,t,r)=>{var n=r(7854),i=r(8324),o=r(8509),s=r(6992),a=r(8880),c=r(5112),u=c("iterator"),l=c("toStringTag"),d=s.values,p=function(e,t){if(e){if(e[u]!==d)try{a(e,u,d)}catch(t){e[u]=d}if(e[l]||a(e,l,t),i[t])for(var r in s)if(e[r]!==s[r])try{a(e,r,s[r])}catch(t){e[r]=s[r]}}};for(var h in i)p(n[h]&&n[h].prototype,h);p(o,"DOMTokenList")},5556:(e,t,r)=>{"use strict";r(6992);var n=r(2109),i=r(7854),o=r(6916),s=r(1702),a=r(9781),c=r(5143),u=r(8052),l=r(9190),d=r(8003),p=r(3061),h=r(9909),f=r(5787),g=r(614),m=r(2597),E=r(9974),v=r(648),y=r(9670),_=r(111),A=r(1340),I=r(30),S=r(9114),C=r(4121),O=r(1246),T=r(8053),P=r(5112),R=r(4362),N=P("iterator"),w="URLSearchParams",b="URLSearchParamsIterator",D=h.set,L=h.getterFor(w),x=h.getterFor(b),U=Object.getOwnPropertyDescriptor,M=function(e){if(!a)return i[e];var t=U(i,e);return t&&t.value},k=M("fetch"),H=M("Request"),B=M("Headers"),G=H&&H.prototype,F=B&&B.prototype,j=i.RegExp,q=i.TypeError,V=i.decodeURIComponent,Y=i.encodeURIComponent,z=s("".charAt),K=s([].join),W=s([].push),$=s("".replace),Q=s([].shift),Z=s([].splice),J=s("".split),X=s("".slice),ee=/\+/g,te=Array(4),re=function(e){return te[e-1]||(te[e-1]=j("((?:%[\\da-f]{2}){"+e+"})","gi"))},ne=function(e){try{return V(e)}catch(t){return e}},ie=function(e){var t=$(e,ee," "),r=4;try{return V(t)}catch(e){for(;r;)t=$(t,re(r--),ne);return t}},oe=/[!'()~]|%20/g,se={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},ae=function(e){return se[e]},ce=function(e){return $(Y(e),oe,ae)},ue=p((function(e,t){D(this,{type:b,iterator:C(L(e).entries),kind:t})}),"Iterator",(function(){var e=x(this),t=e.kind,r=e.iterator.next(),n=r.value;return r.done||(r.value="keys"===t?n.key:"values"===t?n.value:[n.key,n.value]),r}),!0),le=function(e){this.entries=[],this.url=null,void 0!==e&&(_(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===z(e,0)?X(e,1):e:A(e)))};le.prototype={type:w,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,r,n,i,s,a,c,u=O(e);if(u)for(r=(t=C(e,u)).next;!(n=o(r,t)).done;){if(s=(i=C(y(n.value))).next,(a=o(s,i)).done||(c=o(s,i)).done||!o(s,i).done)throw q("Expected sequence with length 2");W(this.entries,{key:A(a.value),value:A(c.value)})}else for(var l in e)m(e,l)&&W(this.entries,{key:l,value:A(e[l])})},parseQuery:function(e){if(e)for(var t,r,n=J(e,"&"),i=0;i<n.length;)(t=n[i++]).length&&(r=J(t,"="),W(this.entries,{key:ie(Q(r)),value:ie(K(r,"="))}))},serialize:function(){for(var e,t=this.entries,r=[],n=0;n<t.length;)e=t[n++],W(r,ce(e.key)+"="+ce(e.value));return K(r,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var de=function(){f(this,pe);var e=arguments.length>0?arguments[0]:void 0;D(this,new le(e))},pe=de.prototype;if(l(pe,{append:function(e,t){T(arguments.length,2);var r=L(this);W(r.entries,{key:A(e),value:A(t)}),r.updateURL()},delete:function(e){T(arguments.length,1);for(var t=L(this),r=t.entries,n=A(e),i=0;i<r.length;)r[i].key===n?Z(r,i,1):i++;t.updateURL()},get:function(e){T(arguments.length,1);for(var t=L(this).entries,r=A(e),n=0;n<t.length;n++)if(t[n].key===r)return t[n].value;return null},getAll:function(e){T(arguments.length,1);for(var t=L(this).entries,r=A(e),n=[],i=0;i<t.length;i++)t[i].key===r&&W(n,t[i].value);return n},has:function(e){T(arguments.length,1);for(var t=L(this).entries,r=A(e),n=0;n<t.length;)if(t[n++].key===r)return!0;return!1},set:function(e,t){T(arguments.length,1);for(var r,n=L(this),i=n.entries,o=!1,s=A(e),a=A(t),c=0;c<i.length;c++)(r=i[c]).key===s&&(o?Z(i,c--,1):(o=!0,r.value=a));o||W(i,{key:s,value:a}),n.updateURL()},sort:function(){var e=L(this);R(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){for(var t,r=L(this).entries,n=E(e,arguments.length>1?arguments[1]:void 0),i=0;i<r.length;)n((t=r[i++]).value,t.key,this)},keys:function(){return new ue(this,"keys")},values:function(){return new ue(this,"values")},entries:function(){return new ue(this,"entries")}},{enumerable:!0}),u(pe,N,pe.entries,{name:"entries"}),u(pe,"toString",(function(){return L(this).serialize()}),{enumerable:!0}),d(de,w),n({global:!0,constructor:!0,forced:!c},{URLSearchParams:de}),!c&&g(B)){var he=s(F.has),fe=s(F.set),ge=function(e){if(_(e)){var t,r=e.body;if(v(r)===w)return t=e.headers?new B(e.headers):new B,he(t,"content-type")||fe(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),I(e,{body:S(0,A(r)),headers:S(0,t)})}return e};if(g(k)&&n({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(e){return k(e,arguments.length>1?ge(arguments[1]):{})}}),g(H)){var me=function(e){return f(this,G),new H(e,arguments.length>1?ge(arguments[1]):{})};G.constructor=me,me.prototype=G,n({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:me})}}e.exports={URLSearchParams:de,getState:L}},1637:(e,t,r)=>{r(5556)},8789:(e,t,r)=>{"use strict";r(8783);var n,i=r(2109),o=r(9781),s=r(5143),a=r(7854),c=r(9974),u=r(1702),l=r(8052),d=r(7045),p=r(5787),h=r(2597),f=r(1574),g=r(8457),m=r(1589),E=r(8710).codeAt,v=r(3197),y=r(1340),_=r(8003),A=r(8053),I=r(5556),S=r(9909),C=S.set,O=S.getterFor("URL"),T=I.URLSearchParams,P=I.getState,R=a.URL,N=a.TypeError,w=a.parseInt,b=Math.floor,D=Math.pow,L=u("".charAt),x=u(/./.exec),U=u([].join),M=u(1..toString),k=u([].pop),H=u([].push),B=u("".replace),G=u([].shift),F=u("".split),j=u("".slice),q=u("".toLowerCase),V=u([].unshift),Y="Invalid scheme",z="Invalid host",K="Invalid port",W=/[a-z]/i,$=/[\d+-.a-z]/i,Q=/\d/,Z=/^0x/i,J=/^[0-7]+$/,X=/^\d+$/,ee=/^[\da-f]+$/i,te=/[\0\t\n\r #%/:<>?@[\\\]^|]/,re=/[\0\t\n\r #/:<>?@[\\\]^|]/,ne=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,ie=/[\t\n\r]/g,oe=function(e){var t,r,n,i;if("number"==typeof e){for(t=[],r=0;r<4;r++)V(t,e%256),e=b(e/256);return U(t,".")}if("object"==typeof e){for(t="",n=function(e){for(var t=null,r=1,n=null,i=0,o=0;o<8;o++)0!==e[o]?(i>r&&(t=n,r=i),n=null,i=0):(null===n&&(n=o),++i);return i>r&&(t=n,r=i),t}(e),r=0;r<8;r++)i&&0===e[r]||(i&&(i=!1),n===r?(t+=r?":":"::",i=!0):(t+=M(e[r],16),r<7&&(t+=":")));return"["+t+"]"}return e},se={},ae=f({},se,{" ":1,'"':1,"<":1,">":1,"`":1}),ce=f({},ae,{"#":1,"?":1,"{":1,"}":1}),ue=f({},ce,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),le=function(e,t){var r=E(e,0);return r>32&&r<127&&!h(t,e)?e:encodeURIComponent(e)},de={ftp:21,file:null,http:80,https:443,ws:80,wss:443},pe=function(e,t){var r;return 2==e.length&&x(W,L(e,0))&&(":"==(r=L(e,1))||!t&&"|"==r)},he=function(e){var t;return e.length>1&&pe(j(e,0,2))&&(2==e.length||"/"===(t=L(e,2))||"\\"===t||"?"===t||"#"===t)},fe=function(e){return"."===e||"%2e"===q(e)},ge={},me={},Ee={},ve={},ye={},_e={},Ae={},Ie={},Se={},Ce={},Oe={},Te={},Pe={},Re={},Ne={},we={},be={},De={},Le={},xe={},Ue={},Me=function(e,t,r){var n,i,o,s=y(e);if(t){if(i=this.parse(s))throw N(i);this.searchParams=null}else{if(void 0!==r&&(n=new Me(r,!0)),i=this.parse(s,null,n))throw N(i);(o=P(new T)).bindURL(this),this.searchParams=o}};Me.prototype={type:"URL",parse:function(e,t,r){var i,o,s,a,c,u=this,l=t||ge,d=0,p="",f=!1,E=!1,v=!1;for(e=y(e),t||(u.scheme="",u.username="",u.password="",u.host=null,u.port=null,u.path=[],u.query=null,u.fragment=null,u.cannotBeABaseURL=!1,e=B(e,ne,"")),e=B(e,ie,""),i=g(e);d<=i.length;){switch(o=i[d],l){case ge:if(!o||!x(W,o)){if(t)return Y;l=Ee;continue}p+=q(o),l=me;break;case me:if(o&&(x($,o)||"+"==o||"-"==o||"."==o))p+=q(o);else{if(":"!=o){if(t)return Y;p="",l=Ee,d=0;continue}if(t&&(u.isSpecial()!=h(de,p)||"file"==p&&(u.includesCredentials()||null!==u.port)||"file"==u.scheme&&!u.host))return;if(u.scheme=p,t)return void(u.isSpecial()&&de[u.scheme]==u.port&&(u.port=null));p="","file"==u.scheme?l=Re:u.isSpecial()&&r&&r.scheme==u.scheme?l=ve:u.isSpecial()?l=Ie:"/"==i[d+1]?(l=ye,d++):(u.cannotBeABaseURL=!0,H(u.path,""),l=Le)}break;case Ee:if(!r||r.cannotBeABaseURL&&"#"!=o)return Y;if(r.cannotBeABaseURL&&"#"==o){u.scheme=r.scheme,u.path=m(r.path),u.query=r.query,u.fragment="",u.cannotBeABaseURL=!0,l=Ue;break}l="file"==r.scheme?Re:_e;continue;case ve:if("/"!=o||"/"!=i[d+1]){l=_e;continue}l=Se,d++;break;case ye:if("/"==o){l=Ce;break}l=De;continue;case _e:if(u.scheme=r.scheme,o==n)u.username=r.username,u.password=r.password,u.host=r.host,u.port=r.port,u.path=m(r.path),u.query=r.query;else if("/"==o||"\\"==o&&u.isSpecial())l=Ae;else if("?"==o)u.username=r.username,u.password=r.password,u.host=r.host,u.port=r.port,u.path=m(r.path),u.query="",l=xe;else{if("#"!=o){u.username=r.username,u.password=r.password,u.host=r.host,u.port=r.port,u.path=m(r.path),u.path.length--,l=De;continue}u.username=r.username,u.password=r.password,u.host=r.host,u.port=r.port,u.path=m(r.path),u.query=r.query,u.fragment="",l=Ue}break;case Ae:if(!u.isSpecial()||"/"!=o&&"\\"!=o){if("/"!=o){u.username=r.username,u.password=r.password,u.host=r.host,u.port=r.port,l=De;continue}l=Ce}else l=Se;break;case Ie:if(l=Se,"/"!=o||"/"!=L(p,d+1))continue;d++;break;case Se:if("/"!=o&&"\\"!=o){l=Ce;continue}break;case Ce:if("@"==o){f&&(p="%40"+p),f=!0,s=g(p);for(var _=0;_<s.length;_++){var A=s[_];if(":"!=A||v){var I=le(A,ue);v?u.password+=I:u.username+=I}else v=!0}p=""}else if(o==n||"/"==o||"?"==o||"#"==o||"\\"==o&&u.isSpecial()){if(f&&""==p)return"Invalid authority";d-=g(p).length+1,p="",l=Oe}else p+=o;break;case Oe:case Te:if(t&&"file"==u.scheme){l=we;continue}if(":"!=o||E){if(o==n||"/"==o||"?"==o||"#"==o||"\\"==o&&u.isSpecial()){if(u.isSpecial()&&""==p)return z;if(t&&""==p&&(u.includesCredentials()||null!==u.port))return;if(a=u.parseHost(p))return a;if(p="",l=be,t)return;continue}"["==o?E=!0:"]"==o&&(E=!1),p+=o}else{if(""==p)return z;if(a=u.parseHost(p))return a;if(p="",l=Pe,t==Te)return}break;case Pe:if(!x(Q,o)){if(o==n||"/"==o||"?"==o||"#"==o||"\\"==o&&u.isSpecial()||t){if(""!=p){var S=w(p,10);if(S>65535)return K;u.port=u.isSpecial()&&S===de[u.scheme]?null:S,p=""}if(t)return;l=be;continue}return K}p+=o;break;case Re:if(u.scheme="file","/"==o||"\\"==o)l=Ne;else{if(!r||"file"!=r.scheme){l=De;continue}if(o==n)u.host=r.host,u.path=m(r.path),u.query=r.query;else if("?"==o)u.host=r.host,u.path=m(r.path),u.query="",l=xe;else{if("#"!=o){he(U(m(i,d),""))||(u.host=r.host,u.path=m(r.path),u.shortenPath()),l=De;continue}u.host=r.host,u.path=m(r.path),u.query=r.query,u.fragment="",l=Ue}}break;case Ne:if("/"==o||"\\"==o){l=we;break}r&&"file"==r.scheme&&!he(U(m(i,d),""))&&(pe(r.path[0],!0)?H(u.path,r.path[0]):u.host=r.host),l=De;continue;case we:if(o==n||"/"==o||"\\"==o||"?"==o||"#"==o){if(!t&&pe(p))l=De;else if(""==p){if(u.host="",t)return;l=be}else{if(a=u.parseHost(p))return a;if("localhost"==u.host&&(u.host=""),t)return;p="",l=be}continue}p+=o;break;case be:if(u.isSpecial()){if(l=De,"/"!=o&&"\\"!=o)continue}else if(t||"?"!=o)if(t||"#"!=o){if(o!=n&&(l=De,"/"!=o))continue}else u.fragment="",l=Ue;else u.query="",l=xe;break;case De:if(o==n||"/"==o||"\\"==o&&u.isSpecial()||!t&&("?"==o||"#"==o)){if(".."===(c=q(c=p))||"%2e."===c||".%2e"===c||"%2e%2e"===c?(u.shortenPath(),"/"==o||"\\"==o&&u.isSpecial()||H(u.path,"")):fe(p)?"/"==o||"\\"==o&&u.isSpecial()||H(u.path,""):("file"==u.scheme&&!u.path.length&&pe(p)&&(u.host&&(u.host=""),p=L(p,0)+":"),H(u.path,p)),p="","file"==u.scheme&&(o==n||"?"==o||"#"==o))for(;u.path.length>1&&""===u.path[0];)G(u.path);"?"==o?(u.query="",l=xe):"#"==o&&(u.fragment="",l=Ue)}else p+=le(o,ce);break;case Le:"?"==o?(u.query="",l=xe):"#"==o?(u.fragment="",l=Ue):o!=n&&(u.path[0]+=le(o,se));break;case xe:t||"#"!=o?o!=n&&("'"==o&&u.isSpecial()?u.query+="%27":u.query+="#"==o?"%23":le(o,se)):(u.fragment="",l=Ue);break;case Ue:o!=n&&(u.fragment+=le(o,ae))}d++}},parseHost:function(e){var t,r,n;if("["==L(e,0)){if("]"!=L(e,e.length-1))return z;if(t=function(e){var t,r,n,i,o,s,a,c=[0,0,0,0,0,0,0,0],u=0,l=null,d=0,p=function(){return L(e,d)};if(":"==p()){if(":"!=L(e,1))return;d+=2,l=++u}for(;p();){if(8==u)return;if(":"!=p()){for(t=r=0;r<4&&x(ee,p());)t=16*t+w(p(),16),d++,r++;if("."==p()){if(0==r)return;if(d-=r,u>6)return;for(n=0;p();){if(i=null,n>0){if(!("."==p()&&n<4))return;d++}if(!x(Q,p()))return;for(;x(Q,p());){if(o=w(p(),10),null===i)i=o;else{if(0==i)return;i=10*i+o}if(i>255)return;d++}c[u]=256*c[u]+i,2!=++n&&4!=n||u++}if(4!=n)return;break}if(":"==p()){if(d++,!p())return}else if(p())return;c[u++]=t}else{if(null!==l)return;d++,l=++u}}if(null!==l)for(s=u-l,u=7;0!=u&&s>0;)a=c[u],c[u--]=c[l+s-1],c[l+--s]=a;else if(8!=u)return;return c}(j(e,1,-1)),!t)return z;this.host=t}else if(this.isSpecial()){if(e=v(e),x(te,e))return z;if(t=function(e){var t,r,n,i,o,s,a,c=F(e,".");if(c.length&&""==c[c.length-1]&&c.length--,(t=c.length)>4)return e;for(r=[],n=0;n<t;n++){if(""==(i=c[n]))return e;if(o=10,i.length>1&&"0"==L(i,0)&&(o=x(Z,i)?16:8,i=j(i,8==o?1:2)),""===i)s=0;else{if(!x(10==o?X:8==o?J:ee,i))return e;s=w(i,o)}H(r,s)}for(n=0;n<t;n++)if(s=r[n],n==t-1){if(s>=D(256,5-t))return null}else if(s>255)return null;for(a=k(r),n=0;n<r.length;n++)a+=r[n]*D(256,3-n);return a}(e),null===t)return z;this.host=t}else{if(x(re,e))return z;for(t="",r=g(e),n=0;n<r.length;n++)t+=le(r[n],se);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme},includesCredentials:function(){return""!=this.username||""!=this.password},isSpecial:function(){return h(de,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;!t||"file"==this.scheme&&1==t&&pe(e[0],!0)||e.length--},serialize:function(){var e=this,t=e.scheme,r=e.username,n=e.password,i=e.host,o=e.port,s=e.path,a=e.query,c=e.fragment,u=t+":";return null!==i?(u+="//",e.includesCredentials()&&(u+=r+(n?":"+n:"")+"@"),u+=oe(i),null!==o&&(u+=":"+o)):"file"==t&&(u+="//"),u+=e.cannotBeABaseURL?s[0]:s.length?"/"+U(s,"/"):"",null!==a&&(u+="?"+a),null!==c&&(u+="#"+c),u},setHref:function(e){var t=this.parse(e);if(t)throw N(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"==e)try{return new ke(e.path[0]).origin}catch(e){return"null"}return"file"!=e&&this.isSpecial()?e+"://"+oe(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(y(e)+":",ge)},getUsername:function(){return this.username},setUsername:function(e){var t=g(y(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var r=0;r<t.length;r++)this.username+=le(t[r],ue)}},getPassword:function(){return this.password},setPassword:function(e){var t=g(y(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var r=0;r<t.length;r++)this.password+=le(t[r],ue)}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?oe(e):oe(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,Oe)},getHostname:function(){var e=this.host;return null===e?"":oe(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,Te)},getPort:function(){var e=this.port;return null===e?"":y(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(""==(e=y(e))?this.port=null:this.parse(e,Pe))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+U(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,be))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){""==(e=y(e))?this.query=null:("?"==L(e,0)&&(e=j(e,1)),this.query="",this.parse(e,xe)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){""!=(e=y(e))?("#"==L(e,0)&&(e=j(e,1)),this.fragment="",this.parse(e,Ue)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var ke=function(e){var t=p(this,He),r=A(arguments.length,1)>1?arguments[1]:void 0,n=C(t,new Me(e,!1,r));o||(t.href=n.serialize(),t.origin=n.getOrigin(),t.protocol=n.getProtocol(),t.username=n.getUsername(),t.password=n.getPassword(),t.host=n.getHost(),t.hostname=n.getHostname(),t.port=n.getPort(),t.pathname=n.getPathname(),t.search=n.getSearch(),t.searchParams=n.getSearchParams(),t.hash=n.getHash())},He=ke.prototype,Be=function(e,t){return{get:function(){return O(this)[e]()},set:t&&function(e){return O(this)[t](e)},configurable:!0,enumerable:!0}};if(o&&(d(He,"href",Be("serialize","setHref")),d(He,"origin",Be("getOrigin")),d(He,"protocol",Be("getProtocol","setProtocol")),d(He,"username",Be("getUsername","setUsername")),d(He,"password",Be("getPassword","setPassword")),d(He,"host",Be("getHost","setHost")),d(He,"hostname",Be("getHostname","setHostname")),d(He,"port",Be("getPort","setPort")),d(He,"pathname",Be("getPathname","setPathname")),d(He,"search",Be("getSearch","setSearch")),d(He,"searchParams",Be("getSearchParams")),d(He,"hash",Be("getHash","setHash"))),l(He,"toJSON",(function(){return O(this).serialize()}),{enumerable:!0}),l(He,"toString",(function(){return O(this).serialize()}),{enumerable:!0}),R){var Ge=R.createObjectURL,Fe=R.revokeObjectURL;Ge&&l(ke,"createObjectURL",c(Ge,R)),Fe&&l(ke,"revokeObjectURL",c(Fe,R))}_(ke,"URL"),i({global:!0,constructor:!0,forced:!s,sham:!o},{URL:ke})},285:(e,t,r)=>{r(8789)}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={id:n,loaded:!1,exports:{}};return e[n](o,o.exports,r),o.loaded=!0,o.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};r.r(e),r.d(e,{FunctionToString:()=>J,InboundFilters:()=>le});var t={};r.r(t),r.d(t,{Breadcrumbs:()=>Tt,Dedupe:()=>xt,GlobalHandlers:()=>dt,HttpContext:()=>Lt,LinkedErrors:()=>bt,TryCatch:()=>vt}),r(6992),r(3948),r(4916),r(4765),r(285),r(1637),r(4747);var n=/android/i;function i(){var e,t=null===(e=navigator)||void 0===e?void 0:e.userAgent;return!!t&&Boolean((/Safari/.test(t)&&(/iPhone/.test(t)||/iPad/.test(t))&&!/Trident/.test(t)||/AppleWebKit/.test(t)&&!(/Android/.test(t)||/Linux/.test(t)||/Trident/.test(t))&&(/Mobile/.test(t)||/iPhone/.test(t)||/iPad/.test(t))&&!/Macintosh/.test(t)&&!/Windows/.test(t))&&!(/Chrome/.test(t)||/CriOS/.test(t)||/Edg/.test(t)))}function o(){var e,t=null===(e=navigator)||void 0===e?void 0:e.userAgent;return!!t&&Boolean((/Safari/.test(t)||/AppleWebKit/.test(t))&&(/Macintosh/.test(t)||/Windows/.test(t))&&!/iPhone/.test(t)&&!/iPad/.test(t)&&!/Chrome/.test(t)&&!/Edg/.test(t)&&!/Firefox/.test(t))}var s,a,c,u,l,d,p,h,f,g,m={get documentBody(){return window.document.body},get documentReferrer(){return window.document.referrer},get documentVisibilityState(){return document.visibilityState},getQueryParams:function(e,t){var r=new URL(e),n={};return t.forEach((e=>{var t=r.searchParams.get(e);t&&(n[e]=t)})),n},isAndroid:function(){return n.test(window.navigator.userAgent)},isDesktopSafari:o,isMobileSafari:i,isSafari:function(){return i()||o()},isSupported:function(){return void 0!==window.postMessage&&void 0!==window.fetch&&void 0!==document.createElement("a").classList},redirectTo:function(e){window.location.href=e},replaceWindowState:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.title;window.history.replaceState(null,t,e)},submitForm:function(e){e.submit()},get windowHash(){return window.location.hash},get windowInnerHeight(){return window.innerHeight},get windowInnerWidth(){return window.innerWidth},get windowLocation(){return window.location},get windowNavigationBeacon(){return window.navigator.sendBeacon},get windowNavigationLanguage(){var e=window.navigator.language;return!e&&window.navigator.languages.length>0&&(e=window.navigator.languages[0]),e},get windowParentLocation(){return window.parent.location},get windowPerformance(){return window.performance},get ancestorOrigins(){return window.location.ancestorOrigins}},E={hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",port:"",protocol:"",search:"",toString:()=>""};function v(){if(m.windowLocation===m.windowParentLocation)return m.windowLocation;var e=function(){var{ancestorOrigins:e,documentReferrer:t}=m;return e&&e.length>0?e[e.length-1]:t}();return e&&0!==e.length?(s||(s=document.createElement("a")),s.href=e,{hash:s.hash,host:s.host,hostname:s.hostname,href:s.href,origin:s.origin,pathname:s.pathname,port:s.port,protocol:s.protocol,search:s.search,toString(){return this.href}}):E}function y(e){return t=e,r=g.JAVASCRIPT,n=new Blob([t],{type:r}),URL.createObjectURL(n);var t,r,n}!function(e){e.Final="FINAL",e.Estimated="ESTIMATED",e.Unknown="NOT_CURRENTLY_KNOWN"}(a||(a={})),function(e){e.INITIALIZE="INITIALIZE",e.PAYMENT_AUTHORIZATION="PAYMENT_AUTHORIZATION",e.SHIPPING_ADDRESS="SHIPPING_ADDRESS",e.SHIPPING_OPTION="SHIPPING_OPTION"}(c||(c={})),function(e){e.FULL="FULL",e.MIN="MIN"}(u||(u={})),function(e){e.CARD="CARD"}(l||(l={})),function(e){e.PAYMENT_GATEWAY="PAYMENT_GATEWAY"}(d||(d={})),function(e){e.SUCCESS="SUCCESS"}(p||(p={})),function(e){e.TEST="TEST",e.PRODUCTION="PRODUCTION"}(h||(h={})),function(e){e.development="development",e.sandbox="sandbox",e.production="production",e.staging="staging",e.test="test"}(f||(f={})),function(e){e.JAVASCRIPT="text/javascript",e.HTML="text/html"}(g||(g={}));var _=null!=="sandbox"?"sandbox":"development",A="".length>0?"-".concat(""):"",I={get AFTERPAY_SCRIPT_URL(){switch(_){case f.test:return y("window.AfterPay = {};");case f.production:return"https://portal.afterpay.com/afterpay.js?merchant_key=".concat(this.AFTERPAY_MERCHANT_ID);case f.sandbox:return"https://portal.sandbox.afterpay.com/afterpay.js?merchant_key=".concat(this.AFTERPAY_MERCHANT_ID);default:return"https://portal.stage.afterpay-beta.com/afterpay.js?merchant_key=".concat(this.AFTERPAY_MERCHANT_ID)}},get AFTERPAY_MESSAGING_SCRIPT_URL(){return _===f.test?y("window.Afterpay = {};"):"https://js.afterpay.com/afterpay-1.x.js"},get AFTERPAY_CREATE_CHECKOUT(){return"".concat(this.API_URL,"/bnpl/afterpay/create-checkout")},get AFTERPAY_MERCHANT_ID(){return"b8a38183b2e5959390488e48f9b109f6a73fd53c"},get AFTERPAY_STYLES(){return"".concat(this.ASSET_URL,"/afterpay.css")},get ANALYTICS_PUBLIC_ENDPOINT(){return _===f.test?y("window.Square.Analytics = {};"):"".concat(this.API_PROTOCOL,"js.").concat(this.API_PUBLIC_HOST,"/payments/data.js")},get API_HOST(){switch(_){case f.production:return"pci-connect.squareup.com";case f.sandbox:return"pci-connect.squareupsandbox.com";default:return"pci-connect.squareupstaging.com"}},get API_PROTOCOL(){return"https://"},get API_PUBLIC_HOST(){switch(_){case f.production:return"squareup.com";case f.sandbox:return"squareupsandbox.com";default:return"squareupstaging.com"}},get API_URL(){return"".concat(this.API_PROTOCOL).concat(this.API_HOST)},get APPENDED_FILE_NAME(){return A},get APPLEPAY_VALIDATE_MERCHANT_ENDPOINT(){return"".concat(this.API_URL,"/v2/apple-pay/validate-merchant")},get ASSET_BASE_URL(){return function(e){switch(e){case f.production:return"https://web.squarecdn.com";case f.sandbox:return"https://sandbox.web.squarecdn.com";case f.development:return"https://localhost:1779";default:return"https://staging.web.squarecdn.com"}}(f[_])},get ASSET_URL(){return"local"===this.VERSION?this.ASSET_BASE_URL:"".concat(this.ASSET_BASE_URL,"/").concat(this.VERSION)},get BANK_NONCE_ENDPOINT(){return"".concat(this.API_URL,"/v2/bank-nonce")},get CARD_NONCE_ENDPOINT(){return"".concat(this.API_URL,"/v2/card-nonce")},get CASH_APP_API(){return _===f.production?"https://api.cash.app":"https://api.cashstaging.app"},get CASH_APP_API_CUSTOMER(){return"".concat(this.CASH_APP_API,"/customer")},get CASH_APP_AUTH_ENDPOINT(){return"".concat(this.API_URL,"/digital-wallets/cash-app/auth")},get CASH_APP_PAY_CLIENT_ID(){switch(_){case f.production:return"CA-CI_SQ_SELLER";case f.sandbox:return"CAS-CI_SQ_SELLER_SANDBOX";default:return"CAS-CI_SQ_SELLER_STAGING"}},get CASH_APP_STYLES(){return"".concat(this.ASSET_URL,"/cash.css")},get CASH_APP_PAY_SCRIPT_URL(){switch(_){case f.production:return"https://kit.cash.app/v1/pay.js";case f.test:return y("window.CashApp = {};");default:return"https://sandbox.kit.cash.app/v1/pay.js"}},get CREATE_PLAID_LINK_SESSION_ENDPOINT(){return"".concat(this.API_URL,"/digital-wallets/plaid/link-session")},get PLAID_OAUTH_REDIRECT_URI(){return""},get CREATE_OAUTH_PLAID_LINK_SESSION_ENDPOINT(){return"".concat(this.API_URL,"/digital-wallets/plaid/oauth-link-session")},get ENABLE_ERROR_LOGGING(){return _!==f.development},get GET_PRODUCT_INFORMATION_ENDPOINT(){return"".concat(this.API_URL,"/v2/tokenization/product-information")},get GIFT_CARD_IFRAME(){return"".concat(this.ASSET_URL,"/gift-card-element-iframe").concat(A,".html")},get GOOGLE_PAY_ENV(){return _===f.production?h.PRODUCTION:h.TEST},get GOOGLE_PAY_GENERATE_TOKEN_ENDPOINT(){return"".concat(this.API_URL,"/digital-wallets/google-pay/token")},get GOOGLE_PAY_MERCHANT_ID(){return"05498866192997955200"},get GOOGLE_PAY_SCRIPT_URL(){return _===f.test?y("window.google = {};"):"https://pay.google.com/gp/p/js/pay.js"},get HYDRATION_ENDPOINT(){return"".concat(this.API_URL,"/payments/hydrate")},get IFRAME_SRC(){return"".concat(this.ASSET_URL,"/main-iframe").concat(A,".html")},get INSTANT_WALLET_NONCE_ENDPOINT(){return"".concat(this.API_URL,"/v2/instant-wallet-nonce")},get MASTERPASS_CALLBACK_ENDPOINT(){return"".concat(this.API_URL,"/v2/masterpass/callback")},get MASTERPASS_LIBRARY_URL(){return"".concat(this.API_URL,"/v2/masterpass/frame")},get METRICS_ERROR_URL(){return"".concat(this.API_URL,"/payments/mtx/error")},get METRICS_URL(){return"".concat(this.API_URL,"/payments/mtx")},get METRICS_V2_URL(){return"".concat(this.API_URL,"/payments/mtx/v2")},get PAYMENTS_UI_STYLES(){return _===f.test?y(""):"".concat(this.ASSET_URL,"/payments-ui.css")},get PLAID_LINK_ENV(){return _===f.production?"production":"sandbox"},get PLAID_LINK_SCRIPT_URL(){return _===f.test?y("window.Plaid = {};"):"https://cdn.plaid.com/link/v2/stable/link-initialize.js"},get SENTRY_DSN(){switch(_){case f.test:case f.development:return"https://acacaeaccacacacabcaacdacdacadaca@sentry.io/000001";default:return"https://565ee38bb5ff45dabc25ab6d7b8bebe3@o160250.ingest.sentry.io/3478832"}},get SINGLE_CARD_IFRAME(){return"".concat(this.ASSET_URL,"/single-card-element-iframe").concat(A,".html")},get SINGLE_CARD_WRAPPER_STYLES(){return"".concat(this.ASSET_URL,"/card-wrapper.css")},STATIC_ASSET(e){return"".concat(this.ASSET_URL,"/static-assets/").concat(e)},get VERSION(){return"1.45.0"},get WALLET_NONCE_ENDPOINT(){return"".concat(this.API_URL,"/v2/wallet-nonce")},env:_};r(9714),r(9720);const S=Object.prototype.toString;function C(e){switch(S.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return L(e,Error)}}function O(e,t){return S.call(e)===`[object ${t}]`}function T(e){return O(e,"ErrorEvent")}function P(e){return O(e,"DOMError")}function R(e){return O(e,"String")}function N(e){return null===e||"object"!=typeof e&&"function"!=typeof e}function w(e){return O(e,"Object")}function b(e){return"undefined"!=typeof Event&&L(e,Event)}function D(e){return Boolean(e&&e.then&&"function"==typeof e.then)}function L(e,t){try{return e instanceof t}catch(e){return!1}}var x=r(1235);const U=(0,x.Rf)();function M(e,t){try{let r=e;const n=5,i=80,o=[];let s=0,a=0;const c=" > ",u=c.length;let l;for(;r&&s++<n&&(l=k(r,t),!("html"===l||s>1&&a+o.length*u+l.length>=i));)o.push(l),a+=l.length,r=r.parentNode;return o.reverse().join(c)}catch(e){return"<unknown>"}}function k(e,t){const r=e,n=[];let i,o,s,a,c;if(!r||!r.tagName)return"";n.push(r.tagName.toLowerCase());const u=t&&t.length?t.filter((e=>r.getAttribute(e))).map((e=>[e,r.getAttribute(e)])):null;if(u&&u.length)u.forEach((e=>{n.push(`[${e[0]}="${e[1]}"]`)}));else if(r.id&&n.push(`#${r.id}`),i=r.className,i&&R(i))for(o=i.split(/\s+/),c=0;c<o.length;c++)n.push(`.${o[c]}`);const l=["type","name","title","alt"];for(c=0;c<l.length;c++)s=l[c],a=r.getAttribute(s),a&&n.push(`[${s}="${a}"]`);return n.join("")}function H(e,t=0){return"string"!=typeof e||0===t||e.length<=t?e:`${e.substr(0,t)}...`}function B(e,t){if(!Array.isArray(e))return"";const r=[];for(let t=0;t<e.length;t++){const n=e[t];try{r.push(String(n))}catch(e){r.push("[value cannot be serialized]")}}return r.join(t)}function G(e,t){return!!R(e)&&(O(t,"RegExp")?t.test(e):"string"==typeof t&&-1!==e.indexOf(t))}function F(e,t,r){if(!(t in e))return;const n=e[t],i=r(n);if("function"==typeof i)try{q(i,n)}catch(e){}e[t]=i}function j(e,t,r){Object.defineProperty(e,t,{value:r,writable:!0,configurable:!0})}function q(e,t){const r=t.prototype||{};e.prototype=t.prototype=r,j(e,"__sentry_original__",t)}function V(e){return e.__sentry_original__}function Y(e){if(C(e))return{message:e.message,name:e.name,stack:e.stack,...K(e)};if(b(e)){const t={type:e.type,target:z(e.target),currentTarget:z(e.currentTarget),...K(e)};return"undefined"!=typeof CustomEvent&&L(e,CustomEvent)&&(t.detail=e.detail),t}return e}function z(e){try{return"undefined"!=typeof Element&&L(e,Element)?M(e):Object.prototype.toString.call(e)}catch(e){return"<unknown>"}}function K(e){if("object"==typeof e&&null!==e){const t={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}return{}}function W(e,t=40){const r=Object.keys(Y(e));if(r.sort(),!r.length)return"[object has no keys]";if(r[0].length>=t)return H(r[0],t);for(let e=r.length;e>0;e--){const n=r.slice(0,e).join(", ");if(!(n.length>t))return e===r.length?n:H(n,t)}return""}function $(e){return Q(e,new Map)}function Q(e,t){if(w(e)){const r=t.get(e);if(void 0!==r)return r;const n={};t.set(e,n);for(const r of Object.keys(e))void 0!==e[r]&&(n[r]=Q(e[r],t));return n}if(Array.isArray(e)){const r=t.get(e);if(void 0!==r)return r;const n=[];return t.set(e,n),e.forEach((e=>{n.push(Q(e,t))})),n}return e}let Z;class J{constructor(){J.prototype.__init.call(this)}static __initStatic(){this.id="FunctionToString"}__init(){this.name=J.id}setupOnce(){Z=Function.prototype.toString,Function.prototype.toString=function(...e){const t=V(this)||this;return Z.apply(t,e)}}}J.__initStatic();const X=["debug","info","warn","error","log","assert","trace"];function ee(e){if(!("console"in x.n2))return e();const t=x.n2.console,r={};X.forEach((e=>{const n=t[e]&&t[e].__sentry_original__;e in t&&n&&(r[e]=t[e],t[e]=n)}));try{return e()}finally{Object.keys(r).forEach((e=>{t[e]=r[e]}))}}function te(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1}};return"undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?X.forEach((r=>{t[r]=(...t)=>{e&&ee((()=>{x.n2.console[r](`Sentry Logger [${r}]:`,...t)}))}})):X.forEach((e=>{t[e]=()=>{}})),t}let re;function ne(){const e=x.n2,t=e.crypto||e.msCrypto;if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");const r=t&&t.getRandomValues?()=>t.getRandomValues(new Uint8Array(1))[0]:()=>16*Math.random();return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,(e=>(e^(15&r())>>e/4).toString(16)))}function ie(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function oe(e){const{message:t,event_id:r}=e;if(t)return t;const n=ie(e);return n?n.type&&n.value?`${n.type}: ${n.value}`:n.type||n.value||r||"<unknown>":r||"<unknown>"}function se(e,t,r){const n=e.exception=e.exception||{},i=n.values=n.values||[],o=i[0]=i[0]||{};o.value||(o.value=t||""),o.type||(o.type=r||"Error")}function ae(e,t){const r=ie(e);if(!r)return;const n=r.mechanism;if(r.mechanism={type:"generic",handled:!0,...n,...t},t&&"data"in t){const e={...n&&n.data,...t.data};r.mechanism.data=e}}function ce(e){if(e&&e.__sentry_captured__)return!0;try{j(e,"__sentry_captured__",!0)}catch(e){}return!1}re="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?(0,x.YO)("logger",te):te();const ue=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/];class le{static __initStatic(){this.id="InboundFilters"}__init(){this.name=le.id}constructor(e={}){this._options=e,le.prototype.__init.call(this)}setupOnce(e,t){const r=e=>{const r=t();if(r){const t=r.getIntegration(le);if(t){const n=r.getClient(),i=n?n.getOptions():{},o=function(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...ue],ignoreInternal:void 0===e.ignoreInternal||e.ignoreInternal}}(t._options,i);return function(e,t){return t.ignoreInternal&&function(e){try{return"SentryError"===e.exception.values[0].type}catch(e){}return!1}(e)?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&re.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${oe(e)}`),!0):function(e,t){return!(!t||!t.length)&&function(e){if(e.message)return[e.message];if(e.exception)try{const{type:t="",value:r=""}=e.exception.values&&e.exception.values[0]||{};return[`${r}`,`${t}: ${r}`]}catch(t){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&re.error(`Cannot extract message for event ${oe(e)}`),[]}return[]}(e).some((e=>t.some((t=>G(e,t)))))}(e,t.ignoreErrors)?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&re.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${oe(e)}`),!0):function(e,t){if(!t||!t.length)return!1;const r=de(e);return!!r&&t.some((e=>G(r,e)))}(e,t.denyUrls)?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&re.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${oe(e)}.\nUrl: ${de(e)}`),!0):!function(e,t){if(!t||!t.length)return!0;const r=de(e);return!r||t.some((e=>G(r,e)))}(e,t.allowUrls)&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&re.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${oe(e)}.\nUrl: ${de(e)}`),!0)}(e,o)?null:e}}return e};r.id=this.name,e(r)}}function de(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch(e){}return t?function(e=[]){for(let t=e.length-1;t>=0;t--){const r=e[t];if(r&&"<anonymous>"!==r.filename&&"[native code]"!==r.filename)return r.filename||null}return null}(t):null}catch(t){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&re.error(`Cannot extract url for event ${oe(e)}`),null}}le.__initStatic();var pe,he=r(1170),fe=r(2176);function ge(e){return new Ee((t=>{t(e)}))}function me(e){return new Ee(((t,r)=>{r(e)}))}!function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"}(pe||(pe={}));class Ee{__init(){this._state=pe.PENDING}__init2(){this._handlers=[]}constructor(e){Ee.prototype.__init.call(this),Ee.prototype.__init2.call(this),Ee.prototype.__init3.call(this),Ee.prototype.__init4.call(this),Ee.prototype.__init5.call(this),Ee.prototype.__init6.call(this);try{e(this._resolve,this._reject)}catch(e){this._reject(e)}}then(e,t){return new Ee(((r,n)=>{this._handlers.push([!1,t=>{if(e)try{r(e(t))}catch(e){n(e)}else r(t)},e=>{if(t)try{r(t(e))}catch(e){n(e)}else n(e)}]),this._executeHandlers()}))}catch(e){return this.then((e=>e),e)}finally(e){return new Ee(((t,r)=>{let n,i;return this.then((t=>{i=!1,n=t,e&&e()}),(t=>{i=!0,n=t,e&&e()})).then((()=>{i?r(n):t(n)}))}))}__init3(){this._resolve=e=>{this._setResult(pe.RESOLVED,e)}}__init4(){this._reject=e=>{this._setResult(pe.REJECTED,e)}}__init5(){this._setResult=(e,t)=>{this._state===pe.PENDING&&(D(t)?t.then(this._resolve,this._reject):(this._state=e,this._value=t,this._executeHandlers()))}}__init6(){this._executeHandlers=()=>{if(this._state===pe.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach((e=>{e[0]||(this._state===pe.RESOLVED&&e[1](this._value),this._state===pe.REJECTED&&e[2](this._value),e[0]=!0)}))}}}function ve(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||(0,he.ph)(),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:ne()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),"number"==typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"==typeof t.duration)e.duration=t.duration;else{const t=e.timestamp-e.started;e.duration=t>=0?t:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"==typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}class ye{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={}}static clone(e){const t=new ye;return e&&(t._breadcrumbs=[...e._breadcrumbs],t._tags={...e._tags},t._extra={...e._extra},t._contexts={...e._contexts},t._user=e._user,t._level=e._level,t._span=e._span,t._session=e._session,t._transactionName=e._transactionName,t._fingerprint=e._fingerprint,t._eventProcessors=[...e._eventProcessors],t._requestSession=e._requestSession,t._attachments=[...e._attachments]),t}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{},this._session&&ve(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,t){return this._tags={...this._tags,[e]:t},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts={...this._contexts,[e]:t},this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const e=this.getSpan();return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;if("function"==typeof e){const t=e(this);return t instanceof ye?t:this}return e instanceof ye?(this._tags={...this._tags,...e._tags},this._extra={...this._extra,...e._extra},this._contexts={...this._contexts,...e._contexts},e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint),e._requestSession&&(this._requestSession=e._requestSession)):w(e)&&(e=e,this._tags={...this._tags,...e.tags},this._extra={...this._extra,...e.extra},this._contexts={...this._contexts,...e.contexts},e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint),e.requestSession&&(this._requestSession=e.requestSession)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this}addBreadcrumb(e,t){const r="number"==typeof t?t:100;if(r<=0)return this;const n={timestamp:(0,he.yW)(),...e};return this._breadcrumbs=[...this._breadcrumbs,n].slice(-r),this._notifyScopeListeners(),this}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(e,t={}){if(this._extra&&Object.keys(this._extra).length&&(e.extra={...this._extra,...e.extra}),this._tags&&Object.keys(this._tags).length&&(e.tags={...this._tags,...e.tags}),this._user&&Object.keys(this._user).length&&(e.user={...this._user,...e.user}),this._contexts&&Object.keys(this._contexts).length&&(e.contexts={...this._contexts,...e.contexts}),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts={trace:this._span.getTraceContext(),...e.contexts};const t=this._span.transaction&&this._span.transaction.name;t&&(e.tags={transaction:t,...e.tags})}return this._applyFingerprint(e),e.breadcrumbs=[...e.breadcrumbs||[],...this._breadcrumbs],e.breadcrumbs=e.breadcrumbs.length>0?e.breadcrumbs:void 0,e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...this._sdkProcessingMetadata},this._notifyEventProcessors([..._e(),...this._eventProcessors],e,t)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}_notifyEventProcessors(e,t,r,n=0){return new Ee(((i,o)=>{const s=e[n];if(null===t||"function"!=typeof s)i(t);else{const a=s({...t},r);("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&s.id&&null===a&&re.log(`Event processor "${s.id}" dropped event`),D(a)?a.then((t=>this._notifyEventProcessors(e,t,r,n+1).then(i))).then(null,o):this._notifyEventProcessors(e,a,r,n+1).then(i).then(null,o)}}))}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((e=>{e(this)})),this._notifyingListeners=!1)}_applyFingerprint(e){var t;e.fingerprint=e.fingerprint?(t=e.fingerprint,Array.isArray(t)?t:[t]):[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}}function _e(){return(0,x.YO)("globalEventProcessors",(()=>[]))}function Ae(e){_e().push(e)}const Ie=100;class Se{__init(){this._stack=[{}]}constructor(e,t=new ye,r=4){this._version=r,Se.prototype.__init.call(this),this.getStackTop().scope=t,e&&this.bindClient(e)}isOlderThan(e){return this._version<e}bindClient(e){this.getStackTop().client=e,e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){const e=ye.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return!(this.getStack().length<=1||!this.getStack().pop())}withScope(e){const t=this.pushScope();try{e(t)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,t){const r=this._lastEventId=t&&t.event_id?t.event_id:ne(),n=new Error("Sentry syntheticException");return this._withClient(((i,o)=>{i.captureException(e,{originalException:e,syntheticException:n,...t,event_id:r},o)})),r}captureMessage(e,t,r){const n=this._lastEventId=r&&r.event_id?r.event_id:ne(),i=new Error(e);return this._withClient(((o,s)=>{o.captureMessage(e,t,{originalException:e,syntheticException:i,...r,event_id:n},s)})),n}captureEvent(e,t){const r=t&&t.event_id?t.event_id:ne();return"transaction"!==e.type&&(this._lastEventId=r),this._withClient(((n,i)=>{n.captureEvent(e,{...t,event_id:r},i)})),r}lastEventId(){return this._lastEventId}addBreadcrumb(e,t){const{scope:r,client:n}=this.getStackTop();if(!r||!n)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:o=Ie}=n.getOptions&&n.getOptions()||{};if(o<=0)return;const s={timestamp:(0,he.yW)(),...e},a=i?ee((()=>i(s,t))):s;null!==a&&r.addBreadcrumb(a,o)}setUser(e){const t=this.getScope();t&&t.setUser(e)}setTags(e){const t=this.getScope();t&&t.setTags(e)}setExtras(e){const t=this.getScope();t&&t.setExtras(e)}setTag(e,t){const r=this.getScope();r&&r.setTag(e,t)}setExtra(e,t){const r=this.getScope();r&&r.setExtra(e,t)}setContext(e,t){const r=this.getScope();r&&r.setContext(e,t)}configureScope(e){const{scope:t,client:r}=this.getStackTop();t&&r&&e(t)}run(e){const t=Oe(this);try{e(this)}finally{Oe(t)}}getIntegration(e){const t=this.getClient();if(!t)return null;try{return t.getIntegration(e)}catch(t){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&re.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,t){return this._callExtensionMethod("startTransaction",e,t)}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){const e=this.getStackTop(),t=e&&e.scope,r=t&&t.getSession();r&&function(e,t){let r={};"ok"===e.status&&(r={status:"exited"}),ve(e,r)}(r),this._sendSessionUpdate(),t&&t.setSession()}startSession(e){const{scope:t,client:r}=this.getStackTop(),{release:n,environment:i}=r&&r.getOptions()||{},{userAgent:o}=x.n2.navigator||{},s=function(e){const t=(0,he.ph)(),r={sid:ne(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(e){return $({sid:`${e.sid}`,init:e.init,started:new Date(1e3*e.started).toISOString(),timestamp:new Date(1e3*e.timestamp).toISOString(),status:e.status,errors:e.errors,did:"number"==typeof e.did||"string"==typeof e.did?`${e.did}`:void 0,duration:e.duration,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}(r)};return e&&ve(r,e),r}({release:n,environment:i,...t&&{user:t.getUser()},...o&&{userAgent:o},...e});if(t){const e=t.getSession&&t.getSession();e&&"ok"===e.status&&ve(e,{status:"exited"}),this.endSession(),t.setSession(s)}return s}shouldSendDefaultPii(){const e=this.getClient(),t=e&&e.getOptions();return Boolean(t&&t.sendDefaultPii)}_sendSessionUpdate(){const{scope:e,client:t}=this.getStackTop();if(!e)return;const r=e.getSession();r&&t&&t.captureSession&&t.captureSession(r)}_withClient(e){const{scope:t,client:r}=this.getStackTop();r&&e(r,t)}_callExtensionMethod(e,...t){const r=Ce().__SENTRY__;if(r&&r.extensions&&"function"==typeof r.extensions[e])return r.extensions[e].apply(this,t);("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&re.warn(`Extension method ${e} couldn't be found, doing nothing.`)}}function Ce(){return x.n2.__SENTRY__=x.n2.__SENTRY__||{extensions:{},hub:void 0},x.n2}function Oe(e){const t=Ce(),r=Re(t);return Ne(t,e),r}function Te(){const e=Ce();return Pe(e)&&!Re(e).isOlderThan(4)||Ne(e,new Se),(0,fe.KV)()?function(e){try{const t=Ce().__SENTRY__,r=t&&t.extensions&&t.extensions.domain&&t.extensions.domain.active;if(!r)return Re(e);if(!Pe(r)||Re(r).isOlderThan(4)){const t=Re(e).getStackTop();Ne(r,new Se(t.client,ye.clone(t.scope)))}return Re(r)}catch(t){return Re(e)}}(e):Re(e)}function Pe(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function Re(e){return(0,x.YO)("hub",(()=>new Se),e)}function Ne(e,t){return!!e&&((e.__SENTRY__=e.__SENTRY__||{}).hub=t,!0)}function we(e,t){return Te().captureException(e,{captureContext:t})}function be(e){Te().withScope(e)}const De=x.n2;let Le=0;function xe(){return Le>0}function Ue(){Le+=1,setTimeout((()=>{Le-=1}))}function Me(e,t={},r){if("function"!=typeof e)return e;try{const t=e.__sentry_wrapped__;if(t)return t;if(V(e))return e}catch(t){return e}const n=function(){const n=Array.prototype.slice.call(arguments);try{r&&"function"==typeof r&&r.apply(this,arguments);const i=n.map((e=>Me(e,t)));return e.apply(this,i)}catch(e){throw Ue(),be((r=>{r.addEventProcessor((e=>(t.mechanism&&(se(e,void 0,void 0),ae(e,t.mechanism)),e.extra={...e.extra,arguments:n},e))),we(e)})),e}};try{for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])}catch(e){}q(n,e),j(e,"__sentry_wrapped__",n);try{Object.getOwnPropertyDescriptor(n,"name").configurable&&Object.defineProperty(n,"name",{get:()=>e.name})}catch(e){}return n}const ke="<anonymous>";function He(e){try{return e&&"function"==typeof e&&e.name||ke}catch(e){return ke}}const Be=(0,x.Rf)();function Ge(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}const Fe=(0,x.Rf)(),je={},qe={};function Ve(e){if(!qe[e])switch(qe[e]=!0,e){case"console":"console"in Fe&&X.forEach((function(e){e in Fe.console&&F(Fe.console,e,(function(t){return function(...r){ze("console",{args:r,level:e}),t&&t.apply(Fe.console,r)}}))}));break;case"dom":!function(){if(!("document"in Fe))return;const e=ze.bind(null,"dom"),t=Je(e,!0);Fe.document.addEventListener("click",t,!1),Fe.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach((t=>{const r=Fe[t]&&Fe[t].prototype;r&&r.hasOwnProperty&&r.hasOwnProperty("addEventListener")&&(F(r,"addEventListener",(function(t){return function(r,n,i){if("click"===r||"keypress"==r)try{const n=this,o=n.__sentry_instrumentation_handlers__=n.__sentry_instrumentation_handlers__||{},s=o[r]=o[r]||{refCount:0};if(!s.handler){const n=Je(e);s.handler=n,t.call(this,r,n,i)}s.refCount+=1}catch(e){}return t.call(this,r,n,i)}})),F(r,"removeEventListener",(function(e){return function(t,r,n){if("click"===t||"keypress"==t)try{const r=this,i=r.__sentry_instrumentation_handlers__||{},o=i[t];o&&(o.refCount-=1,o.refCount<=0&&(e.call(this,t,o.handler,n),o.handler=void 0,delete i[t]),0===Object.keys(i).length&&delete r.__sentry_instrumentation_handlers__)}catch(e){}return e.call(this,t,r,n)}})))}))}();break;case"xhr":!function(){if(!("XMLHttpRequest"in Fe))return;const e=XMLHttpRequest.prototype;F(e,"open",(function(e){return function(...t){const r=this,n=t[1],i=r.__sentry_xhr__={method:R(t[0])?t[0].toUpperCase():t[0],url:t[1]};R(n)&&"POST"===i.method&&n.match(/sentry_key/)&&(r.__sentry_own_request__=!0);const o=function(){if(4===r.readyState){try{i.status_code=r.status}catch(e){}ze("xhr",{args:t,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:r})}};return"onreadystatechange"in r&&"function"==typeof r.onreadystatechange?F(r,"onreadystatechange",(function(e){return function(...t){return o(),e.apply(r,t)}})):r.addEventListener("readystatechange",o),e.apply(r,t)}})),F(e,"send",(function(e){return function(...t){return this.__sentry_xhr__&&void 0!==t[0]&&(this.__sentry_xhr__.body=t[0]),ze("xhr",{args:t,startTimestamp:Date.now(),xhr:this}),e.apply(this,t)}}))}();break;case"fetch":(function(){if(!function(){if(!("fetch"in Be))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(e){return!1}}())return!1;if(Ge(Be.fetch))return!0;let e=!1;const t=Be.document;if(t&&"function"==typeof t.createElement)try{const r=t.createElement("iframe");r.hidden=!0,t.head.appendChild(r),r.contentWindow&&r.contentWindow.fetch&&(e=Ge(r.contentWindow.fetch)),t.head.removeChild(r)}catch(e){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&re.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return e})()&&F(Fe,"fetch",(function(e){return function(...t){const r={args:t,fetchData:{method:Ke(t),url:We(t)},startTimestamp:Date.now()};return ze("fetch",{...r}),e.apply(Fe,t).then((e=>(ze("fetch",{...r,endTimestamp:Date.now(),response:e}),e)),(e=>{throw ze("fetch",{...r,endTimestamp:Date.now(),error:e}),e}))}}));break;case"history":!function(){if(!function(){const e=Be.chrome,t=e&&e.app&&e.app.runtime,r="history"in Be&&!!Be.history.pushState&&!!Be.history.replaceState;return!t&&r}())return;const e=Fe.onpopstate;function t(e){return function(...t){const r=t.length>2?t[2]:void 0;if(r){const e=$e,t=String(r);$e=t,ze("history",{from:e,to:t})}return e.apply(this,t)}}Fe.onpopstate=function(...t){const r=Fe.location.href,n=$e;if($e=r,ze("history",{from:n,to:r}),e)try{return e.apply(this,t)}catch(e){}},F(Fe.history,"pushState",t),F(Fe.history,"replaceState",t)}();break;case"error":Xe=Fe.onerror,Fe.onerror=function(e,t,r,n,i){return ze("error",{column:n,error:i,line:r,msg:e,url:t}),!!Xe&&Xe.apply(this,arguments)};break;case"unhandledrejection":et=Fe.onunhandledrejection,Fe.onunhandledrejection=function(e){return ze("unhandledrejection",e),!et||et.apply(this,arguments)};break;default:return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&re.warn("unknown instrumentation type:",e))}}function Ye(e,t){je[e]=je[e]||[],je[e].push(t),Ve(e)}function ze(e,t){if(e&&je[e])for(const r of je[e]||[])try{r(t)}catch(t){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&re.error(`Error while triggering instrumentation handler.\nType: ${e}\nName: ${He(r)}\nError:`,t)}}function Ke(e=[]){return"Request"in Fe&&L(e[0],Request)&&e[0].method?String(e[0].method).toUpperCase():e[1]&&e[1].method?String(e[1].method).toUpperCase():"GET"}function We(e=[]){return"string"==typeof e[0]?e[0]:"Request"in Fe&&L(e[0],Request)?e[0].url:String(e[0])}let $e,Qe,Ze;function Je(e,t=!1){return r=>{if(!r||Ze===r)return;if(function(e){if("keypress"!==e.type)return!1;try{const t=e.target;if(!t||!t.tagName)return!0;if("INPUT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable)return!1}catch(e){}return!0}(r))return;const n="keypress"===r.type?"input":r.type;(void 0===Qe||function(e,t){if(!e)return!0;if(e.type!==t.type)return!0;try{if(e.target!==t.target)return!0}catch(e){}return!1}(Ze,r))&&(e({event:r,name:n,global:t}),Ze=r),clearTimeout(Qe),Qe=Fe.setTimeout((()=>{Qe=void 0}),1e3)}}let Xe=null,et=null;function tt(e,t=1/0,r=1/0){try{return nt("",e,t,r)}catch(e){return{ERROR:`**non-serializable** (${e})`}}}function rt(e,t=3,r=102400){const n=tt(e,t);return i=n,function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(i))>r?rt(e,t-1,r):n;var i}function nt(e,t,n=1/0,i=1/0,o=function(){const e="function"==typeof WeakSet,t=e?new WeakSet:[];return[function(r){if(e)return!!t.has(r)||(t.add(r),!1);for(let e=0;e<t.length;e++)if(t[e]===r)return!0;return t.push(r),!1},function(r){if(e)t.delete(r);else for(let e=0;e<t.length;e++)if(t[e]===r){t.splice(e,1);break}}]}()){const[s,a]=o;if(null===t||["number","boolean","string"].includes(typeof t)&&("number"!=typeof(c=t)||c==c))return t;var c;const u=function(e,t){try{return"domain"===e&&t&&"object"==typeof t&&t._events?"[Domain]":"domainEmitter"===e?"[DomainEmitter]":void 0!==r.g&&t===r.g?"[Global]":"undefined"!=typeof window&&t===window?"[Window]":"undefined"!=typeof document&&t===document?"[Document]":function(e){return w(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}(t)?"[SyntheticEvent]":"number"==typeof t&&t!=t?"[NaN]":void 0===t?"[undefined]":"function"==typeof t?`[Function: ${He(t)}]`:"symbol"==typeof t?`[${String(t)}]`:"bigint"==typeof t?`[BigInt: ${String(t)}]`:`[object ${Object.getPrototypeOf(t).constructor.name}]`}catch(e){return`**non-serializable** (${e})`}}(e,t);if(!u.startsWith("[object "))return u;if(t.__sentry_skip_normalization__)return t;if(0===n)return u.replace("object ","");if(s(t))return"[Circular ~]";const l=t;if(l&&"function"==typeof l.toJSON)try{return nt("",l.toJSON(),n-1,i,o)}catch(e){}const d=Array.isArray(t)?[]:{};let p=0;const h=Y(t);for(const e in h){if(!Object.prototype.hasOwnProperty.call(h,e))continue;if(p>=i){d[e]="[MaxProperties ~]";break}const t=h[e];d[e]=nt(e,t,n-1,i,o),p+=1}return a(t),d}function it(e,t){const r=st(e,t),n={type:t&&t.name,value:ct(t)};return r.length&&(n.stacktrace={frames:r}),void 0===n.type&&""===n.value&&(n.value="Unrecoverable error caught"),n}function ot(e,t){return{exception:{values:[it(e,t)]}}}function st(e,t){const r=t.stacktrace||t.stack||"",n=function(e){if(e){if("number"==typeof e.framesToPop)return e.framesToPop;if(at.test(e.message))return 1}return 0}(t);try{return e(r,n)}catch(e){}return[]}const at=/Minified React error #\d+;/i;function ct(e){const t=e&&e.message;return t?t.error&&"string"==typeof t.error.message?t.error.message:t:"No error message"}function ut(e,t,r,n,i){let o;if(T(t)&&t.error)return ot(e,t.error);if(P(t)||O(t,"DOMException")){const i=t;if("stack"in t)o=ot(e,t);else{const t=i.name||(P(i)?"DOMError":"DOMException"),s=i.message?`${t}: ${i.message}`:t;o=lt(e,s,r,n),se(o,s)}return"code"in i&&(o.tags={...o.tags,"DOMException.code":`${i.code}`}),o}return C(t)?ot(e,t):w(t)||b(t)?(o=function(e,t,r,n){const i=Te().getClient(),o=i&&i.getOptions().normalizeDepth,s={exception:{values:[{type:b(t)?t.constructor.name:n?"UnhandledRejection":"Error",value:`Non-Error ${n?"promise rejection":"exception"} captured with keys: ${W(t)}`}]},extra:{__serialized__:rt(t,o)}};if(r){const t=st(e,r);t.length&&(s.exception.values[0].stacktrace={frames:t})}return s}(e,t,r,i),ae(o,{synthetic:!0}),o):(o=lt(e,t,r,n),se(o,`${t}`,void 0),ae(o,{synthetic:!0}),o)}function lt(e,t,r,n){const i={message:t};if(n&&r){const n=st(e,r);n.length&&(i.exception={values:[{value:t,stacktrace:{frames:n}}]})}return i}class dt{static __initStatic(){this.id="GlobalHandlers"}__init(){this.name=dt.id}__init2(){this._installFunc={onerror:pt,onunhandledrejection:ht}}constructor(e){dt.prototype.__init.call(this),dt.prototype.__init2.call(this),this._options={onerror:!0,onunhandledrejection:!0,...e}}setupOnce(){Error.stackTraceLimit=50;const e=this._options;for(const r in e){const n=this._installFunc[r];n&&e[r]&&(t=r,("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&re.log(`Global Handler attached: ${t}`),n(),this._installFunc[r]=void 0)}var t}}function pt(){Ye("error",(e=>{const[t,r,n]=mt();if(!t.getIntegration(dt))return;const{msg:i,url:o,line:s,column:a,error:c}=e;if(xe()||c&&c.__sentry_own_request__)return;const u=void 0===c&&R(i)?function(e,t,r,n){let i=T(e)?e.message:e,o="Error";const s=i.match(/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i);return s&&(o=s[1],i=s[2]),ft({exception:{values:[{type:o,value:i}]}},t,r,n)}(i,o,s,a):ft(ut(r,c||i,void 0,n,!1),o,s,a);u.level="error",gt(t,c,u,"onerror")}))}function ht(){Ye("unhandledrejection",(e=>{const[t,r,n]=mt();if(!t.getIntegration(dt))return;let i=e;try{"reason"in e?i=e.reason:"detail"in e&&"reason"in e.detail&&(i=e.detail.reason)}catch(e){}if(xe()||i&&i.__sentry_own_request__)return!0;const o=N(i)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(i)}`}]}}:ut(r,i,void 0,n,!0);o.level="error",gt(t,i,o,"onunhandledrejection")}))}function ft(e,t,r,n){const i=e.exception=e.exception||{},o=i.values=i.values||[],s=o[0]=o[0]||{},a=s.stacktrace=s.stacktrace||{},c=a.frames=a.frames||[],u=isNaN(parseInt(n,10))?void 0:n,l=isNaN(parseInt(r,10))?void 0:r,d=R(t)&&t.length>0?t:function(){try{return U.document.location.href}catch(e){return""}}();return 0===c.length&&c.push({colno:u,filename:d,function:"?",in_app:!0,lineno:l}),e}function gt(e,t,r,n){ae(r,{handled:!1,type:n}),e.captureEvent(r,{originalException:t})}function mt(){const e=Te(),t=e.getClient(),r=t&&t.getOptions()||{stackParser:()=>[],attachStacktrace:!1};return[e,r.stackParser,r.attachStacktrace]}dt.__initStatic();const Et=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"];class vt{static __initStatic(){this.id="TryCatch"}__init(){this.name=vt.id}constructor(e){vt.prototype.__init.call(this),this._options={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e}}setupOnce(){this._options.setTimeout&&F(De,"setTimeout",yt),this._options.setInterval&&F(De,"setInterval",yt),this._options.requestAnimationFrame&&F(De,"requestAnimationFrame",_t),this._options.XMLHttpRequest&&"XMLHttpRequest"in De&&F(XMLHttpRequest.prototype,"send",At);const e=this._options.eventTarget;e&&(Array.isArray(e)?e:Et).forEach(It)}}function yt(e){return function(...t){const r=t[0];return t[0]=Me(r,{mechanism:{data:{function:He(e)},handled:!0,type:"instrument"}}),e.apply(this,t)}}function _t(e){return function(t){return e.apply(this,[Me(t,{mechanism:{data:{function:"requestAnimationFrame",handler:He(e)},handled:!0,type:"instrument"}})])}}function At(e){return function(...t){const r=this;return["onload","onerror","onprogress","onreadystatechange"].forEach((e=>{e in r&&"function"==typeof r[e]&&F(r,e,(function(t){const r={mechanism:{data:{function:e,handler:He(t)},handled:!0,type:"instrument"}},n=V(t);return n&&(r.mechanism.data.handler=He(n)),Me(t,r)}))})),e.apply(this,t)}}function It(e){const t=De,r=t[e]&&t[e].prototype;r&&r.hasOwnProperty&&r.hasOwnProperty("addEventListener")&&(F(r,"addEventListener",(function(t){return function(r,n,i){try{"function"==typeof n.handleEvent&&(n.handleEvent=Me(n.handleEvent,{mechanism:{data:{function:"handleEvent",handler:He(n),target:e},handled:!0,type:"instrument"}}))}catch(e){}return t.apply(this,[r,Me(n,{mechanism:{data:{function:"addEventListener",handler:He(n),target:e},handled:!0,type:"instrument"}}),i])}})),F(r,"removeEventListener",(function(e){return function(t,r,n){const i=r;try{const r=i&&i.__sentry_wrapped__;r&&e.call(this,t,r,n)}catch(e){}return e.call(this,t,i,n)}})))}vt.__initStatic();const St=["fatal","error","warning","log","info","debug"];function Ct(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const r=t[6]||"",n=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],relative:t[5]+r+n}}const Ot="Breadcrumbs";class Tt{static __initStatic(){this.id=Ot}__init(){this.name=Tt.id}constructor(e){Tt.prototype.__init.call(this),this.options={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e}}setupOnce(){var e;this.options.console&&Ye("console",Pt),this.options.dom&&Ye("dom",(e=this.options.dom,function(t){let r,n="object"==typeof e?e.serializeAttribute:void 0;"string"==typeof n&&(n=[n]);try{r=t.event.target?M(t.event.target,n):M(t.event,n)}catch(e){r="<unknown>"}0!==r.length&&Te().addBreadcrumb({category:`ui.${t.name}`,message:r},{event:t.event,name:t.name,global:t.global})})),this.options.xhr&&Ye("xhr",Rt),this.options.fetch&&Ye("fetch",Nt),this.options.history&&Ye("history",wt)}}function Pt(e){for(let t=0;t<e.args.length;t++)if("ref=Ref<"===e.args[t]){e.args[t+1]="viewRef";break}const t={category:"console",data:{arguments:e.args,logger:"console"},level:(r=e.level,"warn"===r?"warning":St.includes(r)?r:"log"),message:B(e.args," ")};var r;if("assert"===e.level){if(!1!==e.args[0])return;t.message=`Assertion failed: ${B(e.args.slice(1)," ")||"console.assert"}`,t.data.arguments=e.args.slice(1)}Te().addBreadcrumb(t,{input:e.args,level:e.level})}function Rt(e){if(e.endTimestamp){if(e.xhr.__sentry_own_request__)return;const{method:t,url:r,status_code:n,body:i}=e.xhr.__sentry_xhr__||{};Te().addBreadcrumb({category:"xhr",data:{method:t,url:r,status_code:n},type:"http"},{xhr:e.xhr,input:i})}}function Nt(e){e.endTimestamp&&(e.fetchData.url.match(/sentry_key/)&&"POST"===e.fetchData.method||(e.error?Te().addBreadcrumb({category:"fetch",data:e.fetchData,level:"error",type:"http"},{data:e.error,input:e.args}):Te().addBreadcrumb({category:"fetch",data:{...e.fetchData,status_code:e.response.status},type:"http"},{input:e.args,response:e.response})))}function wt(e){let t=e.from,r=e.to;const n=Ct(De.location.href);let i=Ct(t);const o=Ct(r);i.path||(i=n),n.protocol===o.protocol&&n.host===o.host&&(r=o.relative),n.protocol===i.protocol&&n.host===i.host&&(t=i.relative),Te().addBreadcrumb({category:"navigation",data:{from:t,to:r}})}Tt.__initStatic();class bt{static __initStatic(){this.id="LinkedErrors"}__init(){this.name=bt.id}constructor(e={}){bt.prototype.__init.call(this),this._key=e.key||"cause",this._limit=e.limit||5}setupOnce(){const e=Te().getClient();e&&Ae(((t,r)=>{const n=Te().getIntegration(bt);return n?function(e,t,r,n,i){if(!(n.exception&&n.exception.values&&i&&L(i.originalException,Error)))return n;const o=Dt(e,r,i.originalException,t);return n.exception.values=[...o,...n.exception.values],n}(e.getOptions().stackParser,n._key,n._limit,t,r):t}))}}function Dt(e,t,r,n,i=[]){if(!L(r[n],Error)||i.length+1>=t)return i;const o=it(e,r[n]);return Dt(e,t,r[n],n,[o,...i])}bt.__initStatic();class Lt{constructor(){Lt.prototype.__init.call(this)}static __initStatic(){this.id="HttpContext"}__init(){this.name=Lt.id}setupOnce(){Ae((e=>{if(Te().getIntegration(Lt)){if(!De.navigator&&!De.location&&!De.document)return e;const t=e.request&&e.request.url||De.location&&De.location.href,{referrer:r}=De.document||{},{userAgent:n}=De.navigator||{},i={...t&&{url:t},headers:{...e.request&&e.request.headers,...r&&{Referer:r},...n&&{"User-Agent":n}}};return{...e,request:i}}return e}))}}Lt.__initStatic();class xt{constructor(){xt.prototype.__init.call(this)}static __initStatic(){this.id="Dedupe"}__init(){this.name=xt.id}setupOnce(e,t){const r=e=>{const r=t().getIntegration(xt);if(r){try{if(function(e,t){return!!t&&(!!function(e,t){const r=e.message,n=t.message;return!(!r&&!n)&&(!(r&&!n||!r&&n)&&(r===n&&(!!Mt(e,t)&&!!Ut(e,t))))}(e,t)||!!function(e,t){const r=kt(t),n=kt(e);return!(!r||!n)&&(r.type===n.type&&r.value===n.value&&(!!Mt(e,t)&&!!Ut(e,t)))}(e,t))}(e,r._previousEvent))return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&re.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(t){return r._previousEvent=e}return r._previousEvent=e}return e};r.id=this.name,e(r)}}function Ut(e,t){let r=Ht(e),n=Ht(t);if(!r&&!n)return!0;if(r&&!n||!r&&n)return!1;if(r=r,n=n,n.length!==r.length)return!1;for(let e=0;e<n.length;e++){const t=n[e],i=r[e];if(t.filename!==i.filename||t.lineno!==i.lineno||t.colno!==i.colno||t.function!==i.function)return!1}return!0}function Mt(e,t){let r=e.fingerprint,n=t.fingerprint;if(!r&&!n)return!0;if(r&&!n||!r&&n)return!1;r=r,n=n;try{return!(r.join("")!==n.join(""))}catch(e){return!1}}function kt(e){return e.exception&&e.exception.values&&e.exception.values[0]}function Ht(e){const t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch(e){return}}xt.__initStatic();let Bt={};De.Sentry&&De.Sentry.Integrations&&(Bt=De.Sentry.Integrations);const Gt={...Bt,...e,...t},Ft="?";function jt(e,t,r,n){const i={filename:e,function:t,in_app:!0};return void 0!==r&&(i.lineno=r),void 0!==n&&(i.colno=n),i}const qt=/^\s*at (?:(.*\).*?|.*?) ?\((?:address at )?)?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Vt=/\((\S*)(?::(\d+))(?::(\d+))\)/,Yt=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|safari-extension|safari-web-extension|capacitor)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,zt=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Kt=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Wt=function(...e){const t=e.sort(((e,t)=>e[0]-t[0])).map((e=>e[1]));return(e,r=0)=>{const n=[];for(const i of e.split("\n").slice(r)){const e=i.replace(/\(error: (.*)\)/,"$1");for(const r of t){const t=r(e);if(t){n.push(t);break}}}return function(e){if(!e.length)return[];let t=e;const r=t[0].function||"",n=t[t.length-1].function||"";return-1===r.indexOf("captureMessage")&&-1===r.indexOf("captureException")||(t=t.slice(1)),-1!==n.indexOf("sentryWrapped")&&(t=t.slice(0,-1)),t.slice(0,50).map((e=>({...e,filename:e.filename||t[0].filename,function:e.function||"?"}))).reverse()}(n)}}([30,e=>{const t=qt.exec(e);if(t){if(t[2]&&0===t[2].indexOf("eval")){const e=Vt.exec(t[2]);e&&(t[2]=e[1],t[3]=e[2],t[4]=e[3])}const[e,r]=$t(t[1]||Ft,t[2]);return jt(r,e,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}}],[50,e=>{const t=Yt.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const e=zt.exec(t[3]);e&&(t[1]=t[1]||"eval",t[3]=e[1],t[4]=e[2],t[5]="")}let e=t[3],r=t[1]||Ft;return[r,e]=$t(r,e),jt(e,r,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}],[40,e=>{const t=Kt.exec(e);return t?jt(t[2],t[1]||Ft,+t[3],t[4]?+t[4]:void 0):void 0}]),$t=(e,t)=>{const r=-1!==e.indexOf("safari-extension"),n=-1!==e.indexOf("safari-web-extension");return r||n?[-1!==e.indexOf("@")?e.split("@")[0]:Ft,r?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]};class Qt extends Error{constructor(e,t="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=t}}function Zt(e,t=[]){return[e,t]}function Jt(e,t){const[r,n]=e;return[r,[...n,t]]}function Xt(e,t){e[1].forEach((e=>{const r=e[0].type;t(e,r)}))}function er(e,t){return(t||new TextEncoder).encode(e)}function tr(e,t){const[r,n]=e;let i=JSON.stringify(r);function o(e){"string"==typeof i?i="string"==typeof e?i+e:[er(i,t),e]:i.push("string"==typeof e?er(e,t):e)}for(const e of n){const[t,r]=e;if(o(`\n${JSON.stringify(t)}\n`),"string"==typeof r||r instanceof Uint8Array)o(r);else{let e;try{e=JSON.stringify(r)}catch(t){e=JSON.stringify(tt(r))}o(e)}}return"string"==typeof i?i:function(e){const t=e.reduce(((e,t)=>e+t.length),0),r=new Uint8Array(t);let n=0;for(const t of e)r.set(t,n),n+=t.length;return r}(i)}function rr(e,t){const r="string"==typeof e.data?er(e.data,t):e.data;return[$({type:"attachment",length:r.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),r]}const nr={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default"};function ir(e){return nr[e]}function or(e,t,r=function(e){const t=[];function r(e){return t.splice(t.indexOf(e),1)[0]}return{$:t,add:function(n){if(!(void 0===e||t.length<e))return me(new Qt("Not adding Promise because buffer limit was reached."));const i=n();return-1===t.indexOf(i)&&t.push(i),i.then((()=>r(i))).then(null,(()=>r(i).then(null,(()=>{})))),i},drain:function(e){return new Ee(((r,n)=>{let i=t.length;if(!i)return r(!0);const o=setTimeout((()=>{e&&e>0&&r(!1)}),e);t.forEach((e=>{ge(e).then((()=>{--i||(clearTimeout(o),r(!0))}),n)}))}))}}}(e.bufferSize||30)){let n={};return{send:function(i){const o=[];if(Xt(i,((t,r)=>{const i=ir(r);!function(e,t,r=Date.now()){return function(e,t){return e[t]||e.all||0}(e,t)>r}(n,i)?o.push(t):e.recordDroppedEvent("ratelimit_backoff",i)})),0===o.length)return ge();const s=Zt(i[0],o),a=t=>{Xt(s,((r,n)=>{e.recordDroppedEvent(t,ir(n))}))};return r.add((()=>t({body:tr(s,e.textEncoder)}).then((e=>{void 0!==e.statusCode&&(e.statusCode<200||e.statusCode>=300)&&("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&re.warn(`Sentry responded with status code ${e.statusCode} to sent event.`),n=function(e,{statusCode:t,headers:r},n=Date.now()){const i={...e},o=r&&r["x-sentry-rate-limits"],s=r&&r["retry-after"];if(o)for(const e of o.trim().split(",")){const[t,r]=e.split(":",2),o=parseInt(t,10),s=1e3*(isNaN(o)?60:o);if(r)for(const e of r.split(";"))i[e]=n+s;else i.all=n+s}else s?i.all=n+function(e,t=Date.now()){const r=parseInt(`${e}`,10);if(!isNaN(r))return 1e3*r;const n=Date.parse(`${e}`);return isNaN(n)?6e4:n-t}(s,n):429===t&&(i.all=n+6e4);return i}(n,e)}),(e=>{("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&re.error("Failed while sending event:",e),a("network_error")})))).then((e=>e),(e=>{if(e instanceof Qt)return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&re.error("Skipped sending event because buffer is full."),a("queue_overflow"),ge();throw e}))},flush:e=>r.drain(e)}}let sr;function ar(e,t=function(){if(sr)return sr;if(Ge(De.fetch))return sr=De.fetch.bind(De);const e=De.document;let t=De.fetch;if(e&&"function"==typeof e.createElement)try{const r=e.createElement("iframe");r.hidden=!0,e.head.appendChild(r);const n=r.contentWindow;n&&n.fetch&&(t=n.fetch),e.head.removeChild(r)}catch(e){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&re.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return sr=t.bind(De)}()){return or(e,(function(r){const n={body:r.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:r.body.length<=65536,...e.fetchOptions};try{return t(e.url,n).then((e=>({statusCode:e.status,headers:{"x-sentry-rate-limits":e.headers.get("X-Sentry-Rate-Limits"),"retry-after":e.headers.get("Retry-After")}})))}catch(e){return sr=void 0,me(e)}}))}const cr=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function ur(e,t=!1){const{host:r,path:n,pass:i,port:o,projectId:s,protocol:a,publicKey:c}=e;return`${a}://${c}${t&&i?`:${i}`:""}@${r}${o?`:${o}`:""}/${n?`${n}/`:n}${s}`}function lr(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function dr(e,t={}){const r="string"==typeof t?t:t.tunnel,n="string"!=typeof t&&t._metadata?t._metadata.sdk:void 0;return r||`${function(e){return`${function(e){const t=e.protocol?`${e.protocol}:`:"",r=e.port?`:${e.port}`:"";return`${t}//${e.host}${r}${e.path?`/${e.path}`:""}/api/`}(e)}${e.projectId}/envelope/`}(e)}?${function(e,t){return r={sentry_key:e.publicKey,sentry_version:"7",...t&&{sentry_client:`${t.name}/${t.version}`}},Object.keys(r).map((e=>`${encodeURIComponent(e)}=${encodeURIComponent(r[e])}`)).join("&");var r}(e,n)}`}function pr(e){if(!e||!e.sdk)return;const{name:t,version:r}=e.sdk;return{name:t,version:r}}const hr=[],fr="Not capturing exception because it's already been captured.";class gr{__init(){this._integrations={}}__init2(){this._integrationsInitialized=!1}__init3(){this._numProcessing=0}__init4(){this._outcomes={}}constructor(e){if(gr.prototype.__init.call(this),gr.prototype.__init2.call(this),gr.prototype.__init3.call(this),gr.prototype.__init4.call(this),this._options=e,e.dsn){this._dsn=function(e){const t="string"==typeof e?function(e){const t=cr.exec(e);if(!t)throw new Qt(`Invalid Sentry Dsn: ${e}`);const[r,n,i="",o,s="",a]=t.slice(1);let c="",u=a;const l=u.split("/");if(l.length>1&&(c=l.slice(0,-1).join("/"),u=l.pop()),u){const e=u.match(/^\d+/);e&&(u=e[0])}return lr({host:o,pass:i,path:c,projectId:u,port:s,protocol:r,publicKey:n})}(e):lr(e);return function(e){if("undefined"!=typeof __SENTRY_DEBUG__&&!__SENTRY_DEBUG__)return;const{port:t,projectId:r,protocol:n}=e;if(["protocol","publicKey","host","projectId"].forEach((t=>{if(!e[t])throw new Qt(`Invalid Sentry Dsn: ${t} missing`)})),!r.match(/^\d+$/))throw new Qt(`Invalid Sentry Dsn: Invalid projectId ${r}`);if(!function(e){return"http"===e||"https"===e}(n))throw new Qt(`Invalid Sentry Dsn: Invalid protocol ${n}`);if(t&&isNaN(parseInt(t,10)))throw new Qt(`Invalid Sentry Dsn: Invalid port ${t}`)}(t),t}(e.dsn);const t=dr(this._dsn,e);this._transport=e.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:t})}else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&re.warn("No DSN provided, client will not do anything.")}captureException(e,t,r){if(ce(e))return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&re.log(fr));let n=t&&t.event_id;return this._process(this.eventFromException(e,t).then((e=>this._captureEvent(e,t,r))).then((e=>{n=e}))),n}captureMessage(e,t,r,n){let i=r&&r.event_id;const o=N(e)?this.eventFromMessage(String(e),t,r):this.eventFromException(e,r);return this._process(o.then((e=>this._captureEvent(e,r,n))).then((e=>{i=e}))),i}captureEvent(e,t,r){if(t&&t.originalException&&ce(t.originalException))return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&re.log(fr));let n=t&&t.event_id;return this._process(this._captureEvent(e,t,r).then((e=>{n=e}))),n}captureSession(e){this._isEnabled()?"string"!=typeof e.release?("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&re.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),ve(e,{init:!1})):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&re.warn("SDK not enabled, will not capture session.")}getDsn(){return this._dsn}getOptions(){return this._options}getTransport(){return this._transport}flush(e){const t=this._transport;return t?this._isClientDoneProcessing(e).then((r=>t.flush(e).then((e=>r&&e)))):ge(!0)}close(e){return this.flush(e).then((e=>(this.getOptions().enabled=!1,e)))}setupIntegrations(){this._isEnabled()&&!this._integrationsInitialized&&(this._integrations=function(e){const t={};return e.forEach((e=>{t[e.name]=e,-1===hr.indexOf(e.name)&&(e.setupOnce(Ae,Te),hr.push(e.name),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&re.log(`Integration installed: ${e.name}`))})),t}(this._options.integrations),this._integrationsInitialized=!0)}getIntegrationById(e){return this._integrations[e]}getIntegration(e){try{return this._integrations[e.id]||null}catch(t){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&re.warn(`Cannot retrieve integration ${e.id} from the current Client`),null}}sendEvent(e,t={}){if(this._dsn){let r=function(e,t,r,n){const i=pr(r),o=e.type||"event";!function(e,t){t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]])}(e,r&&r.sdk);const s=function(e,t,r,n){const i=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&{sdk:t},...!!r&&{dsn:ur(n)},..."transaction"===e.type&&i&&{trace:$({...i})}}}(e,i,n,t);return delete e.sdkProcessingMetadata,Zt(s,[[{type:o},e]])}(e,this._dsn,this._options._metadata,this._options.tunnel);for(const e of t.attachments||[])r=Jt(r,rr(e,this._options.transportOptions&&this._options.transportOptions.textEncoder));this._sendEnvelope(r)}}sendSession(e){if(this._dsn){const t=function(e,t,r,n){const i=pr(r);return Zt({sent_at:(new Date).toISOString(),...i&&{sdk:i},...!!n&&{dsn:ur(t)}},["aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e]])}(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(t)}}recordDroppedEvent(e,t){if(this._options.sendClientReports){const r=`${e}:${t}`;("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&re.log(`Adding outcome: "${r}"`),this._outcomes[r]=this._outcomes[r]+1||1}}_updateSessionFromEvent(e,t){let r=!1,n=!1;const i=t.exception&&t.exception.values;if(i){n=!0;for(const e of i){const t=e.mechanism;if(t&&!1===t.handled){r=!0;break}}}const o="ok"===e.status;(o&&0===e.errors||o&&r)&&(ve(e,{...r&&{status:"crashed"},errors:e.errors||Number(n||r)}),this.captureSession(e))}_isClientDoneProcessing(e){return new Ee((t=>{let r=0;const n=setInterval((()=>{0==this._numProcessing?(clearInterval(n),t(!0)):(r+=1,e&&r>=e&&(clearInterval(n),t(!1)))}),1)}))}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._dsn}_prepareEvent(e,t,r){const{normalizeDepth:n=3,normalizeMaxBreadth:i=1e3}=this.getOptions(),o={...e,event_id:e.event_id||t.event_id||ne(),timestamp:e.timestamp||(0,he.yW)()};this._applyClientOptions(o),this._applyIntegrationsMetadata(o);let s=r;t.captureContext&&(s=ye.clone(s).update(t.captureContext));let a=ge(o);if(s){const e=[...t.attachments||[],...s.getAttachments()];e.length&&(t.attachments=e),a=s.applyToEvent(o,t)}return a.then((e=>"number"==typeof n&&n>0?this._normalizeEvent(e,n,i):e))}_normalizeEvent(e,t,r){if(!e)return null;const n={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map((e=>({...e,...e.data&&{data:tt(e.data,t,r)}})))},...e.user&&{user:tt(e.user,t,r)},...e.contexts&&{contexts:tt(e.contexts,t,r)},...e.extra&&{extra:tt(e.extra,t,r)}};return e.contexts&&e.contexts.trace&&n.contexts&&(n.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(n.contexts.trace.data=tt(e.contexts.trace.data,t,r))),e.spans&&(n.spans=e.spans.map((e=>(e.data&&(e.data=tt(e.data,t,r)),e)))),n}_applyClientOptions(e){const t=this.getOptions(),{environment:r,release:n,dist:i,maxValueLength:o=250}=t;"environment"in e||(e.environment="environment"in t?r:"production"),void 0===e.release&&void 0!==n&&(e.release=n),void 0===e.dist&&void 0!==i&&(e.dist=i),e.message&&(e.message=H(e.message,o));const s=e.exception&&e.exception.values&&e.exception.values[0];s&&s.value&&(s.value=H(s.value,o));const a=e.request;a&&a.url&&(a.url=H(a.url,o))}_applyIntegrationsMetadata(e){const t=Object.keys(this._integrations);t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}_captureEvent(e,t={},r){return this._processEvent(e,t,r).then((e=>e.event_id),(e=>{if("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__){const t=e;"log"===t.logLevel?re.log(t.message):re.warn(t)}}))}_processEvent(e,t,r){const{beforeSend:n,sampleRate:i}=this.getOptions();if(!this._isEnabled())return me(new Qt("SDK not enabled, will not capture event.","log"));const o="transaction"===e.type;return!o&&"number"==typeof i&&Math.random()>i?(this.recordDroppedEvent("sample_rate","error"),me(new Qt(`Discarding event because it's not included in the random sample (sampling rate = ${i})`,"log"))):this._prepareEvent(e,t,r).then((r=>{if(null===r)throw this.recordDroppedEvent("event_processor",e.type||"error"),new Qt("An event processor returned null, will not send event.","log");return t.data&&!0===t.data.__sentry__||o||!n?r:function(e){const t="`beforeSend` method has to return `null` or a valid event.";if(D(e))return e.then((e=>{if(!w(e)&&null!==e)throw new Qt(t);return e}),(e=>{throw new Qt(`beforeSend rejected with ${e}`)}));if(!w(e)&&null!==e)throw new Qt(t);return e}(n(r,t))})).then((n=>{if(null===n)throw this.recordDroppedEvent("before_send",e.type||"error"),new Qt("`beforeSend` returned `null`, will not send event.","log");const i=r&&r.getSession();!o&&i&&this._updateSessionFromEvent(i,n);const s=n.transaction_info;if(o&&s&&n.transaction!==e.transaction){const e="custom";n.transaction_info={...s,source:e,changes:[...s.changes,{source:e,timestamp:n.timestamp,propagations:s.propagations}]}}return this.sendEvent(n,t),n})).then(null,(e=>{if(e instanceof Qt)throw e;throw this.captureException(e,{data:{__sentry__:!0},originalException:e}),new Qt(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${e}`)}))}_process(e){this._numProcessing+=1,e.then((e=>(this._numProcessing-=1,e)),(e=>(this._numProcessing-=1,e)))}_sendEnvelope(e){this._transport&&this._dsn?this._transport.send(e).then(null,(e=>{("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&re.error("Error while sending event:",e)})):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&re.error("Transport disabled")}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.keys(e).map((t=>{const[r,n]=t.split(":");return{reason:r,category:n,quantity:e[t]}}))}}const mr="7.17.3";class Er extends gr{constructor(e){e._metadata=e._metadata||{},e._metadata.sdk=e._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:"npm:@sentry/browser",version:mr}],version:mr},super(e),e.sendClientReports&&De.document&&De.document.addEventListener("visibilitychange",(()=>{"hidden"===De.document.visibilityState&&this._flushOutcomes()}))}eventFromException(e,t){return function(e,t,r,n){const i=ut(e,t,r&&r.syntheticException||void 0,n);return ae(i),i.level="error",r&&r.event_id&&(i.event_id=r.event_id),ge(i)}(this._options.stackParser,e,t,this._options.attachStacktrace)}eventFromMessage(e,t="info",r){return function(e,t,r="info",n,i){const o=lt(e,t,n&&n.syntheticException||void 0,i);return o.level=r,n&&n.event_id&&(o.event_id=n.event_id),ge(o)}(this._options.stackParser,e,t,r,this._options.attachStacktrace)}sendEvent(e,t){const r=this.getIntegrationById(Ot);r&&r.options&&r.options.sentry&&Te().addBreadcrumb({category:"sentry."+("transaction"===e.type?"transaction":"event"),event_id:e.event_id,level:e.level,message:oe(e)},{event:e}),super.sendEvent(e,t)}_prepareEvent(e,t,r){return e.platform=e.platform||"javascript",super._prepareEvent(e,t,r)}_flushOutcomes(){const e=this._clearOutcomes();if(0===e.length)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&re.log("No outcomes to send"));if(!this._dsn)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&re.log("No dsn provided, will not send outcomes"));("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&re.log("Sending outcomes:",e);const t=dr(this._dsn,this._options),r=function(e,t,r){return Zt(t?{dsn:t}:{},[[{type:"client_report"},{timestamp:(0,he.yW)(),discarded_events:e}]])}(e,this._options.tunnel&&ur(this._dsn));try{"[object Navigator]"===Object.prototype.toString.call(De&&De.navigator)&&"function"==typeof De.navigator.sendBeacon&&!this._options.transportOptions?De.navigator.sendBeacon.bind(De.navigator)(t,tr(r)):this._sendEnvelope(r)}catch(e){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&re.error(e)}}}var vr,yr,_r,Ar,Ir=Object.defineProperty,Sr=Object.defineProperties,Cr=Object.getOwnPropertyDescriptors,Or=Object.getOwnPropertySymbols,Tr=Object.prototype.hasOwnProperty,Pr=Object.prototype.propertyIsEnumerable,Rr=(e,t,r)=>t in e?Ir(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Nr=(e,t)=>{for(var r in t||(t={}))Tr.call(t,r)&&Rr(e,r,t[r]);if(Or)for(var r of Or(t))Pr.call(t,r)&&Rr(e,r,t[r]);return e},wr=(e,t)=>Sr(e,Cr(t)),br=(e,t,r)=>new Promise(((n,i)=>{var o=e=>{try{a(r.next(e))}catch(e){i(e)}},s=e=>{try{a(r.throw(e))}catch(e){i(e)}},a=e=>e.done?n(e.value):Promise.resolve(e.value).then(o,s);a((r=r.apply(e,t)).next())})),Dr=class extends Error{constructor(e){super(e),this.name="IframeMessengerImplementationError",Object.setPrototypeOf(this,Dr.prototype)}},Lr=class extends Error{constructor(e){super(e),this.name="IframeMessengerInternalMessageError",Object.setPrototypeOf(this,Lr.prototype)}},xr=class extends Error{constructor(e,t,r){if(r){let n=document.getElementById(r);super(`Messenger has not received an acknowledgement of message ${e} with id ${t} from iframe id=${r} which ${void 0!==(null==n?void 0:n.src)?"exists":"does not exist"}`)}else super(`Messenger has not received an acknowledgement of message ${e} with id ${t}, no iframeID was set`);this.type=e,this.id=t,this.iframeID=r,this.name="IframeMessengerTimeoutError",Object.setPrototypeOf(this,xr.prototype)}},Ur="channel:connected",Mr="channel:connecting",kr="channel:close",Hr="channel:error";(yr=vr||(vr={})).ACK="ack",yr.OK="ok",yr.ERROR="error",(Ar=_r||(_r={}))[Ar.BAD_REQUEST=400]="BAD_REQUEST",Ar[Ar.OK=200]="OK",Ar[Ar.CREATED=201]="CREATED",Ar[Ar.NO_CONTENT=204]="NO_CONTENT",Ar[Ar.NOT_FOUND=404]="NOT_FOUND",Ar[Ar.INTERNAL_SERVER_ERROR=500]="INTERNAL_SERVER_ERROR",Ar[Ar.SERVICE_UNAVAILABLE=503]="SERVICE_UNAVAILABLE",Ar[Ar.TOO_MANY_REQUESTS=429]="TOO_MANY_REQUESTS",Ar[Ar.UNAUTHORIZED=401]="UNAUTHORIZED";var Br,Gr,Fr={get BACKOFF_FACTOR(){return 1.66},get REQUEST_DURATION_MAX_MS(){return 6e4},get REQUEST_TIMEOUT_MS(){return[1e4,2e4,3e4]},get RETRY_DELAY_MS(){return 200},STATUS_CODE:_r},jr=class extends Error{constructor(e,t){super(`The listener provided for event type ${e} timed out after ${t} milliseconds. If you've returned a promise, ensure it is resolving`),this.name="EventListenerTimeoutError",Object.setPrototypeOf(this,jr.prototype)}},qr=class extends Error{constructor(e,t){super(`The listener provided for event type ${e} threw an error: ${t}`),this.name="InvalidEventListenerError",Object.setPrototypeOf(this,qr.prototype)}},Vr=class extends Error{constructor(e,t,r){super(`Request timeout exceeded (attempts=${e}; duration=${t}ms; url=${r})`),this.name="HttpRequestTimeoutError",Object.setPrototypeOf(this,Vr.prototype)}},Yr=class extends Error{constructor(e,t,r){super(`Invalid JSON received (status=${t}; url=${e})`),this.originalErrorMessage=r,this.name="HttpRequestInvalidJsonError",Object.setPrototypeOf(this,Yr.prototype)}},zr=class extends Error{constructor(e,t,r){super(`Network error during request (attempts=${e}; duration=${t}ms; url=${r})`),this.name="HttpRequestNetworkError",Object.setPrototypeOf(this,zr.prototype)}},Kr={timeout:function(e,t){return br(this,arguments,(function*(e,t,r=new Error("Promise timeout exceeded")){let n=-1,i=new Promise(((e,i)=>{n=window.setTimeout((()=>{i(r)}),t)})),o=yield Promise.race([i,e()]);return window.clearTimeout(n),o}))}};(Gr=Br||(Br={})).GET="GET",Gr.PATCH="PATCH",Gr.POST="POST",Gr.PUT="PUT";var Wr="include",$r="cors";function Qr(e,t){let r=function(e,t){return Math.floor(e*Math.pow(Fr.BACKOFF_FACTOR,t))}(Fr.RETRY_DELAY_MS,e-1),n=Date.now()-t,i=Fr.REQUEST_DURATION_MAX_MS-n,o=Fr.REQUEST_TIMEOUT_MS[e-1];return i<=r?i-o:r}function Zr(e,t){return{body:e,status:t.status,statusText:t.statusText}}function Jr(e){let t=new Headers([["Accept","application/json"],["Content-Type","application/json; charset=utf-8"]]);for(let r in e)e[r]&&t.set(r,e[r]);return t}function Xr(e,t){return br(this,null,(function*(){let r={};if(!(e.status<Fr.STATUS_CODE.INTERNAL_SERVER_ERROR))return Zr(r,e);{let n;try{return e.status!==Fr.STATUS_CODE.NO_CONTENT&&(r=yield e.json()),Zr(r,e)}catch(r){let i=r.toString();try{n=yield e.text(),n=`${n} ${i}`}catch(e){n=i}throw new Yr(t,e.status,n)}}}))}function en(e,t,r){return br(this,arguments,(function*(e,t,r,n=1,i=Date.now()){var o;let s=null==(o=r.retryOnTimeout)||o,a=Date.now()-i,c=Fr.REQUEST_DURATION_MAX_MS-a,u=Math.min(r.timeout||Fr.REQUEST_TIMEOUT_MS[n-1],c),l=null;void 0!==window.AbortController&&null!==window.AbortController&&(l=new window.AbortController);let d=wr(Nr({},t),{signal:l?l.signal:null});try{let t=yield Kr.timeout(window.fetch.bind(null,e,d),u,new Vr(n,a,e));return yield Xr(t,e)}catch(o){let c=0;if(o instanceof Vr)l&&l.abort();else{if(o instanceof Yr)throw o;if(c=Qr(n,i),!s||c<=0)throw new zr(n,a,e)}if(!s||n===Fr.REQUEST_TIMEOUT_MS.length)throw o;return new Promise((o=>{setTimeout((()=>{o(en(e,t,r,n+1,i))}),c)}))}}))}function tn(e,t,r){var n,i,o;let s=Jr(null!=(n=t.headers)?n:{});return en(e,{body:JSON.stringify(t.body),headers:s,method:r,credentials:null!=(i=t.credentials)?i:Wr,mode:null!=(o=t.mode)?o:$r},t)}var rn,nn,on,sn,an,cn,un,ln,dn,pn,hn,fn,gn,mn,En,vn,yn,_n,An,In,Sn,Cn,On,Tn,Pn,Rn=function(e,t){return tn(e,t,Br.POST)};r(1874),r(6977),r(7852),r(4603),r(4723),r(6755),r(5306),function(e){e.API_ERROR="API_ERROR",e.AUTHENTICATION_ERROR="AUTHENTICATION_ERROR",e.INVALID_REQUEST_ERROR="INVALID_REQUEST_ERROR",e.RATE_LIMIT_ERROR="RATE_LIMIT_ERROR",e.PAYMENT_METHOD_ERROR="PAYMENT_METHOD_ERROR",e.REFUND_ERROR="REFUND_ERROR"}(rn||(rn={}));class Nn extends Error{constructor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unknown Error",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=e;t.length>0&&(r=function(e,t){return"".concat(e,"\n  ").concat(t.map((e=>{switch(!0){case"message"in e:return e.message;case"detail"in e:return e.detail;default:return"[Unspecified Error]"}})).join("\n  "))}(e,t)),super(r),this.errors=t,this.name="SqError",Object.setPrototypeOf(this,Nn.prototype)}fromSerializedError(e){this.name=e.name,this.message=e.message,e.errors&&(this.errors=e.errors)}}class wn extends Nn{constructor(){super("Web Payments SDK is not enabled for this application"),this.name="WebSdkDisabledError",Object.setPrototypeOf(this,wn.prototype)}}class bn extends Nn{constructor(){super("The Payment 'applicationId' option is not in the correct format."),this.name="InvalidApplicationIdError",Object.setPrototypeOf(this,bn.prototype)}}class Dn extends Nn{constructor(e,t){super("Web Payments SDK was initialized with an application ID created in ".concat(e," however you are currently using ").concat(t,".")),this.name="ApplicationIdEnvironmentMismatchError ",Object.setPrototypeOf(this,Dn.prototype)}}class Ln extends Nn{constructor(){super("You cannot call `tokenize` when using an `onTokenize` callback"),this.name="AfterpayOnTokenizeListenerError",Object.setPrototypeOf(this,Ln.prototype)}}class xn extends Nn{constructor(e,t){super("This instance of ".concat(e," is missing the ").concat(t," listener.")),this.name="PaymentMethodMissingListener",Object.setPrototypeOf(this,xn.prototype)}}class Un extends Nn{constructor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];super("The payment request used for Afterpay/Clearpay caused a failure",e),this.errors=e,this.name="AfterpayRequestError",Object.setPrototypeOf(this,Un.prototype)}}class Mn extends Nn{constructor(){super("The amount is outside of the merchant's Afterpay payment limits."),this.name="AfterpayAmountOutsideLimitsError",Object.setPrototypeOf(this,Mn.prototype)}}class kn extends Nn{constructor(){super("The currency provided is not supported for use with Afterpay/Clearpay"),this.name="AfterpayUnsupportedCurrencyError",Object.setPrototypeOf(this,kn.prototype)}}class Hn extends Nn{constructor(){super("Afterpay/Clearpay is not enabled for this merchant."),this.name="AfterpayMerchantError",Object.setPrototypeOf(this,Hn.prototype)}}class Bn extends Nn{constructor(e){super(e),this.name="AfterpayInvalidPaymentRequestError",Object.setPrototypeOf(this,Bn.prototype)}}class Gn extends Nn{constructor(e){var t=e instanceof HTMLElement?e.nodeName:e;super("The element ".concat(t," was not found")),this.name="ElementNotFoundError",Object.setPrototypeOf(this,Gn.prototype)}}class Fn extends Nn{constructor(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((e=>{var[t,r]=e;return'expected property: "'.concat(t,'" of type "').concat(r,'"')})).join("\n");super("Please ensure you call payments.paymentRequest (https://developer.squareup.com/reference/sdks/web/payments#Payments.paymentRequest) with the appropriate options.\n".concat(e)),this.name="InvalidPaymentRequestError",Object.setPrototypeOf(this,Fn.prototype)}}class jn extends Nn{constructor(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((e=>{var[t,r]=e;return'expected property: "'.concat(t,'" of type "').concat(r,'"')})).join("\n");super("\n".concat(e)),this.name="InvalidPaymentRequestUpdateError",Object.setPrototypeOf(this,jn.prototype)}}class qn extends Nn{constructor(e,t){super("The callback provided to the event listener ".concat(e," threw an error with message: ").concat(t)),this.name="InvalidEventListenerCallbackError",Object.setPrototypeOf(this,qn.prototype)}}class Vn extends Nn{constructor(e){super("option: '".concat(e,"'")),this.name="InvalidOptionError",Object.setPrototypeOf(this,Vn.prototype)}}class Yn extends Nn{constructor(){super("Tokenization has failed. `accountHolderName` is a required option when calling ach.tokenize()"),this.name="PlaidMissingNameError",Object.setPrototypeOf(this,Yn.prototype)}}class zn extends Nn{constructor(){super("Something went wrong and Plaid was not properly initialized"),this.name="PlaidUninitializedError",Object.setPrototypeOf(this,zn.prototype)}}class Kn extends Nn{constructor(e){super("An issue occurred while verifying the buyer",[e]),this.name="VerifyBuyerError",Object.setPrototypeOf(this,Kn.prototype)}}r(6833),(Tn=nn||(nn={})).FOCUS_CLASS_ADDED="focusClassAdded",Tn.FOCUS_CLASS_REMOVED="focusClassRemoved",Tn.ERROR_CLASS_ADDED="errorClassAdded",Tn.ERROR_CLASS_REMOVED="errorClassRemoved",Tn.CARD_BRAND_CHANGED="cardBrandChanged",Tn.POSTAL_CODE_CHANGED="postalCodeChanged",Tn.ESCAPE="escape",Tn.SUBMIT="submit",(On=on||(on={})).CARD_NUMBER="cardNumber",On.CVV="cvv",On.EXPIRATION_DATE="expirationDate",On.POSTAL_CODE="postalCode",(Cn=sn||(sn={})).CARD_INPUT="input",Cn.CARD_INPUT_FOCUS="input.is-focus",Cn.CARD_INPUT_PLACEHOLDER="input::placeholder",Cn.CARD_INPUT_FOCUS_PLACEHOLDER="input.is-focus::placeholder",Cn.CARD_INPUT_ERROR="input.is-error",Cn.CARD_INPUT_ERROR_PLACEHOLDER="input.is-error::placeholder",Cn.CARD_COMPONENT=".input-container",Cn.CARD_COMPONENT_FOCUS=".input-container.is-focus",Cn.CARD_COMPONENT_ERROR=".input-container.is-error",Cn.CARD_INPUT_HELPER_TEXT=".message-text",Cn.CARD_INPUT_HELPER_ICON=".message-icon",Cn.CARD_INPUT_ERROR_TEXT=".message-text.is-error",Cn.CARD_INPUT_ERROR_ICON=".message-icon.is-error",(an||(an={})).GIFT_CARD_NUMBER="giftCardNumber",(Sn=cn||(cn={})).FOCUS_CLASS_ADDED="focusClassAdded",Sn.FOCUS_CLASS_REMOVED="focusClassRemoved",Sn.ERROR_CLASS_ADDED="errorClassAdded",Sn.ERROR_CLASS_REMOVED="errorClassRemoved",Sn.CARD_BRAND_CHANGED="cardBrandChanged",Sn.ESCAPE="escape",Sn.SUBMIT="submit",function(e){e.UNKNOWN="Unknown"}(un||(un={})),function(e){e.GIFT="Gift"}(ln||(ln={}));class Wn extends Nn{constructor(e){super("".concat(e," is not a valid field name. Valid field names are ").concat([...Object.values(on),...Object.values(an)].join(", "))),this.name="InvalidFieldNameError",Object.setPrototypeOf(this,Wn.prototype)}}class $n extends Nn{constructor(e){super("Configuration property '".concat(e,"' is invalid")),this.name="InvalidConfigurationPropertyError",Object.setPrototypeOf(this,$n.prototype)}}class Qn extends Nn{constructor(e,t,r){super("Configuration property '".concat(e,"' has an invalid value '").concat(t,"'.").concat(r?" ".concat(r,"."):"")),this.name="InvalidConfigurationValueError",Object.setPrototypeOf(this,Qn.prototype)}}class Zn extends Nn{constructor(e,t){super("amount '".concat(e,"' in ").concat(t," is not expressed in a valid format")),this.name="InvalidCurrencyFormatError",Object.setPrototypeOf(this,Zn.prototype)}}class Jn extends Nn{constructor(){super("Web Payments SDK does not support this browser"),this.name="BrowserNotSupportedError",Object.setPrototypeOf(this,Jn.prototype)}}class Xn extends Nn{constructor(){super("Web Payments SDK can only be embedded on sites that use HTTPS"),this.name="WebSdkEmbedError",Object.setPrototypeOf(this,Xn.prototype)}}class ei extends Nn{constructor(e){super("This instance of ".concat(e," has already been attached to the page.")),this.name="PaymentMethodAlreadyAttachedError",Object.setPrototypeOf(this,ei.prototype)}}class ti extends Nn{constructor(e){super("".concat(e," has not been attached to the page. It must be attached before you can call this method.")),this.name="PaymentMethodNotAttachedError",Object.setPrototypeOf(this,ti.prototype)}}class ri extends Nn{constructor(e){super("This instance of ".concat(e," has already been destroyed.")),this.name="PaymentMethodAlreadyDestroyedError",Object.setPrototypeOf(this,ri.prototype)}}class ni extends Nn{constructor(e,t){var r=e instanceof HTMLElement?e.nodeName:e;super("The value ".concat(r," is not a valid element type or selector. Only valid elements or selectors referring to ").concat([...t].join(", ")," elements are allowed.")),this.name="InvalidElementTypeError",Object.setPrototypeOf(this,ni.prototype)}}class ii extends Nn{constructor(e,t){super("An element with one of the following conflicting IDs was found on the page: ".concat(t,". You must change those elements' ID before you can use ").concat(e)),this.name="InvalidElementPresentError",Object.setPrototypeOf(this,ii.prototype)}}class oi extends Nn{constructor(e,t){var r=t||(null==e?void 0:e.field);super("Method unsupported: ".concat(null==e?void 0:e.message).concat(r?" (field=".concat(r,")"):"")),this.name="PaymentMethodUnsupportedError",Object.setPrototypeOf(this,oi.prototype)}}class si extends Nn{constructor(e){super("The ".concat(e," feature is not enabled for this application.")),this.name="FeatureDisabledError",Object.setPrototypeOf(this,si.prototype)}}class ai extends Nn{constructor(e,t,r){super("error loading script ".concat(e,": ").concat(t," ").concat(null==r?void 0:r.toString())),this.name="ScriptLoaderError",Object.setPrototypeOf(this,ai.prototype)}}class ci extends Nn{constructor(e){super("Invalid style property '".concat(e,"'.")),this.name="InvalidInputStylePropertyError",Object.setPrototypeOf(this,ci.prototype)}}class ui extends Nn{constructor(e,t){super("Invalid style value '".concat(t,"' for property '").concat(e,"'.")),this.name="InvalidInputStyleValueError",Object.setPrototypeOf(this,ui.prototype)}}class li extends Nn{constructor(e){super("Invalid style selector '".concat(e,"'.")),this.name="InvalidInputStyleSelectorError",Object.setPrototypeOf(this,li.prototype)}}class di extends Nn{constructor(e){super("One or more style selectors and/or CSS properties are invalid",e),this.errors=e,this.name="InvalidStylesError",Object.setPrototypeOf(this,di.prototype)}}class pi extends Nn{constructor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];super("Tokenization has failed",e),this.errors=e,this.name="TokenizationError",Object.setPrototypeOf(this,pi.prototype)}}class hi extends Nn{constructor(e){var t="An unexpected error occurred";e&&(t+=" while ".concat(e)),super("".concat(t,".")),this.name="UnexpectedError",Object.setPrototypeOf(this,hi.prototype)}}(Pn=dn||(dn={})).APPLE_PAY="Apple Pay",Pn.AFTERPAY_CLEARPAY="AfterpayClearpay",Pn.CARD="Card",Pn.CASH_APP="Cash App",Pn.GOOGLE_PAY="Google Pay",Pn.GIFT_CARD="Gift Card",Pn.ACH="ACH",Pn.CASH_APP_PAY="Cash App Pay",function(e){e.SHIPPING_CONTACT_CHANGED="shippingcontactchanged",e.SHIPPING_OPTION_CHANGED="shippingoptionchanged"}(pn||(pn={}));class fi{constructor(e,t){this.type=e,this.detail=t,this.type=e,this.detail=t}}!function(e){e.UNKNOWN="Unknown",e.OK="OK",e.ERROR="Error",e.INVALID="Invalid",e.ABORT="Abort",e.CANCEL="Cancel"}(hn||(hn={})),function(e){e.BLACK="black",e.GREEN="mint",e.MINT="mint"}(fn||(fn={})),function(e){e.CheckoutWithAfterpay="checkout_with_afterpay",e.BuyNowWithAfterpay="buy_now_with_afterpay",e.PlaceOrderWithAfterpay="place_order_with_afterpay"}(gn||(gn={})),function(e){e.REVIEW_MY_ORDER="review_my_order",e.BUY_NOW="buy_now"}(mn||(mn={})),function(e){e.BLACK_ON_MINT="black-on-mint",e.BLACK_ON_WHITE="black-on-white",e.MINT_ON_BLACK="mint-on-black",e.WHITE_ON_BLACK="white-on-black"}(En||(En={})),function(e){e.XS="xs",e.SM="sm",e.MD="md",e.LG="lg"}(vn||(vn={})),function(e){e.CIRCLED_INFO_ICON="circled-info-icon",e.CIRCLED_QUESTION_ICON="circled-question-icon",e.LEARN_MORE_TEXT="learn-more-text",e.MORE_INFO_TEXT="more-info-text",e.NONE="none"}(yn||(yn={})),function(e){e.MINT="mint",e.WHITE="white"}(_n||(_n={})),function(e){e.AFTERPAY_SHIPPING_ADDRESS_CHANGED="afterpay_shippingaddresschanged",e.AFTERPAY_SHIPPING_OPTION_CHANGED="afterpay_shippingoptionchanged"}(An||(An={})),function(e){e.ON_TOKENIZATION="ontokenization",e.CLOSE_OAUTH="CLOSE_OAUTH",e.ERROR="ERROR",e.EXIT="EXIT",e.FAIL_OAUTH="FAIL_OAUTH",e.HANDOFF="HANDOFF",e.MATCHED_SELECT_INSTITUTION="MATCHED_SELECT_INSTITUTION",e.MATCHED_SELECT_VERIFY_METHOD="MATCHED_SELECT_VERIFY_METHOD",e.OPEN="OPEN",e.OPEN_MY_PLAID="OPEN_MY_PLAID",e.OPEN_OAUTH="OPEN_OAUTH",e.SEARCH_INSTITUTION="SEARCH_INSTITUTION",e.SELECT_BRAND="SELECT_BRAND",e.SELECT_INSTITUTION="SELECT_INSTITUTION",e.SUBMIT_CREDENTIALS="SUBMIT_CREDENTIALS",e.SUBMIT_MFA="SUBMIT_MFA",e.TRANSITION_VIEW="TRANSITION_VIEW"}(In||(In={}));var gi,mi,Ei,vi,yi,_i,Ai,Ii,Si,Ci,Oi,Ti,Pi,Ri,Ni=["borderColor","borderRadius","borderWidth"],wi=["borderColor","borderWidth"],bi=["color"],Di=["color"];function Li(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Object.entries(t).map((e=>{var[t,r]=e;return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(r))})).join("&");return encodeURI(e)+(r.length>0?"?".concat(r):"")}function xi(e){return e.hostname.endsWith("localhost")||"https:"===e.protocol}!function(e){e.UNKNOWN="OTHER_BRAND",e.AMERICAN_EXPRESS="AMERICAN_EXPRESS",e.DINERS_CLUB="DISCOVER_DINERS",e.DISCOVER="DISCOVER",e.JCB="JCB",e.MASTERCARD="MASTERCARD",e.UNION_PAY="CHINA_UNIONPAY",e.VISA="VISA"}(gi||(gi={})),function(e){e.UNKNOWN_CARD_TYPE="UNKNOWN_CARD_TYPE",e.CREDIT="CREDIT",e.DEBIT="DEBIT"}(mi||(mi={})),function(e){e.UNKNOWN_PAYMENT_TYPE="UNKNOWN_PREPAID_TYPE",e.NOT_PREPAID="NOT_PREPAID",e.PREPAID="PREPAID"}(Ei||(Ei={})),function(e){e.DEFAULT="default",e.BLACK="black",e.WHITE="white"}(vi||(vi={})),function(e){e.STATIC="static",e.FILL="fill"}(yi||(yi={})),function(e){e.LONG="long",e.SHORT="short"}(_i||(_i={})),function(e){e.PAYMENT_METHOD_DESTROYED="PAYMENT_METHOD_DESTROYED",e.SHIPPING_ADDRESS_UNSERVICEABLE="SHIPPING_ADDRESS_UNSERVICEABLE",e.SHIPPING_ADDRESS_INVALID="SHIPPING_ADDRESS_INVALID"}(Ai||(Ai={})),function(e){e.LIGHT="light",e.DARK="dark"}(Ii||(Ii={})),function(e){e.SQUARED="Squared",e.SEMIROUNDED="Semirounded",e.ROUNDED="Rounded"}(Si||(Si={})),function(e){e.ROUND="round",e.SEMIROUND="semiround"}(Ci||(Ci={})),function(e){e.MEDIUM="medium",e.SMALL="small"}(Oi||(Oi={})),function(e){e.DARK="dark",e.LIGHT="light"}(Ti||(Ti={})),function(e){e.FULL="full",e.STATIC="static"}(Pi||(Pi={})),function(e){e.GBP="GBP",e.USD="USD"}(Ri||(Ri={}));var Ui=new RegExp(/^[\w.-]+$/i),Mi=new RegExp(/sq0at/i);function ki(e){return I.env===e}function Hi(){return ki(f.production)}function Bi(e){if(!function(e){return!(e.length<22||e.length>37)&&Ui.test(e)&&!Mi.test(e)}(e))throw new bn;var t=e.match(/^[\w-]{22}$/),r=e.startsWith("sq0idp-"),n=e.startsWith("sandbox-sq0idb"),i=e.startsWith("sq0ids-");if(!(t||r||n||i))throw new bn;if(r&&!Hi())throw new Dn(f.production,I.env);if(n&&!ki(f.sandbox))throw new Dn(f.sandbox,I.env)}var Gi=ji(60),Fi=qi(60);function ji(e){return 1e3*e}function qi(e){return e*Gi}var Vi={hoursToMs:function(e){return e*Fi},minutesToMs:qi,msToSeconds:function(e){return e/1e3},secondsToMs:ji},Yi=/^_/g,zi=/(?!^)([A-Z])/g,Ki=/[\s_]+(?=[A-Za-z])/g,Wi=new Set(["BIF","DJF","GNF","JPY","KMF","KRW","PYG","RWF","UGX","UYI","VND","VUV","XAF","XOF","XPF"]),$i=new Set(["JOD","KWD","LYD","OMR","TND"]);function Qi(e){var t=e.toUpperCase();return Wi.has(t)?0:$i.has(t)?3:2}var Zi,Ji,Xi,eo={convertLocaleToUnderscore:function(e){return e.replace(/-/,"_")},cssProperty:function(e){return e.replace(Yi,"-").replace(zi," $1").replace(Ki,"-").toLowerCase()},delay:function(e){return new Promise((t=>setTimeout(t,e)))},decimalPlaces:Qi,formatCSSKeyValuePair:function(e,t){return"".concat(e,": ").concat(t,";")},enumValues:function(e){return Object.keys(e).map((t=>e[t])).filter((function(e){return"string"==typeof e}))},isInstanceOf:function(e,t){return t.some((function(t){return e instanceof t}))},isStaging:function(){return ki(f.staging)},isProduction:Hi,isValidUrl:function(e){try{return new URL(e),!0}catch(e){return!1}},requestId:function(){return Date.now()+Number.parseFloat(Math.random().toFixed(8))},url:Li,versionedUrl:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Li(e,t)},paymentRequestAmountToMoneyAmount:function(e,t){var r=Qi(t),n="^(-?[0-9]+)";r>0&&(n="".concat(n,"(?:\\.([0-9]{1,").concat(r,"})[0-9]*)?")),n="".concat(n,"$");var i=e.match(n);if(!i)throw new Zn(e,t);var o=i[1];if(r>0){var s=i[2]||"";o=o+s+"0".repeat(r-s.length)}return Number(o)},moneyAmountToPaymentRequestAmount:function(e,t){var r=Qi(t);return(e/Math.pow(10,r)).toFixed(r)},moneyAmountToInternationalizedCurrency:function(e,t,r){var n=Qi(t),i=e/Math.pow(10,n);return new Intl.NumberFormat(r,{currency:t,style:"currency"}).format(i)}},to=eo;!function(e){e.CanUseOverrideStrings="can_use_override_strings",e.CanUseInterac="can_use_interac",e.CanUsePaymentsUI="can_use_payments_ui",e.PaymentsUICanUseCard="payments_ui_can_use_card",e.PaymentsUICanUseCashApp="payments_ui_can_use_cash_app",e.PaymentsUICanUseApplePay="payments_ui_can_use_apple_pay",e.PaymentsUICanUseGooglePay="payments_ui_can_use_google_pay",e.PaymentsUICanUseAchPlaid="payments_ui_can_use_ach_plaid",e.PaymentsUICanUseBnplA="payments_ui_can_use_bnpl_a",e.PaymentsUICanUseGiftCard="payments_ui_can_use_gift_card",e.CanUseBNPLA="can_use_bnpl_a",e.CanUsePlaidOAuth="can_use_plaid_oauth",e.RecordErrorMetrics="record_error_metrics"}(Zi||(Zi={})),function(e){e.Control="C",e.TreatmentA="T1"}(Ji||(Ji={})),function(e){e.LEGACY_IMPLEMENTATION="LEGACY_IMPLEMENTATION",e.PREFER_OAUTH_FLOW="PREFER_OAUTH_FLOW",e.ENFORCE_OAUTH_FLOW="ENFORCE_OAUTH_FLOW"}(Xi||(Xi={}));var ro,no,io=I.SENTRY_DSN;class oo{constructor(e){var t;t=e.useGlobalHandlers?new Gt.GlobalHandlers:new Gt.GlobalHandlers({onerror:!1,onunhandledrejection:!1});var r=[new le,new J,new Gt.TryCatch,new Gt.Breadcrumbs,t,new Gt.LinkedErrors,new Gt.HttpContext],n={beforeSend:(t,r)=>{var n;if(!e.enableErrorLogging)return console.error(t.exception),null!==(n=t.exception)&&void 0!==n&&n.values&&t.exception.values.forEach((e=>{console.error(e)})),null;if(!r)return t;var i=r.originalException;if(void 0!==this.featureFlagHandler&&this.featureFlagHandler.isActive(Zi.RecordErrorMetrics)){var o=null==i?void 0:i.toString();i instanceof Error&&(o=i.stack);var s="applicationID: ".concat(e.applicationId,", url: ").concat(e.applicationUrl,", source: ").concat(e.sourceName,", error: ").concat(o);Rn(I.METRICS_ERROR_URL,{body:{sdk_version:I.VERSION,error_message:s||""}}).catch((()=>{}))}return t},dsn:io,environment:e.environment,integrations:r,release:"web-payments-sdk@".concat(I.VERSION),stackParser:Wt,transport:e.transport||ar},i=new Er(n);this.hub=new Se(i),this.hub.configureScope((t=>{t.setTag("applicationId",e.applicationId),t.setTag("applicationUrl",e.applicationUrl),t.setTag("source",e.sourceName),t.setTag("version",e.version),e.sessionId&&t.setTag("sessionId",e.sessionId)})),e.useGlobalHandlers&&Oe(this.hub)}setFeatureFlagHandler(e){this.featureFlagHandler=e}setAvt(e){this.hub.setUser({id:e}),this.hub.configureScope((t=>{t.setTag("avt",e)}))}setSessionId(e){this.hub.configureScope((t=>{t.setTag("sessionId",e)}))}setInstanceId(e){this.hub.configureScope((t=>{t.setTag("instanceId",e)}))}captureException(e,t,r,n){to.isInstanceOf(e,[zr,Vr])||(e instanceof Yr&&this.hub.addBreadcrumb({category:"invalid json error message",message:e.originalErrorMessage,level:"info"}),this.hub.withScope((i=>{r&&i.setTag("sessionId",r),t&&i.setTag("instanceId",t),n&&Object.entries(n).forEach((e=>{var[t,r]=e;i.setTag(t,r)})),this.hub.captureException(e)})))}wrap(e){if(Object.prototype.hasOwnProperty.call(e,"__inner__"))return e;var t=this.captureException.bind(this);function r(r){try{for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return e.apply(r,i)}catch(e){throw t(e),e}}return r.__inner__=e,r}}!function(e){e.INVALID_APPLICATION_ID="INVALID_APPLICATION_ID",e.INVALID_CARD_NUMBER="INVALID_CARD_NUMBER",e.INVALID_CVV="INVALID_CVV",e.INVALID_EXPIRATION_DATE="INVALID_EXPIRATION_DATE",e.INVALID_POSTAL_CODE="INVALID_POSTAL_CODE",e.INVALID_SANDBOX_CARD_NUMBER="INVALID_SANDBOX_CARD_NUMBER",e.INVALID_STAGING_CARD_NUMBER="INVALID_STAGING_CARD_NUMBER",e.MISSING_APPLICATION_ID="MISSING_APPLICATION_ID",e.MISSING_CARD_DATA="MISSING_CARD_DATA",e.UNKNOWN="UNKNOWN",e.UNSUPPORTED_CARD_BRAND="UNSUPPORTED_CARD_BRAND"}(ro||(ro={})),function(e){e.UNKNOWN="UNKNOWN"}(no||(no={}));var so,ao={[no.UNKNOWN]:{message:"An unknown error has occurred",type:"UNKNOWN"}};!function(e){e.EXPIRED_PLAID_SESSION="EXPIRED_PLAID_SESSION",e.INVALID_SELECTED_PLAID_BANK_ACCOUNT_ID="INVALID_SELECTED_PLAID_BANK_ACCOUNT_ID",e.UNKNOWN="UNKNOWN"}(so||(so={}));var co,uo,lo={EXPIRED_PLAID_SESSION:{message:"The plaid session was expired. Please try again.",type:"EXPIRED_PLAID_SESSION"},INVALID_SELECTED_PLAID_BANK_ACCOUNT_ID:{message:"Invalid plaid bank account id selected",type:"INVALID_SELECTED_PLAID_BANK_ACCOUNT_ID"},UNKNOWN:{message:"An unknown error has occurred",type:"UNKNOWN"}},po={INVALID_APPLICATION_ID:{message:"Invalid applicationId",type:"INVALID_APPLICATION_ID"},INVALID_CARD_NUMBER:{field:"cardNumber",message:"Credit card number is not valid",type:"VALIDATION_ERROR"},INVALID_CVV:{field:"cvv",message:"CVV is not valid",type:"VALIDATION_ERROR"},INVALID_EXPIRATION_DATE:{field:"expirationDate",message:"Expiration date is not valid",type:"VALIDATION_ERROR"},INVALID_POSTAL_CODE:{field:"postalCode",message:"Postal code is not valid",type:"VALIDATION_ERROR"},INVALID_SANDBOX_CARD_NUMBER:{field:"cardNumber",message:"Credit card number is not valid for sandbox use. Please use one of the test numbers documented at https://developer.squareup.com/docs/testing/test-values.",type:"VALIDATION_ERROR"},INVALID_STAGING_CARD_NUMBER:{field:"cardNumber",message:"Card number is not allowed in Staging. See: https://go/panfake-ui",type:"VALIDATION_ERROR"},MISSING_APPLICATION_ID:{message:"Missing applicationId",type:"MISSING_APPLICATION_ID"},MISSING_CARD_DATA:{message:"Missing card data",type:"MISSING_CARD_DATA"},UNKNOWN:{message:"An unknown error has occurred",type:"UNKNOWN"},UNSUPPORTED_CARD_BRAND:{field:"cardNumber",message:"Card not supported",type:"UNSUPPORTED_CARD_BRAND"}};!function(e){e.INVALID_VALUE="INVALID_VALUE",e.MISSING_LOCATION_ID_OR_NAME="MISSING_LOCATION_ID_OR_NAME",e.NOT_FOUND="NOT_FOUND",e.UNKNOWN="UNKNOWN"}(co||(co={}));class ho extends Nn{constructor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];super("Internal Validation Error",e),this.errors=e,this.name="InternalValidationError",Object.setPrototypeOf(this,ho.prototype)}}function fo(){return new pi([po.UNKNOWN])}!function(e){e.INTERNAL_SERVER_ERROR="INTERNAL_SERVER_ERROR",e.NOT_FOUND="NOT_FOUND",e.SERVICE_UNAVAILABLE="SERVICE_UNAVAILABLE",e.TOO_MANY_REQUESTS="TOO_MANY_REQUESTS",e.UNAUTHORIZED="UNAUTHORIZED",e.UNKNOWN="UNKNOWN"}(uo||(uo={}));var go={message:"An internal error has occurred. Unable to complete the request.",type:"INTERNAL_SERVER_ERROR"},mo={message:"The requested resource was not found.",type:"NOT_FOUND"},Eo={message:"The endpoint is currently unavailable.",type:"SERVICE_UNAVAILABLE"},vo={message:"Too many requests in progress.",type:"TOO_MANY_REQUESTS"},yo={message:"Request not authorized.",type:"UNAUTHORIZED"},_o={message:"An unknown error has occurred",type:"UNKNOWN"};class Ao extends Nn{constructor(e){super(e),this.name="InternalError",Object.setPrototypeOf(this,Ao.prototype)}}class Io extends Nn{constructor(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=function(e){var{STATUS_CODE:t}=Fr;switch(e){case t.UNAUTHORIZED:return yo;case t.NOT_FOUND:return mo;case t.TOO_MANY_REQUESTS:return vo;case t.INTERNAL_SERVER_ERROR:return go;case t.SERVICE_UNAVAILABLE:return Eo;default:return _o}}(t);super("".concat(i.message," (message=").concat(r,"; url=").concat(e,")"),n),this.name="InternalHttpError",Object.setPrototypeOf(this,Io.prototype)}}class So extends Nn{constructor(e,t){super("".concat(e," (payment_method=").concat(t,")")),this.name="InternalPaymentMethodError",Object.setPrototypeOf(this,So.prototype)}}class Co extends Nn{constructor(e,t,r){super("Request timeout exceeded (attempts=".concat(e,"; duration=").concat(t,"ms; url=").concat(r,")")),this.name="InternalTimeoutError",Object.setPrototypeOf(this,Co.prototype)}}class Oo extends Nn{constructor(e,t){super("Invalid JSON received (status=".concat(t,"; url=").concat(e,")")),this.name="InternalInvalidJsonError",Object.setPrototypeOf(this,Oo.prototype)}}class To extends Nn{constructor(e,t,r){super("Network error during request (attempts=".concat(e,"; duration=").concat(t,"ms; url=").concat(r,")")),this.name="InternalNetworkError",Object.setPrototypeOf(this,To.prototype)}}function Po(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ro(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Po(Object(r),!0).forEach((function(t){No(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Po(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function No(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var wo={InternalError:Ao,InternalHttpError:Io,InternalInvalidJsonError:Oo,InternalNetworkError:To,InternalPaymentMethodError:So,InternalTimeoutError:Co,InternalValidationError:ho};function bo(e){return Object.values(wo).some((t=>e instanceof t))}var Do,Lo,xo,Uo,Mo,ko,Ho,Bo,Go,Fo,jo,qo,Vo={AfterpayAmountOutsideLimitsError:Mn,AfterpayMerchantError:Hn,AfterpayRequestError:Un,AfterpayUnsupportedCurrencyError:kn,BrowserNotSupportedError:Jn,ElementNotFoundError:Gn,InvalidCurrencyFormatError:Zn,InvalidElementTypeError:ni,InvalidEventListenerCallbackError:qn,InvalidOptionError:Vn,InvalidPaymentRequestError:Fn,InvalidPaymentRequestUpdateError:jn,PaymentMethodUnsupportedError:oi,PlaidMissingNameError:Yn,PlaidUninitializedError:zn,ScriptLoaderError:ai,TokenizationError:pi,UnexpectedError:hi,VerifyBuyerError:Kn,WebSdkEmbedError:Xn},Yo=Ro(Ro(Ro({},Vo),wo),{},{AfterpayInvalidPaymentRequestError:Bn,AfterpayOnTokenizeListenerError:Ln,InvalidApplicationIdError:bn,InvalidInputStylePropertyError:ci,InvalidInputStyleValueError:ui,InvalidStylesError:di,PaymentMethodAlreadyAttachedError:ei,PaymentMethodAlreadyDestroyedError:ri,PaymentMethodMissingListener:xn,PaymentMethodNotAttachedError:ti,SqError:Nn,WebSdkDisabledError:wn});(qo=Do||(Do={})).AttachStart="ATTACH:START",qo.AttachOK="ATTACH:OK",qo.AttachError="ATTACH:ERROR",qo.BuildStart="BUILD:START",qo.BuildOK="BUILD:OK",qo.BuildError="BUILD:ERROR",qo.CashAppAPICustomerStart="CASH_APP_API_CUSTOMER:START",qo.CashAppAPICustomerOK="CASH_APP_API_CUSTOMER:OK",qo.CashAppAPICustomerError="CASH_APP_API_CUSTOMER:ERROR",qo.CashAppAuthStart="CASH_APP_AUTH:START",qo.CashAppAuthOK="CASH_APP_AUTH:OK",qo.CashAppAuthError="CASH_APP_AUTH:ERROR",qo.FirstInteraction="FIRST_INTERACTION:OK",qo.PaymentsUILoadFirstScreenStart="LOAD_FIRST_SCREEN:START",qo.PaymentsUILoadFirstScreenOK="LOAD_FIRST_SCREEN:OK",qo.PaymentsUITransitionToStart="TRANSITION_TO:START",qo.PaymentsUITransitionToOK="TRANSITION_TO:OK",qo.PaymentsUITransitionBackStart="TRANSITION_BACK:START",qo.PaymentsUITransitionBackOK="TRANSITION_BACK:OK",qo.GetProductInformationStart="GET_PRODUCT_INFORMATION:START",qo.GetProductInformationOK="GET_PRODUCT_INFORMATION:OK",qo.GetProductInformationError="GET_PRODUCT_INFORMATION:ERROR",qo.InitializeStart="INITIALIZATION:START",qo.InitializeOK="INITIALIZATION:OK",qo.InitializeError="INITIALIZATION:ERROR",qo.LoadOK="LOAD:OK",qo.MainIframeOK="MAIN_IFRAME:OK",qo.NonceStart="NONCE:START",qo.NonceOK="NONCE:OK",qo.NonceError="NONCE:ERROR",qo.VerificationStart="VERIFICATION:START",qo.VerificationOK="VERIFICATION:OK",qo.VerificationError="VERIFICATION:ERROR",qo.AchMissingRequiredOAuthParameters="ACH_MISSING_REQUIRED_OAUTH_PARAMETERS",(jo=Lo||(Lo={})).ExternalSessionStart="EXTERNAL_SESSION:START",jo.ExternalSessionOK="EXTERNAL_SESSION:OK",jo.ExternalSessionError="EXTERNAL_SESSION:ERROR",jo.ExternalSessionCancel="EXTERNAL_SESSION:CANCEL",jo.ShippingAddressChangeOK="SHIPPING_ADDRESS_CHANGE:OK",jo.ShippingOptionChangeOK="SHIPPING_OPTION_CHANGE:OK",jo.AfterpayCreateCheckoutStart="AFTERPAY_CREATE_CHECKOUT:START",jo.AfterpayCreateCheckoutOK="AFTERPAY_CREATE_CHECKOUT:OK",jo.AfterpayCreateCheckoutError="AFTERPAY_CREATE_CHECKOUT:ERROR",function(e){e.Clear="CLEAR",e.ConfigUpdated="CONFIG_UPDATED",e.Configured="CONFIGURED",e.PaymentsUIConfigured="PAYMENTS_UI_CONFIGURED",e.Destroyed="DESTROYED",e.Detached="DETACHED",e.EventListenerAdded="EVENT_LISTENER_ADDED",e.EventListenerOnCompleteResponse="EVENT_LISTENER_ON_COMPLETE_RESPONSE",e.Focused="FOCUSED",e.OverrideStrings="OVERRIDE_STRINGS",e.RecalculatedSize="RECALCULATED_SIZE",e.SetLocale="SET_LOCALE",e.SetError="SET_ERROR"}(xo||(xo={})),function(e){e.IframeMessengerTimeoutError="IFRAME_MESSENGER_TIMEOUT_ERROR"}(Uo||(Uo={})),function(e){e.ExperimentInteraction="EXPERIMENT_INTERACTION"}(Mo||(Mo={})),function(e){e.CASH_APP_API_CUSTOMER="CASH_APP_API_CUSTOMER",e.CASH_APP_AUTH="CASH_APP_AUTH",e.GET_PRODUCT_INFORMATION="GET_PRODUCT_INFORMATION",e.LOAD="LOAD",e.MAIN_IFRAME="MAIN_IFRAME",e.NONCE="NONCE"}(ko||(ko={})),function(e){e.ATTACH="ATTACH",e.BUILD="BUILD",e.INITIALIZATION="INITIALIZATION"}(Ho||(Ho={})),function(e){e.START="START",e.OK="OK",e.ERROR="ERROR"}(Bo||(Bo={})),(Fo=Go||(Go={})).Ach="ACH",Fo.Afterpay="Afterpay",Fo.App="WebSDK",Fo.ApplePay="Apple Pay",Fo.Card="Card",Fo.CashApp="Cash App",Fo.CashAppPayV1="Cash App Pay V1",Fo.GooglePay="Google Pay",Fo.Masterpass="Masterpass",Fo.GiftCard="Gift Card",Fo.Fields="Fields",Fo.PaymentRequest="Payment Request",Fo.PaymentsUI="Payments UI";var zo,Ko={CARD_NONCE_ENDPOINT:new RegExp(I.CARD_NONCE_ENDPOINT),CASH_APP_API_CUSTOMER:new RegExp(I.CASH_APP_API_CUSTOMER),CASH_APP_AUTH_ENDPOINT:new RegExp(I.CASH_APP_AUTH_ENDPOINT),GET_PRODUCT_INFORMATION_ENDPOINT:new RegExp(I.GET_PRODUCT_INFORMATION_ENDPOINT),LIBRARY_RESOURCE:new RegExp("".concat(I.ASSET_BASE_URL,"/([\\w\\d.-]*/)?square").concat(I.APPENDED_FILE_NAME,"\\.js")),MAIN_IFRAME_RESOURCE:new RegExp("".concat(I.ASSET_URL,"/main-iframe").concat(I.APPENDED_FILE_NAME))};!function(e){e.navigation="navigation",e.fetch="fetch",e.iframe="iframe",e.script="script"}(zo||(zo={}));var Wo,$o,Qo,Zo,Jo=new Set(Object.values(xo)),Xo=new Set([Do.InitializeOK,Mo.ExperimentInteraction,Uo.IframeMessengerTimeoutError]);r(6699),r(2023);class es{constructor(e){this.options=e}format(e){var t=e;return void 0!==this.options.regexp&&void 0!==this.options.replacement&&(this.options.replacement,t=e.replace(this.options.regexp,this.options.replacement)),t.slice(0,this.options.maxLength)}}function ts(e,t){var r={};return Object.keys(e).forEach((n=>{"object"==typeof e[n]&&!Array.isArray(e[n])&&t[n]?r[n]=ts(e[n],t[n]):r[n]=t[n]||e[n]})),r}(Zo=Wo||(Wo={})).CA="CA",Zo.GB="GB",Zo.US="US",function(e){e.en="en",e.ja="ja",e.fr="fr",e.es="es"}($o||($o={})),function(e){e.enUS="en-US",e.enIE="en-IE",e.enCA="en-CA",e.enGB="en-GB",e.enAU="en-AU",e.jaJP="ja-JP",e.frFR="fr-FR",e.frCA="fr-CA",e.esES="es-ES"}(Qo||(Qo={}));var rs={"en-AU":{paymentMethods:{cards:{errors:{cardNumberError:"Enter a valid card number.",cvvError:"Enter a valid security code.",expirationDateError:"Enter a valid expiration date.",multipleErrors:"Fix the highlighted errors.",postalCodeErrors:{CA:"Enter a valid postal code.",GB:"Enter a valid postcode.",US:"Enter a valid ZIP code."}},helperText:{cardNumber:"Enter your card number",cvv:"Enter the security code",expirationDate:"Enter the expiration date",postalCodes:{CA:"Enter the postal code",GB:"Enter the postcode",US:"Enter the ZIP code"}},placeholderText:{cardNumber:"Card number",cvv:"CVV",expirationDate:"MM/YY",postalCodes:{CA:"Postal Code",GB:"Postcode",US:"ZIP"}}},giftCards:{errors:{giftCardNumberError:"Enter a valid gift card number."},helperText:{giftCardNumber:"Enter your gift card number"},placeholderText:{giftCardNumber:"Gift card"}},afterpay:{checkoutWidget:{today:"Today",weeks:"weeks",title:"Your 4 interest-free payments"}},wallets:{callbackErrors:{contactError:"There was an error processing your selected shipping contact. Please try again.",optionsError:"There was an error processing your selected shipping option. Please try again."}}}},"en-CA":{paymentMethods:{cards:{errors:{cardNumberError:"Enter a valid card number.",cvvError:"Enter a valid security code.",expirationDateError:"Enter a valid expiration date.",multipleErrors:"Fix the highlighted errors.",postalCodeErrors:{CA:"Enter a valid postal code.",GB:"Enter a valid postcode.",US:"Enter a valid zip code."}},helperText:{cardNumber:"Enter your card number",cvv:"Enter the security code",expirationDate:"Enter the expiration date",postalCodes:{CA:"Enter the postal code",GB:"Enter the postcode",US:"Enter the ZIP code"}},placeholderText:{cardNumber:"Card number",cvv:"CVV",expirationDate:"MM/YY",postalCodes:{CA:"Postal Code",GB:"Postcode",US:"ZIP"}}},giftCards:{errors:{giftCardNumberError:"Enter a valid gift card number."},helperText:{giftCardNumber:"Enter your gift card number"},placeholderText:{giftCardNumber:"Gift card"}},afterpay:{checkoutWidget:{today:"Today",weeks:"weeks",title:"Your 4 interest-free payments"}},wallets:{callbackErrors:{contactError:"There was an error processing your selected shipping contact. Please try again.",optionsError:"There was an error processing your selected shipping option. Please try again."}}}},"en-GB":{paymentMethods:{cards:{errors:{cardNumberError:"Enter a valid card number.",cvvError:"Enter a valid security code.",expirationDateError:"Enter a valid expiration date.",multipleErrors:"Fix the highlighted errors.",postalCodeErrors:{CA:"Enter a valid postal code.",GB:"Enter a valid postcode.",US:"Enter a valid ZIP code."}},helperText:{cardNumber:"Enter your card number",cvv:"Enter the security code",expirationDate:"Enter the expiration date",postalCodes:{CA:"Enter the postal code",GB:"Enter the postcode",US:"Enter the zip code"}},placeholderText:{cardNumber:"Card number",cvv:"CVV",expirationDate:"MM/YY",postalCodes:{CA:"Postal Code",GB:"Postcode",US:"ZIP"}}},giftCards:{errors:{giftCardNumberError:"Enter a valid gift card number."},helperText:{giftCardNumber:"Enter your gift card number"},placeholderText:{giftCardNumber:"Gift card"}},afterpay:{checkoutWidget:{today:"Today",weeks:"weeks",title:"Your 4 interest-free payments"}},wallets:{callbackErrors:{contactError:"There was an error processing your selected delivery contact. Please try again.",optionsError:"There was an error processing your selected delivery option. Please try again."}}}},"en-IE":{paymentMethods:{cards:{errors:{cardNumberError:"Enter a valid card number.",cvvError:"Enter a valid security code.",expirationDateError:"Enter a valid expiry date.",multipleErrors:"Fix the highlighted errors.",postalCodeErrors:{CA:"Enter a valid postal code.",GB:"Enter a valid postcode.",US:"Enter a valid zip code."}},helperText:{cardNumber:"Enter your card number",cvv:"Enter the security code",expirationDate:"Enter the expiry date",postalCodes:{CA:"Enter the postal code",GB:"Enter the postcode",US:"Enter the ZIP code"}},placeholderText:{cardNumber:"Card number",cvv:"CVV",expirationDate:"MM/YY",postalCodes:{CA:"Postal Code",GB:"Postcode",US:"ZIP"}}},giftCards:{errors:{giftCardNumberError:"Enter a valid gift card number."},helperText:{giftCardNumber:"Enter your gift card number"},placeholderText:{giftCardNumber:"Gift card"}},afterpay:{checkoutWidget:{today:"Today",weeks:"weeks",title:"Your 4 interest-free payments"}},wallets:{callbackErrors:{contactError:"There was an error processing your selected delivery contact. Please try again.",optionsError:"There was an error processing your selected delivery option. Please try again."}}}},"en-US":{paymentMethods:{cards:{errors:{cardNumberError:"Enter a valid card number.",cvvError:"Enter a valid security code.",expirationDateError:"Enter a valid expiration date.",multipleErrors:"Fix the highlighted errors.",postalCodeErrors:{CA:"Enter a valid postal code.",GB:"Enter a valid postcode.",US:"Enter a valid zip code."}},helperText:{cardNumber:"Enter your card number",cvv:"Enter the security code",expirationDate:"Enter the expiration date",postalCodes:{CA:"Enter the postal code",GB:"Enter the postcode",US:"Enter the zip code"}},placeholderText:{cardNumber:"Card number",cvv:"CVV",expirationDate:"MM/YY",postalCodes:{CA:"Postal Code",GB:"Postcode",US:"ZIP"}}},giftCards:{errors:{giftCardNumberError:"Enter a valid gift card number."},helperText:{giftCardNumber:"Enter your gift card number"},placeholderText:{giftCardNumber:"Gift card"}},afterpay:{checkoutWidget:{today:"Today",weeks:"weeks",title:"Your 4 interest-free payments"}},wallets:{callbackErrors:{contactError:"There was an error processing your selected shipping contact. Please try again.",optionsError:"There was an error processing your selected shipping option. Please try again."}}}},"es-ES":{paymentMethods:{afterpay:{checkoutWidget:{title:"Tus 4 pagos sin intereses",today:"Hoy",weeks:"semanas"}},cards:{errors:{cardNumberError:"Introduce un número de tarjeta válido.",cvvError:"Introduce un código de seguridad válido.",expirationDateError:"Introduce una fecha de caducidad válida.",multipleErrors:"Corrige los errores resaltados.",postalCodeErrors:{CA:"Introduce un código postal válido.",GB:"Introduce un código postal válido.",US:"Introduce un código postal válido."}},helperText:{cardNumber:"Introduce tu número de tarjeta",cvv:"Introduce el código de seguridad",expirationDate:"Introduce la fecha de caducidad",postalCodes:{CA:"Introduce el código postal",GB:"Introduce el código postal",US:"Introduce el código postal"}},placeholderText:{cardNumber:"Número de tarjeta",cvv:"Código CVV",expirationDate:"MM/AA",postalCodes:{CA:"Código postal",GB:"Código postal",US:"C.P."}}},giftCards:{errors:{giftCardNumberError:"Introduce un número de tarjeta regalo válido."},helperText:{giftCardNumber:"Introduce el número de tu tarjeta regalo"},placeholderText:{giftCardNumber:"Tarjeta regalo"}},wallets:{callbackErrors:{contactError:"Se ha producido un error al procesar el contacto de envío que has seleccionado. Inténtalo de nuevo.",optionsError:"Se ha producido un error al procesar la opción de envío que has seleccionado. Inténtalo de nuevo."}}}},"fr-CA":{paymentMethods:{cards:{errors:{cardNumberError:"Saisissez un numéro de carte valide.",cvvError:"Veuillez saisir un code de sécurité valide.",expirationDateError:"Veuillez saisir une date d’expiration valide.",multipleErrors:"Corrigez les erreurs mises en évidence.",postalCodeErrors:{CA:"Saisissez un code postal valide.",GB:"Saisissez un code postal valide.",US:"Saisissez un code postal valide."}},helperText:{cardNumber:"Saisir votre numéro de carte",cvv:"Saisir le code de sécurité",expirationDate:"Saisir la date d’expiration",postalCodes:{CA:"Saisir le code postal",GB:"Saisir le code postal",US:"Saisir le code postal"}},placeholderText:{cardNumber:"Numéro de la carte",cvv:"CVV",expirationDate:"MM/AA",postalCodes:{CA:"Code postal",GB:"Code postal",US:"Code postal"}}},giftCards:{errors:{giftCardNumberError:"Saisissez un numéro de carte-cadeau valide."},helperText:{giftCardNumber:"Saisir le numéro de votre carte cadeau"},placeholderText:{giftCardNumber:"Carte-cadeau"}},afterpay:{checkoutWidget:{title:"Vos quatre paiements sans intérêts",today:"Aujourd’hui",weeks:"semaines"}},wallets:{callbackErrors:{contactError:"Une erreur s‘est produite lors du traitement du contact de livraison sélectionné. Veuillez réessayer.",optionsError:"Une erreur s‘est produite lors du traitement de l‘option d‘expédition sélectionnée. Veuillez réessayer."}}}},"fr-FR":{paymentMethods:{afterpay:{checkoutWidget:{title:"Vos quatre paiements sans intérêts",today:"Aujourd’hui",weeks:"semaines"}},cards:{errors:{cardNumberError:"Saisissez un numéro de carte valide",cvvError:"Veuillez saisir un code de sécurité valide.",expirationDateError:"Saisir une date d’expiration valide",multipleErrors:"Corrigez les erreurs mises en évidence.",postalCodeErrors:{CA:"Saisissez un code postal valide",GB:"Saisissez un code postal valide",US:"Saisissez un code ZIP valide"}},helperText:{cardNumber:"Saisir votre numéro de carte",cvv:"Saisir le code de sécurité",expirationDate:"Saisir la date d’expiration",postalCodes:{CA:"Saisir un code postal",GB:"Saisir un code postal",US:"Saisir un code ZIP"}},placeholderText:{cardNumber:"Numéro de carte",expirationDate:"MM/AA",cvv:"CVV",postalCodes:{CA:"Code postal",GB:"Code postal",US:"Code ZIP"}}},giftCards:{errors:{giftCardNumberError:"Saisir un numéro de carte cadeau valide"},helperText:{giftCardNumber:"Saisir le numéro de votre carte cadeau"},placeholderText:{giftCardNumber:"Carte cadeau"}},wallets:{callbackErrors:{contactError:"Une erreur s‘est produite lors du traitement du contact de livraison sélectionné. Veuillez réessayer.",optionsError:"Une erreur s‘est produite lors du traitement de l‘option d‘expédition sélectionnée. Veuillez réessayer."}}}},"ja-JP":{paymentMethods:{afterpay:{checkoutWidget:{title:"無利息の4回払い",today:"今日",weeks:"週間"}},cards:{errors:{cardNumberError:"正しいカード番号を入力してください。",cvvError:"有効なセキュリティコードを入力してください。",expirationDateError:"正しい有効期限を入力してください。",multipleErrors:"強調表示されたエラーを修正してください。",postalCodeErrors:{CA:"正しい郵便番号を入力してください。",GB:"有効な郵便番号を入力してください。",US:"正しいZIPコードを入力してください。"}},helperText:{cardNumber:"カード番号を入力してください",cvv:"セキュリティコードを入力してください",expirationDate:"有効期限を入力してください",postalCodes:{CA:"郵便番号を入力してください",GB:"郵便番号を入力してください",US:"ZIPコードを入力してください"}},placeholderText:{cardNumber:"カード番号",cvv:"CVV",expirationDate:"MM/YY",postalCodes:{CA:"郵便番号",GB:"郵便番号",US:"ZIP"}}},giftCards:{errors:{giftCardNumberError:"有効なギフトカード番号を入力してください。"},helperText:{giftCardNumber:"ギフトカード番号を入力してください"},placeholderText:{giftCardNumber:"ギフトカード"}},wallets:{callbackErrors:{contactError:"選択された配送住所を処理する際にエラーが発生しました。もう一度やり直してください。",optionsError:"選択された配送方法を処理する際にエラーが発生しました。もう一度やり直してください。"}}}}},ns={en:Qo.enUS,es:Qo.esES,fr:Qo.frFR,ja:Qo.jaJP},is=ns[$o.en];class os{constructor(e){this.currentLocale=is,this.currentTranslations=rs[this.currentLocale],this.setLocale(e)}setTranslationOverrides(e){this.translationOverrides=e}setLocale(e){var t=this.getLanguageFromLocale(e),r=this.getRegionFromLocale(e),n=this.currentLocale;if(rs[e])this.currentLocale=e;else{if(!$o[t])return{message:"Locale ".concat(e," is not supported. Language ").concat(t," and region ").concat(r," are both unsupported."),newLocale:this.currentLocale,previousLocale:n};this.currentLocale=ns[t]}this.currentTranslations=rs[this.currentLocale];var i=this.getRegionFromLocale(this.currentLocale);return r&&i&&r.toLowerCase()!==i.toLowerCase()?{message:"Locale ".concat(e," is not supported. Language ").concat(t," is supported, but region ").concat(r," is not. Falling back to ").concat(this.currentLocale,"."),newLocale:this.currentLocale,previousLocale:n}:{newLocale:this.currentLocale,previousLocale:n}}getCurrentLocale(){return this.currentLocale}getLocaleString(){return this.translationOverrides?ts(this.currentTranslations,this.translationOverrides):this.currentTranslations}getLanguageFromLocale(e){return e.split("-")[0]}getRegionFromLocale(e){return e.split("-")[1]}}var ss="INVALID_VALUE",as="SANITIZED",cs=new Set(["countryCode","currencyCode","requestBillingContact","requestShippingContact","lineItems","total","shippingOptions","shippingContact"]),us=new Set(["error","shippingErrors","lineItems","total","shippingOptions","taxLineItems","shippingLineItems","discounts"]),ls=new Set([...us.values(),"eventName"]),ds=new Set(["includeInputLabels","postalCode","style"]),ps=new Set(["includeInputLabels","style"]),hs=new Set(["lineItems","total","shippingOptions","shippingContact"]),fs=new Set(["buttonColor","buttonSizeMode","buttonType"]),gs=new Set(["paymentRequestOptions","enableMethods","disableMethods","redirectURI","transactionId"]),ms=new Set(["redirectURI","transactionId"]),Es=new Set(["shape","size","values","theme","width"]),vs=Ls(In),ys=Ls(nn),_s=Ls(cn),As=Ls(pn),Is=Ls(on),Ss=Ls(an),Cs=Ls(Qo),Os=Ls(vi),Ts=Ls(yi),Ps=Ls(_i),Rs=Ls(Ri),Ns=Ls(Oi),ws=Ls(Ci),bs=Ls(Ti),Ds=Ls(Pi);function Ls(e){return new Set(Object.values(e))}function xs(e){return JSON.stringify({value:e})}function Us(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Set,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i={};return Object.entries(e).forEach((e=>{var[o,s]=e;if(t.has(o)){var a=s;r.has(o)?a=as:n[o]&&(a=n[o].has(s)?s:ss),i[o]=a}})),JSON.stringify(i)}function Ms(e){return Us(e,gs,ms)}function ks(e){return Us(e,Es,void 0,{shape:ws,size:Ns,values:bs,theme:bs,width:Ds})}var Hs=function(e,t,r){switch(e){case xo.Configured:case xo.ConfigUpdated:return function(e,t){switch(e){case Go.Card:case Go.GiftCard:return function(e,t){return Us(t,e===Go.Card?ds:ps)}(e,t);case Go.GooglePay:return function(e){return Us(e,fs,void 0,{buttonColor:Os,buttonSizeMode:Ts,buttonType:Ps})}(t);case Go.PaymentRequest:return function(e){return Us(e,cs,hs,{currencyCode:Rs})}(t);case Go.PaymentsUI:return Ms(t);case Go.CashAppPayV1:return ks(t)}return ss}(t,r);case xo.PaymentsUIConfigured:return Ms(r);case xo.Focused:return xs(function(e,t){if("string"!=typeof t)return ss;switch(e){case Go.Card:if(Is.has(t))return t;break;case Go.GiftCard:if(Ss.has(t))return t}return ss}(t,r));case xo.SetLocale:return xs(function(e){return"string"!=typeof e?ss:Cs.has(e)?e:ss}(r));case xo.EventListenerAdded:return xs(function(e,t){if("string"!=typeof t)return ss;switch(e){case Go.Ach:if(vs.has(t))return t;break;case Go.Card:if(ys.has(t))return t;break;case Go.GiftCard:if(_s.has(t))return t;break;case Go.PaymentRequest:if(As.has(t))return t}return ss}(t,r));case xo.EventListenerOnCompleteResponse:return function(e,t){return e===Go.PaymentRequest?function(e){return Us(e,ls,us,{eventName:As})}(t):ss}(t,r);case xo.Destroyed:case xo.RecalculatedSize:default:return""}};function Bs(e,t){return null!==e.document.body&&void 0!==e.document.body&&null!==e.document.createNodeIterator(e.document.body,NodeFilter.SHOW_ELEMENT,{acceptNode:t}).nextNode()}function Gs(e,t){return Boolean(e.querySelector(t))}function Fs(e,t){return void 0!==e[t]}r(8559);var js=function(e){var t,r=Fs(e,"angular"),n=Gs(e.document,"[ng-version]")||Fs(e,"getAllAngularRootElements")||Fs(e,"getAngularVersion"),i=Fs(e,"bootstrap"),o=Fs(e,"Ember"),s=Fs(e,"jQuery"),a=Gs(e.document,'form[action*="paypal.com"]'),c=function(e){return Bs(e,(function(e){return e.__k||e._component||e.__c?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}))}(e),u=function(e){var t=Gs(e.document,"*[data-reactroot]");if(t)return t;return Bs(e,(function(e){return e._reactRootContainer?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}))}(e),l=function(e){var t=Fs(e,"__NUXT__")||Fs(e,"$nuxt"),r=Fs(e,"__VUE__");if(r||t)return r||t;return Bs(e,(function(e){return e.__vue__?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}))}(e),d={angular:n,angularJS:r,bootstrap:i,ember:o,jquery:s,nextJS:Fs(e,"__NEXT_DATA__")&&void 0!==(null===(t=e.__NEXT_DATA__)||void 0===t?void 0:t.buildId),paypalBuyNow:a,preact:c,react:u,vue:l};return Object.fromEntries(Object.entries(d).filter((e=>{var[t,r]=e;return!0===r})))};function qs(e,t){var r=m.windowPerformance;if(!r||"function"!=typeof r.getEntriesByType)return null;var n=function(e,t,r){var n=e.filter((e=>e.initiatorType===t&&r.test(e.name)));return n[n.length-1]}([...r.getEntriesByType("resource"),...r.getEntriesByType("navigation")],e,t);return n?Math.round(function(e){return e.duration>0?e.duration:Math.max(Math.trunc(e.responseEnd-e.startTime),0)}(n)):null}var Vs=function(e){switch(e){case ko.CASH_APP_AUTH:return qs(zo.fetch,Ko.CASH_APP_AUTH_ENDPOINT);case ko.CASH_APP_API_CUSTOMER:return qs(zo.fetch,Ko.CASH_APP_API_CUSTOMER);case ko.GET_PRODUCT_INFORMATION:return qs(zo.fetch,Ko.GET_PRODUCT_INFORMATION_ENDPOINT);case ko.MAIN_IFRAME:return qs(zo.navigation,Ko.MAIN_IFRAME_RESOURCE);case ko.LOAD:return qs(zo.script,Ko.LIBRARY_RESOURCE);case ko.NONCE:return qs(zo.fetch,Ko.CARD_NONCE_ENDPOINT);default:return null}};function Ys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function zs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ys(Object(r),!0).forEach((function(t){Ks(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ks(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ws,$s=I.METRICS_URL,Qs=I.METRICS_V2_URL;class Zs{constructor(e,t){this.sdkVersion=I.VERSION,this.jsFramework="",this.applicationData=t,this.manualTelemetryStarts={},this.metricsBuffer=[],this.errorLogger=e,this.disableBeacon=!1}setAvt(e){this.avt=e}logEvent(e,t,r,n,i){try{var o={origin:v().origin},s={innerHeight:m.windowInnerHeight,innerWidth:m.windowInnerWidth,language:m.windowNavigationLanguage},a=this.eventDuration(e,n),{event:c,eventSource:u,eventConfigurationValues:l,internalConfigurationValues:d}=e,p=this.sdkVersion,h=this.metricsSession(t,r,i),f={appLocation:o,avt:this.avt,browserData:s,event:c,eventSource:u,paymentMethodTrackingId:n,sdkVersion:p,session:h};void 0!==l&&(E=c,Jo.has(E))&&(f.eventConfigurationValues=Hs(c,u,l)),void 0!==d&&function(e){return Xo.has(e)}(c)&&(f.internalConfigurationValues=JSON.stringify(d)),a&&(f.duration=a),c===Do.InitializeOK&&(f.jsFramework=this.getJSFrameworkValue());var g=!1;c!==Do.NonceOK&&c!==xo.Destroyed||(g=!0),this.postMetricsEvent(f,g)}catch(e){this.errorLogger.captureException(e)}var E}getJSFrameworkValue(){return 0===this.jsFramework.length&&(this.jsFramework=JSON.stringify(js(window))),this.jsFramework}eventDuration(e,t){var[r,n]=e.event.split(":");if(r in Ho){var i;if(r===Ho.INITIALIZATION?i=r:t&&(i="".concat(r,":").concat(t)),!i)return null;if(n===Bo.START){var o=Date.now();return this.manualTelemetryStarts[i]=o,null}if(n===Bo.OK||n===Bo.ERROR){var s=this.manualTelemetryStarts[i];return void 0===s?null:(delete this.manualTelemetryStarts[i],Date.now()-s)}}return n!==Bo.START&&r in ko?Vs(r):null}postMetricsEvent(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];!this.disableBeacon&&m.windowNavigationBeacon&&m.documentVisibilityState?(this.metricsBuffer.push(e),t&&this.buildAndSendBeacon(),void 0===this.currentInterval&&(document.addEventListener("visibilitychange",(()=>{"hidden"===m.documentVisibilityState&&(this.buildAndSendBeacon(),clearInterval(this.currentInterval),this.currentInterval=void 0)})),this.currentInterval=window.setInterval((()=>{this.buildAndSendBeacon()}),1e3))):Rn($s,{body:e}).catch((e=>{this.errorLogger.captureException(e)}))}buildAndSendBeacon(){if(0!==this.metricsBuffer.length){try{var e=new Blob([JSON.stringify({metrics:this.metricsBuffer})],{type:"text/plain;charset=UTF-8"});window.navigator.sendBeacon(Qs,e)}catch(e){e instanceof TypeError&&"Illegal invocation"===e.message||this.errorLogger.captureException(e),this.disableBeacon=!0,void 0!==this.currentInterval&&(clearInterval(this.currentInterval),this.currentInterval=void 0),Rn(Qs,{body:{metrics:this.metricsBuffer}}).catch((e=>{this.errorLogger.captureException(e)}))}this.metricsBuffer=[]}}metricsSession(e,t,r){return zs(zs({},this.applicationData),{},{instanceId:e,sessionId:t,paymentsUIInstanceId:r})}}!function(e){e.ACH="ACH",e.AFTERPAY="AFTERPAY",e.APPLE_PAY="APPLE_PAY",e.CASH_APP="CASH_APP",e.CASH_APP_PAY_V1="CASH_APP_PAY_V1",e.GOOGLE_PAY="GOOGLE_PAY"}(Ws||(Ws={})),I.HYDRATION_ENDPOINT;var Js,Xs,ea="INITIALIZE",ta="UPDATE_SESSION",ra={[Zi.CanUseInterac]:{false:Ji.Control,true:Ji.TreatmentA},[Zi.CanUseOverrideStrings]:{false:Ji.Control,true:Ji.TreatmentA},[Zi.CanUsePlaidOAuth]:{[Xi.LEGACY_IMPLEMENTATION]:Xi.LEGACY_IMPLEMENTATION,[Xi.PREFER_OAUTH_FLOW]:Xi.PREFER_OAUTH_FLOW,[Xi.ENFORCE_OAUTH_FLOW]:Xi.ENFORCE_OAUTH_FLOW},[Zi.CanUsePaymentsUI]:{false:Ji.Control,true:Ji.TreatmentA},[Zi.PaymentsUICanUseCard]:{false:Ji.Control,true:Ji.TreatmentA},[Zi.PaymentsUICanUseAchPlaid]:{false:Ji.Control,true:Ji.TreatmentA},[Zi.PaymentsUICanUseApplePay]:{false:Ji.Control,true:Ji.TreatmentA},[Zi.PaymentsUICanUseGooglePay]:{false:Ji.Control,true:Ji.TreatmentA},[Zi.PaymentsUICanUseCashApp]:{false:Ji.Control,true:Ji.TreatmentA},[Zi.PaymentsUICanUseBnplA]:{false:Ji.Control,true:Ji.TreatmentA},[Zi.PaymentsUICanUseGiftCard]:{false:Ji.Control,true:Ji.TreatmentA},[Zi.CanUseBNPLA]:{false:Ji.Control,true:Ji.TreatmentA},[Zi.RecordErrorMetrics]:{false:Ji.Control,true:Ji.TreatmentA}};class na{constructor(e){this.featureFlagValues=e}isActive(e){return this.experimentGroup(e)!==Ji.Control}experimentGroup(e){return this.featureFlagValueExperimentGroup(e)}featureFlagValueExperimentGroup(e){var t=this.featureFlagValues[e];return ra[e][t]||Ji.Control}}!function(e){e.AFTERPAY="square-payments-afterpay-script",e.AFTERPAY_MESSAGING="square-payments-afterpay-messaging-script",e.ANALYTICS="square-payments-analytics-link-script",e.GOOGLE="square-payments-google-link-script",e.PLAID="square-payments-plaid-link-script",e.CASH_APP_PAY="square-payments-cash-app-pay-script"}(Js||(Js={})),function(e){e.AFTERPAY="window.AfterPay",e.AFTERPAY_MESSAGING="window.Afterpay",e.ANALYTICS="window.Square.Analytics",e.GOOGLE="window.google.payments",e.PLAID="window.Plaid",e.CASH_APP_PAY="window.CashApp"}(Xs||(Xs={}));var ia={};function oa(e,t,r,n){var i=n();if(i)return Promise.resolve(i);if(ia[t])return ia[t];var o=document.createElement("script");return o.id=e,o.src=r,ia[t]=new Promise(((i,s)=>{o.onload=()=>{var o=n();if(o)i(o);else{sa(t,e);var a="".concat(t," is undefined");s(new ai(r,a))}},o.onerror=(n,i,o,a,c)=>{sa(t,e),s(new ai(r,"Unknown error occured",c))}})),document.body.appendChild(o),ia[t]}function sa(e,t){delete ia[e];var r=document.getElementById(t);r&&r.remove()}var aa,ca=function(){return oa(Js.AFTERPAY,Xs.AFTERPAY,I.AFTERPAY_SCRIPT_URL,(()=>{var e;return null===(e=window)||void 0===e?void 0:e.AfterPay}))},ua=function(){return oa(Js.AFTERPAY_MESSAGING,Xs.AFTERPAY_MESSAGING,I.AFTERPAY_MESSAGING_SCRIPT_URL,(()=>{var e;return null===(e=window)||void 0===e?void 0:e.Afterpay}))},la=function(){return oa(Js.ANALYTICS,Xs.ANALYTICS,I.ANALYTICS_PUBLIC_ENDPOINT,(()=>{var e,t;return null===(e=window)||void 0===e||null===(t=e.Square)||void 0===t?void 0:t.Analytics}))},da=function(){return oa(Js.CASH_APP_PAY,Xs.CASH_APP_PAY,I.CASH_APP_PAY_SCRIPT_URL,(()=>{var e;return null===(e=window)||void 0===e?void 0:e.CashApp}))},pa=function(){return oa(Js.GOOGLE,Xs.GOOGLE,I.GOOGLE_PAY_SCRIPT_URL,(()=>{var e,t;return null===(e=window)||void 0===e||null===(t=e.google)||void 0===t?void 0:t.payments}))},ha=function(){return oa(Js.PLAID,Xs.PLAID,I.PLAID_LINK_SCRIPT_URL,(()=>{var e;return null===(e=window)||void 0===e?void 0:e.Plaid}))};function fa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ga(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fa(Object(r),!0).forEach((function(t){ma(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fa(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ma(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ea(e,t,r,n,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,i)}function va(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function s(e){Ea(o,n,i,s,a,"next",e)}function a(e){Ea(o,n,i,s,a,"throw",e)}s(void 0)}))}}var ya=Vi.hoursToMs(2);function _a(e){var{applicationId:t,locationId:r}=e;return aa||(aa=la().then((e=>new e(t,{locationId:r}))))}function Aa(e){return function(e){return"region"in e||"country"in e||"countryName"in e}(e)?e:{addressLines:e.addressLines,familyName:e.familyName,givenName:e.givenName,email:e.email,country:e.countryCode,phone:e.phone,postalCode:e.postalCode,region:e.state,city:e.city}}function Ia(){return Ia=va((function*(e){var t=yield _a(e);return new Promise((e=>{t.getToken(e)}))})),Ia.apply(this,arguments)}var Sa={analyticsLibrary:_a,getToken:function(e){return Ia.apply(this,arguments)},resetLibraryCache:function(){aa=void 0},verifyBuyer:function(e,t,r){var n=ga(ga({},r),{},{billingContact:Aa(r.billingContact)});return new Promise(((r,i)=>{e.verifyBuyer(t,n,((e,t)=>{e?i(e):r(t)}))}))},toSqContact:Aa};function Ca(e,t,r,n,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,i)}var Oa,Ta="LOCALE_CHANGED_EVENT";class Pa extends class{constructor(e,t){this.errorLogger=e,this.messenger=t}}{constructor(e,t,r,n,i,o,s,a){super(e,t),this.session=n,this.localeStrings=o,this.paymentMethodSupportDetail=i,this.metricsHandler=r,this.eventTarget=s,this.featureFlagHandler=new na(a),this.featureFlagValues=a}addLocaleChangedListener(e){this.eventTarget.addEventListener(Ta,e)}removeLocaleChangedListener(e){this.eventTarget.removeEventListener(Ta,e)}getSession(){return this.session.serialize()}getFeatureFlagValues(){return this.featureFlagValues}getLocaleString(){return this.localeStrings.getLocaleString()}setTranslationOverrides(e){this.localeStrings.setTranslationOverrides(e),this.session.setTranslationOverrides(e),this.eventTarget.dispatchEvent(Ta,this.localeStrings.getCurrentLocale()),this.messenger.sendOneWayMessage(ta,{session:this.session.serialize()})}setLocale(e){var t=this.localeStrings.setLocale(e);if(t.previousLocale===t.newLocale)return t;var r=this.localeStrings.getCurrentLocale();return this.session.setLocale(r),this.eventTarget.dispatchEvent(Ta,r),this.messenger.sendOneWayMessage(ta,{session:this.session.serialize()}),t}updateSession(e){var t,r=this;return(t=function*(){r.session.setSessionId(e);try{var t=yield Sa.getToken({applicationId:r.session.applicationId,locationId:r.session.locationId,websiteUrl:r.session.sourceUrl});r.session.setAnalyticsToken(t)}catch(e){r.session.locationId&&r.errorLogger.captureException(e,r.session.instanceId,r.session.sessionId)}yield r.messenger.sendOneWayMessage(ta,{session:r.session.serialize()})},function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function s(e){Ca(o,n,i,s,a,"next",e)}function a(e){Ca(o,n,i,s,a,"throw",e)}s(void 0)}))})()}setPaymentMethodTrackingId(e){this.metricsHandler.setPaymentMethodTrackingId(e)}setPaymentsUIInstanceId(e){this.session.setPaymentsUIInstanceId(e)}getPaymentMethodTrackingId(){return this.metricsHandler.getPaymentMethodTrackingId()}getPaymentsUIInstanceId(){return this.session.paymentsUIInstanceId}}function Ra(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"https://developer.squareup.com/docs/api/paymentform".concat(e)}function Na(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"https://developer.squareup.com/docs/payment-form/add-digital-wallets/apple-pay".concat(e)}!function(e){e.APPLE_PAY_BROWSER_NOT_SUPPORTED="APPLE_PAY_BROWSER_NOT_SUPPORTED",e.APPLE_PAY_DEVICE_NOT_SUPPORTED="APPLE_PAY_DEVICE_NOT_SUPPORTED",e.APPLE_PAY_NOT_REGISTERED="APPLE_PAY_NOT_REGISTERED",e.GOOGLE_PAY_BROWSER_NOT_SUPPORTED="GOOGLE_PAY_BROWSER_NOT_SUPPORTED",e.INVALID_CONFIG="INVALID_CONFIG",e.UNKNOWN="UNKNOWN",e.WALLET_NOT_REQUESTED="WALLET_NOT_REQUESTED"}(Oa||(Oa={}));var wa,ba={APPLE_PAY_BROWSER_NOT_SUPPORTED:{message:"Apple Pay is only available on Safari.",type:"BROWSER_NOT_SUPPORTED"},APPLE_PAY_DEVICE_NOT_SUPPORTED:{message:"Device does not support Apple Pay.\nSee:".concat(Na("#prerequisites-and-assumptions"),"."),type:"DEVICE_NOT_SUPPORTED"},APPLE_PAY_NOT_REGISTERED:{message:"No active card available in the Apple Wallet or domain not registered.",type:"NOT_REGISTERED"},GOOGLE_PAY_BROWSER_NOT_SUPPORTED:{message:"Browser does not support Google Pay. \nSee: ".concat(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"https://developer.squareup.com/docs/payment-form/add-digital-wallets/google-pay".concat(e)}("#prerequsites-and-assumptions")),type:"BROWSER_NOT_SUPPORTED"},INVALID_CONFIG:{message:"Configuration is invalid.",type:"INVALID_CONFIG"},UNKNOWN:{message:"An unknown error has occurred.",type:"UNKNOWN"},WALLET_NOT_REQUESTED:{message:"Wallet is not specified in the payment request config.\nSee:".concat(Ra("#paymentform-configurationfields")),type:"WALLET_NOT_REQUESTED"}};!function(e){e.COUNTRY_NOT_SUPPORTED="COUNTRY_NOT_SUPPORTED",e.APPLICATION_DISABLED="APPLICATION_DISABLED",e.MISSING_LOCATION_ID="MISSING_LOCATION_ID",e.UNVERIFIED_DOMAIN="UNVERIFIED_DOMAIN",e.NOT_ONBOARDED="NOT_ONBOARDED",e.US_AND_UK_MERCHANT_ONLY="US_AND_UK_MERCHANT_ONLY",e.US_MERCHANT_ONLY="US_MERCHANT_ONLY",e.INTERNAL_ERROR="INTERNAL_ERROR",e.DOMAIN_NOT_REGISTERED="DOMAIN_NOT_REGISTERED"}(wa||(wa={}));var Da={APPLICATION_DISABLED:{message:"Wallet is disabled for your application.",type:"APPLICATION_DISABLED"},COUNTRY_NOT_SUPPORTED:{message:"Wallet is not available in this merchant country.",type:"COUNTRY_NOT_SUPPORTED"},MISSING_LOCATION_ID:{field:"locationId",message:"Missing locationId in the payment request configuration.\nSee: ".concat(Ra("#paymentform-configurationfields")),type:"MISSING_LOCATION_ID"},NOT_ONBOARDED:{message:"Your merchant account has not yet been onboarded for this payment method. Please visit the Seller Dashboard to enable the payment method",type:"NOT_ONBOARDED"},UNVERIFIED_DOMAIN:{message:"Your website's domain is not verified for use with Apple Pay. Please visit the Square Developer Dashboard at https://developer.squareup.com/ to register your domain for use with Apple Pay",type:"UNVERIFIED_DOMAIN"},US_AND_UK_MERCHANT_ONLY:{message:"Wallet is available for US and UK merchants only.",type:"US_AND_UK_MERCHANT_ONLY"},US_MERCHANT_ONLY:{message:"Wallet is available for US merchants only.",type:"US_MERCHANT_ONLY"},INTERNAL_ERROR:{message:"There was a temporary error determining your website's payment method status",type:"INTERNAL_ERROR"},DOMAIN_NOT_REGISTERED:{message:"Your website's domain is not registered for use with Apple Pay.\nSee: ".concat(Na("#production-configuration")),type:"DOMAIN_NOT_REGISTERED"}};class La extends Nn{constructor(e,t,r){var n="".concat(e," was called with a missing or invalid parameter. '").concat(t,"' is required");r&&(n+=" and must be a(n) ".concat(r)),super("".concat(n,".")),this.name="InvalidFunctionArgumentError",Object.setPrototypeOf(this,La.prototype)}}class xa extends Nn{constructor(e){super("One or more of the arguments needed are missing or invalid."),this.argumentErrors=e,this.name="InvalidArgumentsError",Object.setPrototypeOf(this,xa.prototype)}}class Ua{constructor(){this.listeners={}}addEventListener(e,t){e in this.listeners||(this.listeners[e]=[]),this.listeners[e].push(t)}removeEventListener(e,t){if(e in this.listeners)for(var r=this.listeners[e],n=0;n<r.length;n++)r[n]===t&&(r.splice(n,1),n--)}dispatchEvent(e,t){if(e in this.listeners)for(var r=new fi(e,t),n=[...this.listeners[e]],i=0,o=n.length;i<o;i++)try{n[i](r)}catch(e){console.error(e)}}hasEventListener(e){return e in this.listeners&&this.listeners[e].length>0}}var Ma,ka=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).slice(1)}return"".concat(e()+e(),"-").concat(e(),"-").concat(e(),"-").concat(e(),"-").concat(e()).concat(e()).concat(e())};!function(e){e.REQUEST_GOOGLE_PAY_CARD_NONCE="REQUEST_GOOGLE_PAY_CARD_NONCE",e.GENERATE_GOOGLE_PAY_AUTH_TOKEN="GENERATE_GOOGLE_PAY_AUTH_TOKEN"}(Ma||(Ma={}));var Ha;!function(e){e[e.DETACHED=0]="DETACHED",e[e.ATTACHED=1]="ATTACHED",e[e.DESTROYED=2]="DESTROYED"}(Ha||(Ha={}));class Ba{constructor(e){this.status=Ha.DETACHED,this.eventTarget=new Ua,this.eventBuffer={},this.context=e}get session(){return this.context.getSession()}get messenger(){return this.context.messenger}get metricsHandler(){return this.context.metricsHandler}get errorLogger(){return this.context.errorLogger}get featureFlagHandler(){return this.context.featureFlagHandler}addEventListener(e,t){this.eventTarget.addEventListener(e,t),e in this.eventBuffer&&this.eventBuffer[e].length>0&&(this.eventBuffer[e].forEach((t=>this.eventTarget.dispatchEvent(e,t))),this.eventBuffer[e]=[])}hasEventListener(e){return this.eventTarget.hasEventListener(e)}removeEventListener(e,t){this.eventTarget.removeEventListener(e,t)}destroy(){return Promise.resolve()}detach(){return Promise.resolve()}dispatchEvent(e,t){this.hasEventListener(e)?this.eventTarget.dispatchEvent(e,t):(e in this.eventBuffer||(this.eventBuffer[e]=[]),this.eventBuffer[e].push(t))}throwIfDestroyed(){if(this.status===Ha.DESTROYED)throw new ri(this.methodType)}throwIfAlreadyAttached(){if(this.throwIfDestroyed(),this.status===Ha.ATTACHED)throw new ei(this.methodType)}throwIfNotAttached(){if(this.throwIfDestroyed(),this.status!==Ha.ATTACHED)throw new ti(this.methodType)}}var Ga,Fa={message:"the tokenization request is already in process",type:"TOKENIZATION_IN_PROCESS"};!function(e){e.CREATE_PLAID_LINK_SESSION="CREATE_PLAID_LINK_SESSION",e.CREATE_OAUTH_PLAID_LINK_SESSION="CREATE_OAUTH_PLAID_LINK_SESSION",e.REQUEST_ACH_BANK_NONCE="REQUEST_ACH_BANK_NONCE"}(Ga||(Ga={}));class ja{constructor(e){this.id=ka(),this.context=e}request(e,t){return this.context.messenger.request(e,{featureFlagValues:this.context.getFeatureFlagValues(),paymentMethodInstanceId:this.id,paymentMethodTrackingId:this.context.getPaymentMethodTrackingId(),session:this.context.getSession(),body:t})}initializeMessageBus(e){var t=this,r=function(e,r){t.context.messenger.onMessage({listener(e){r(e)},messageType:"".concat(e,":").concat(t.id)})};for(var[n,i]of Object.entries(e))r(n,i)}}function qa(e,t){var r=e;return e instanceof Nn||(r=new Nn,t.captureException(e)),{errors:[r],status:hn.ERROR}}function Va(e,t,r,n,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,i)}function Ya(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function s(e){Va(o,n,i,s,a,"next",e)}function a(e){Va(o,n,i,s,a,"throw",e)}s(void 0)}))}}var za,Ka,Wa,$a,Qa,Za,Ja,Xa=new Set(["ITEM_ERROR"]),ec=new Set(["en","es"]),tc="Square, Inc.",rc=["US"];function nc(e,t){return(r=e.featureFlagHandler.experimentGroup(Zi.CanUsePlaidOAuth))===Xi.ENFORCE_OAUTH_FLOW||r===Xi.PREFER_OAUTH_FLOW?function(){var r=e.getSession();if(!r.locationId)throw new hi("locationId not defined when creating OAuth Plaid Link Session");var n=I.PLAID_OAUTH_REDIRECT_URI,i=m.windowNavigationLanguage.slice(0,2),o={createOAuthPlaidLinkSessionRequest:{clientId:r.applicationId,locationId:r.locationId,redirectUri:n,languageCode:i}};return t.request(Ga.CREATE_OAUTH_PLAID_LINK_SESSION,o)}():function(){console.warn("Using deprecated Plaid Link session without OAuth, please initialize ACH with 'redirectURI' and 'transactionId', and provide an event listener for \"".concat(In.ON_TOKENIZATION,'".'));var r={createPlaidLinkSessionRequest:{clientId:e.getSession().applicationId}};return t.request(Ga.CREATE_PLAID_LINK_SESSION,r)}();var r}function ic(e,t,r,n,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,i)}function oc(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function s(e){ic(o,n,i,s,a,"next",e)}function a(e){ic(o,n,i,s,a,"throw",e)}s(void 0)}))}}class sc extends Ba{constructor(e,t,r){super(t),this.methodType=dn.ACH,this.tokenizeInProgress=!1,this.wasFirstInteractionCalled=!1,this.paymentMessenger=new ja(this.context);try{!function(e){if(e&&e.length>0){var t;try{t=new URL(e)}catch(t){throw new Qn("redirectURI",e,"Must be a valid URI")}if([...t.searchParams.values()].length>0)throw new Qn("redirectURI",e,"URI must not contain query parameters");return!0}throw new Qn("redirectURI","".concat(e),"Must be a valid URI")}(null==r?void 0:r.redirectURI)}catch(e){if(this.mustUseOAuth)throw e;console.warn(e.message)}try{!function(e){if(e&&e.length>0){if(e.length>50)throw new Qn("transactionId",e,"String must be between 1 and 50 characters");return!0}throw new Qn("transactionId","".concat(e),"String must be between 1 and 50 characters")}(null==r?void 0:r.transactionId)}catch(e){if(this.mustUseOAuth)throw e;console.warn(e.message)}this.plaidClient=function(e,t,r){var n,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};function o(r){return new Promise(((o,s)=>{var a=m.windowNavigationLanguage.split("-")[0];ec.has(a)||(a="en");var c=t.getSession(),{errorLogger:u,metricsHandler:l}=t;n=e.create({clientName:tc,countryCodes:rc,env:I.PLAID_LINK_ENV,language:a,onEvent:(e,t)=>{e!==In.ERROR||Xa.has(t.error_type)||u.captureException(new So("PlaidErrorEvent: ".concat(JSON.stringify(t)),dn.ACH),c.instanceId,c.sessionId),i.onEvent&&i.onEvent(e,t)},onExit:(e,t)=>{e&&(l.logEvent(Lo.ExternalSessionError),Xa.has(e.error_type)||u.captureException(new So("PlaidErrorOnExit: ".concat(JSON.stringify(e),", Metadata: ").concat(t),dn.ACH),c.instanceId,c.sessionId)),o({kind:"canceled"})},onSuccess:(e,t)=>{if(!t||!t.accounts||!t.accounts[0]){l.logEvent(Lo.ExternalSessionError);var n=new Error("No account selected but expected account, metadata: ".concat(JSON.stringify(t)));return u.captureException(n,c.instanceId,c.sessionId),void s(n)}l.logEvent(Lo.ExternalSessionOK),o({kind:"success",publicToken:e,selectedBankAccountId:t.accounts[0].id,gringottsSessionToken:r.gringottsSessionToken})},product:["auth"],token:r.plaidLinkToken}),l.logEvent(Lo.ExternalSessionStart),n.open()}))}function s(){return a.apply(this,arguments)}function a(){return(a=Ya((function*(){return o(yield nc(t,r))}))).apply(this,arguments)}function c(){n&&(n.exit({force:!0}),n.destroy(),n=void 0)}return{beginFlow:s,destroy:c}}(e,this.context,this.paymentMessenger,{onEvent:(e,t)=>{super.dispatchEvent(e,t)}})}get mustUseOAuth(){return Xi.ENFORCE_OAUTH_FLOW===this.featureFlagHandler.experimentGroup(Zi.CanUsePlaidOAuth)}tokenize(e){var t=this;return oc((function*(){try{if(t.throwIfDestroyed(),t.tokenizeInProgress)throw new pi([Fa]);if(!e||!e.accountHolderName)throw new Yn;if(!t.hasEventListener(In.ON_TOKENIZATION)){var r="Add event listener for '".concat(In.ON_TOKENIZATION,"' before calling tokenize.");if(t.mustUseOAuth)throw new pi([{message:r,type:"INVALID_CONFIGURATION"}]);console.warn("".concat(r," This will result in an error when using the Plaid OAuth flow."))}t.tokenizeInProgress=!0,t.handleFirstInteraction();var n=yield t.plaidClient.beginFlow();if("success"===n.kind){var i=yield t.requestAchBankNonce(e.accountHolderName,n.publicToken,n.selectedBankAccountId,n.gringottsSessionToken);return t.dispatchEvent(In.ON_TOKENIZATION,{tokenResult:i}),i}var o={status:hn.CANCEL};return t.dispatchEvent(In.ON_TOKENIZATION,{tokenResult:o}),o}catch(e){throw t.dispatchEvent(In.ON_TOKENIZATION,{error:e}),e}finally{t.tokenizeInProgress=!1}}))()}destroy(){return this.status=Ha.DESTROYED,this.metricsHandler.logEvent(xo.Destroyed),this.plaidClient.destroy(),Promise.resolve()}addEventListener(e,t){this.metricsHandler.logEvent(xo.EventListenerAdded,e),super.addEventListener(e,t)}removeEventListener(e,t){super.removeEventListener(e,t)}requestAchBankNonce(e,t,r,n){var i=this;return oc((function*(){var o={accountHolderName:e,gringottsSessionToken:n,plaidPublicToken:t,selectedPlaidBankAccountId:r},s=i.session,a={bankNonceRequest:{clientId:s.applicationId,locationId:s.locationId,paymentMethodTrackingId:i.context.getPaymentMethodTrackingId(),plaidLinkData:o,sessionId:s.sessionId,websdkVersion:I.VERSION,websiteUrl:s.sourceUrl}};try{var c=yield i.paymentMessenger.request(Ga.REQUEST_ACH_BANK_NONCE,a);return yield i.context.updateSession(c.sessionId),i.context.setPaymentMethodTrackingId(c.paymentMethodTrackingId),i.wasFirstInteractionCalled=!1,{details:{bankAccount:c.accountDetails,method:i.methodType},status:hn.OK,token:c.bankNonce}}catch(e){throw e instanceof pi?e:new pi([lo.UNKNOWN])}}))()}handleFirstInteraction(){this.wasFirstInteractionCalled||(this.wasFirstInteractionCalled=!0,this.metricsHandler.logEvent(Do.FirstInteraction))}}r(5827),(Ka=za||(za={})).UNKNOWN="unknown",Ka.AMERICAN_EXPRESS="americanExpress",Ka.DISCOVER="discover",Ka.DISCOVER_DINERS="discoverDiners",Ka.JCB="JCB",Ka.MASTER_CARD="masterCard",Ka.UNION_PAY="unionPay",Ka.VISA="visa",Ka.SQUARE_GIFT_CARD_V2="squareGiftCardV2",Ka.INTERAC="interac",Ka.SQUARE_CAPITAL_CARD="squareCapitalCard",Ka.EFTPOS="eftpos",on.CARD_NUMBER,on.CVV,on.EXPIRATION_DATE,on.POSTAL_CODE,(Za=Wa||(Wa={})).CARD_BRAND_CHANGED="cardBrandChanged",Za.ERROR_CLASS_ADDED="errorClassAdded",Za.ERROR_CLASS_REMOVED="errorClassRemoved",Za.FOCUS_CLASS_ADDED="focusClassAdded",Za.FOCUS_CLASS_REMOVED="focusClassRemoved",Za.POSTAL_CODE_CHANGED="postalCodeChanged",Za.SET_POSTAL_COUNTRY="setPostalCountry",Za.ESCAPE="escape",Za.SUBMIT="submit",(Qa=$a||($a={})).ERROR="error",Qa.FOCUS="focus",Qa.UNKNOWN="unknown",(Ja||(Ja={})).THIRD_PARTY_GIFT_CARD="thirdPartyGiftCard";class ac{constructor(e){this.options=e}format(e){for(var t=[...e],r="",n=0;t.length>0;)r+=this.options.delimiterPositions.includes(n)?this.options.delimiter:t.shift(),n+=1;return r}}r(9494);class cc{getName(){return"LuhnValdator"}isValid(e){var t=String(e).replace(/\D/g,"");if(!t)return!1;for(var r=0,n=!1,i=t.length-1;i>=0;i--){var o=Number.parseInt(t.charAt(i),10);r+=n?cc.luhnDigits[o]:o,n=!n}return r%10==0}}cc.luhnDigits=[0,2,4,6,8,1,3,5,7,9];var uc=new RegExp(/\D/g);new es({maxLength:15,regexp:uc,replacement:""}),new es({maxLength:19,regexp:uc,replacement:""}),new es({maxLength:14,regexp:uc,replacement:""}),new es({maxLength:16,regexp:uc,replacement:""}),new es({maxLength:16,regexp:uc,replacement:""}),new es({maxLength:16,regexp:uc,replacement:""}),new es({maxLength:16,regexp:uc,replacement:""}),new es({maxLength:19,regexp:uc,replacement:""}),new es({maxLength:16,regexp:uc,replacement:""}),new es({maxLength:255,regexp:new RegExp(/[^\dA-Za-z]/g),replacement:""}),new ac({delimiter:" ",delimiterPositions:[4,11]}),new ac({delimiter:" ",delimiterPositions:[4,9,14]}),new ac({delimiter:" ",delimiterPositions:[4,11]}),new ac({delimiter:" ",delimiterPositions:[4,9,14]}),new ac({delimiter:" ",delimiterPositions:[4,9,14]}),new ac({delimiter:" ",delimiterPositions:[4,9,14]}),new ac({delimiter:" ",delimiterPositions:[4,9,14]}),new ac({delimiter:" ",delimiterPositions:[4,9,14]}),new ac({delimiter:" ",delimiterPositions:[4,9,14]}),I.GET_PRODUCT_INFORMATION_ENDPOINT;var lc="sq-focus",dc="sq-error",pc=".".concat(lc),hc=".".concat(dc),fc="::placeholder";new Ao("IFrame does not exist");var gc=["top","right","bottom","left"],mc=(r(3123),r(3210),/^\d+\/\d+$/),Ec=/^#([\dA-Fa-f]{3}|[\dA-Fa-f]{6})$/,vc=/^-\d*\.?\d+em$/,yc=/^-\d*\.?\d+pt$/,_c=/^-\d*\.?\d+px$/,Ac=/^\d*\.?\d+em$/,Ic=/^\d*\.?\d+%$/,Sc=/^\d*\.?\d+pt$/,Cc=/^\d*\.?\d+px$/,Oc=/^\d*\.?\d+(?:dpi|dpcm|dppx|x)$/,Tc=/^rgb\((\s*\d{1,3},){2}\s*\d{1,3}\)$/,Pc=/^rgba\((\s*\d{1,3},){3}\s*(1|0*.\d*)\)$/,Rc=/\s(?![^(]*\))/,Nc=new Set(["screen","all","print","speech"]),wc=new Set(["and"]),bc=new Set(["not","only"]),Dc=new Set(["portrait","landscape"]),Lc=new Set(["xx-small","x-small","small","medium","large","x-large","xx-large"]),xc=new Set(["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgrey","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgrey","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","transparent","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"]),Uc=new Set([100,200,300,400,500,600,700,800,900]),Mc=new Set(["100","200","300","400","500","600","700","800","900","normal","bold","bolder","lighter"]),kc=new Set(["normal"]),Hc=new Set(["smaller","larger"]),Bc=new Set(["andale mono","arial","arial black","arial narrow","arial rounded mt bold","avant garde","baskerville","big caslon","bodoni mt","book antiqua","brush script mt","calibri","calisto mt","cambria","candara","century gothic","charcoal","comic sans ms","consolas","copperplate","copperplate gothic light","courier","courier new","cursive","didot","fantasy","franklin gothic medium","futura","garamond","geneva","georgia","gill sans","goudy old style","helvetica","helvetica neue","hoefler text","impact","lucida bright","lucida console","lucida grande","lucida sans unicode","lucida sans typewriter","monaco","monospace","optima","palatino","palatino linotype","papyrus","perpetua","rockwell","rockwell extra bold","sans-serif","segoe ui","serif","square market","square sans text","tahoma","times","times new roman","trebuchet ms","verdana"]),Gc=new Set(["none","antialiased","subpixel-antialiased"]),Fc=new Set(["grayscale","auto"]),jc=new Set(["none"]);function qc(e){return null!=e&&e.split(/, ?(?![^(]*\))/).every((e=>function(e){if(null==e)return!1;if("none"===e)return!0;var t=e.split(/ (?![^(]*\))/),r=0;if("inset"===t[0]&&(t.shift(),r++),"inset"===t[t.length-1]){if(r>0)return!1;t.pop()}for(var n=0;n<2;n++){var i=t.shift();if(void 0===i||!$c(i))return!1}switch(t.length){case 0:return!0;case 1:return Jc(t[0])||Zc(t[0]);case 2:return Zc(t[0])&&(Jc(t[1])||Qc(t[1]));case 3:return Zc(t[0])&&Qc(t[1])&&Jc(t[2]);default:return!1}}(e)))}function Vc(e){return["border-box","content-box"].includes(e)}function Yc(e){return e.split(" ").every((e=>function(e){return 0===Number(e)||lu(e)||hu(e)}(e)))}function zc(e){var t=e.split(" ");return!(0===t.length||t.length>4)&&t.every(Kc)}function Kc(e){return 0===Number(e)||lu(e)||hu(e)}function Wc(e){return 0===Number(e)||lu(e)||hu(e)||du(e)||fu(e)}function $c(e){return 0===Number(e)||uu(e)||pu(e)}function Qc(e){return 0===Number(e)||uu(e)||pu(e)}function Zc(e){return 0===Number(e)||lu(e)||hu(e)}function Jc(e){return null!=e&&(function(e){return xc.has(e.toLowerCase())}(e)||function(e){return Ec.test(e)}(e)||function(e){return Tc.test(e)}(e)||function(e){return Pc.test(e)}(e))}function Xc(e){return null!=e&&(function(e){return Lc.has(e.toLowerCase())}(e)||function(e){return Hc.has(e.toLowerCase())}(e)||lu(e)||gu(e)||hu(e)||mu(e))}function eu(e){return null!==e&&e.split(", ").every((e=>{return t=e.toLowerCase().trim().replace(/["']+/g,""),Bc.has(t);var t}))}function tu(e){var t=Number(e);return Number.isNaN(t)?Mc.has(e.toLowerCase()):Uc.has(t)}function ru(e){return"normal"===e||pu(e)||function(e){return gu(e)||function(e){return yc.test(e)}(e)}(e)||uu(e)}function nu(e){var t=Number(e);return!Number.isNaN(t)&&t>=0||kc.has(e)||hu(e)||lu(e)||gu(e)||mu(e)}function iu(e){return Gc.has(e)}function ou(e){return Fc.has(e)}function su(e){return jc.has(e)}function au(e){if(null===e)return!1;var t=e.toString().split(" ");return!(t.length>4)&&t.every((e=>function(e){return lu(e)||hu(e)||mu(e)||0===Number(e)}(e)))}function cu(e){if(!e.startsWith("(")||!e.endsWith(")"))return!1;var t=e.slice(1,-1),[r,n]=t.split(/: */);switch(r){case"width":case"min-width":case"max-width":case"height":case"min-height":case"max-height":case"device-width":case"min-device-width":case"max-device-width":case"device-height":case"min-device-height":case"max-device-height":return lu(n)||hu(n)||mu(n);case"resolution":case"min-resolution":case"max-resolution":return function(e){return Oc.test(e)}(n);case"aspect-ratio":case"min-aspect-ratio":case"max-aspect-ratio":case"device-aspect-ratio":case"min-device-aspect-ratio":case"max-device-aspect-ratio":return function(e){return mc.test(e)}(n);case"color":case"color-index":case"monochrome":return void 0===n;case"min-color":case"max-color":case"min-color-index":case"max-color-index":case"min-monochrome":case"max-monochrome":return function(e){return Number(e)>=0}(n);case"orientation":return function(e){return Dc.has(e)}(n);default:return!1}}function uu(e){return lu(e)||du(e)}function lu(e){return Cc.test(e)}function du(e){return _c.test(e)}function pu(e){return hu(e)||fu(e)}function hu(e){return Ac.test(e)}function fu(e){return vc.test(e)}function gu(e){return Sc.test(e)}function mu(e){return Ic.test(e)}var Eu=function(e,t){var r=(e=>{switch(e){case"border-color":case"background-color":case"color":case"-webkit-text-fill-color":return Jc;case"-webkit-box-shadow":case"box-shadow":return qc;case"box-sizing":return Vc;case"font-family":return eu;case"font-size":return Xc;case"font-weight":return tu;case"letter-spacing":return ru;case"line-height":return nu;case"padding":return au;case"-webkit-font-smoothing":return iu;case"-moz-osx-font-smoothing":return ou;case"display":return su;case"border-radius":return Yc;case"border-width":return zc;case"top":case"bottom":case"left":case"right":return Wc;case"width":return function(e){return e};default:return}})(e),n=r&&r(t)||function(e){return["unset","inherit","revert","initial"].includes(e)}(t);return n?t:""},vu=function(e){return!!(t=e).startsWith("@media")&&t.slice("@media".length+1,t.length).split(/, */).every((e=>{var t=e.split(Rc);if(0===t.length)return!1;var r=0;if(!t[0].startsWith("(")){var n=0;if(bc.has(t[0])&&(n=1),t.length===n+1)return Nc.has(t[n]);if(!Nc.has(t[n])||!wc.has(t[n+1]))return!1;r=2+n}if((t.length-r)%2==0)return!1;for(var[i,o]of Object.entries(t.slice(r)))if(!(Number(i)%2==0?cu(o):wc.has(o)))return!1;return!0}));var t};function yu(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(r.length>0){var i=r.includes(e);if(!i)throw new ci(e)}var o=to.cssProperty(e),s=Eu(o,t);if(0===s.length)throw new ui(e,t);return n&&(s+=" !important"),to.formatCSSKeyValuePair(o,s)}function _u(e,t,r){var n=[],i=[],o=new Set(e.excludeProperties||[]);for(var[s,a]of Object.entries(t))if(!o.has(s)){var c=a||"";try{n.push(yu(s,c,r))}catch(e){i.push(e)}}if(i.length>0)throw new di(i);return Object.fromEntries(e.toSelectors.map((function(e){return[e,n]})))}function Au(e,t,r){var n={},i=[];if(e.forEach((function(e){var{property:o,setAsImportant:s,toProperty:a,toSelectors:c,transformPropertyValue:u}=e,l=t[o];if(l){var d=u?u(l):l;try{var p=yu(a||o,d,a?[...r,a]:r,s);c.forEach((e=>{n[e]||(n[e]=[]),n[e].push(p)}))}catch(e){i.push(e)}}})),i.length>0)throw new di(i);return n}function Iu(e){var t=[];for(var[r,n]of Object.entries(e))n&&n.length>0&&t.push("\n      ".concat(r," { ").concat(n.join(" ")," }\n      "));return t.join("")}function Su(e,t){return!t&&vu(e)}var Cu=function(e,t){var r=t.split(" ");switch(r.length){case 1:return r[0];case 2:switch(e){case"top":case"bottom":return r[0];default:return r[1]}case 3:switch(e){case"top":return r[0];case"bottom":return r[2];default:return r[1]}case 4:switch(e){case"top":return r[0];case"right":return r[1];case"bottom":return r[2];case"left":return r[3];default:return""}default:return""}},Ou=function e(t,r,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=[],s=[...Object.keys(r.selectorMappings),...Object.keys(r.selectorPropertyMappings||{})],a=new Set(s),c=new Set(Object.values(n));Object.keys(t).forEach((e=>{c.has(e)||Su(e,i)||o.push(new li(e))}));var u={};function l(e){for(var[t,r]of Object.entries(e))u[t]||(u[t]=[]),u[t].push(...r)}for(var d of a){var p,h=t[d],f=r.allowedAttributes[d]||[],g=r.selectorMappings[d]||[],m=(null==r||null===(p=r.selectorPropertyMappings)||void 0===p?void 0:p[d])||[];if(h){try{var E=_u(g,h,f);l(E)}catch(e){e instanceof di&&o.push(...e.errors)}try{var v=Au(m,h,f);l(v)}catch(e){e instanceof di&&o.push(...e.errors)}}}var y=Object.keys(t).filter((e=>!a.has(e)&&vu(e)));if(y.forEach((i=>{try{var s=e(t[i],r,n,!0);u[i]=[s]}catch(e){o.push(...e.errors)}})),o.length>0)throw new di(o);return Iu(u)},Tu="sq-card-iframe-container",Pu="sq-card-wrapper",Ru="sq-card-component",Nu="sq-card-message",wu="sq-card-message-error",bu="sq-card-message-no-error",Du="sq-visible",Lu=".".concat(Pu),xu=".".concat(Ru),Uu=".".concat(Tu),Mu="".concat(Lu).concat(pc),ku="".concat(Lu).concat(hc),Hu="".concat(Lu," ").concat(xu),Bu="".concat(Lu," ").concat(Uu),Gu="".concat(Mu," ").concat(Uu),Fu="".concat(ku," ").concat(Uu),ju="input",qu="form",Vu="label",Yu=".sq-background-text",zu=".sq-visible-background-text",Ku=".sq-card-message-error::before",Wu=".sq-card-message-no-error::before",$u="".concat(Uu).concat("::before"),Qu="".concat(qu).concat(pc),Zu="".concat(qu).concat(hc),Ju=("".concat(Qu," ").concat(ju),"".concat(ju).concat(hc),"".concat(Qu," ").concat(ju).concat(fc),"".concat(Zu," ").concat(ju).concat(hc).concat(fc),"".concat(qu," ").concat(ju).concat(fc),"".concat(qu," ").concat(Yu)),Xu=("".concat(Ju," ").concat(zu),"".concat(Qu," ").concat(Vu),"".concat(Zu," ").concat(ju).concat(hc," ~ ").concat(Vu),"".concat(Qu," ").concat(Yu," ").concat(zu),"".concat(Zu," ").concat(ju).concat(hc," ~ ").concat(Yu," ").concat(zu),"".concat(qu," ").concat("#card-number-wrapper"),["borderWidth"]);function el(e){var t=["".concat(e).concat(hc," ").concat($u),"".concat(e).concat(pc," ").concat($u)];return gc.map((e=>{return{property:"borderWidth",toProperty:e,toSelectors:t,transformPropertyValue:(r=e,function(e){var t=Cu(r,e);return"0"===t[0]?t:"-".concat(t)})};var r}))}function tl(e,t){return Ou(e,function(e){var t="#".concat(e);return{allowedAttributes:{[sn.CARD_COMPONENT]:Ni,[sn.CARD_COMPONENT_FOCUS]:wi,[sn.CARD_COMPONENT_ERROR]:wi,[sn.CARD_INPUT_HELPER_TEXT]:bi,[sn.CARD_INPUT_HELPER_ICON]:Di,[sn.CARD_INPUT_ERROR_TEXT]:bi,[sn.CARD_INPUT_ERROR_ICON]:Di},selectorMappings:{[sn.CARD_COMPONENT]:{toSelectors:["".concat(t).concat(Bu)]},[sn.CARD_COMPONENT_FOCUS]:{excludeProperties:Xu,toSelectors:["".concat(t).concat(Gu)]},[sn.CARD_COMPONENT_ERROR]:{excludeProperties:Xu,toSelectors:["".concat(t).concat(Fu)]},[sn.CARD_INPUT_HELPER_TEXT]:{toSelectors:["".concat(t," ").concat(".sq-card-message-no-error")]},[sn.CARD_INPUT_HELPER_ICON]:{toSelectors:["".concat(t," ").concat(Wu)]},[sn.CARD_INPUT_ERROR_TEXT]:{toSelectors:["".concat(t," ").concat(".sq-card-message-error")]},[sn.CARD_INPUT_ERROR_ICON]:{toSelectors:["".concat(t," ").concat(Ku)]}},selectorPropertyMappings:{[sn.CARD_INPUT]:[{property:"backgroundColor",toSelectors:["".concat(t).concat(Bu)]}],[sn.CARD_COMPONENT]:[{property:"borderRadius",toSelectors:["".concat(t," ").concat($u),"".concat(t).concat(Hu)]},{property:"borderWidth",toProperty:"width",toSelectors:["".concat(t).concat(Bu)],transformPropertyValue:e=>function(e){var t=["left","right"].map((t=>{var r=Cu(t,e);return"0"===r&&(r="0px"),r})).join(" + ");return"calc(100% - (".concat(t,"))")}(e)},...el(t)],[sn.CARD_COMPONENT_ERROR]:[{property:"borderColor",toSelectors:["".concat(t).concat(hc," ").concat($u)]},{property:"borderWidth",toSelectors:["".concat(t).concat(hc," ").concat($u)]}],[sn.CARD_COMPONENT_FOCUS]:[{property:"borderColor",toSelectors:["".concat(t).concat(pc," ").concat($u)]},{property:"borderWidth",toSelectors:["".concat(t).concat(pc," ").concat($u)]}],[sn.CARD_INPUT_ERROR_ICON]:[{property:"color",toProperty:"backgroundColor",toSelectors:["".concat(t," ").concat(Ku)]}],[sn.CARD_INPUT_HELPER_ICON]:[{property:"color",toProperty:"backgroundColor",toSelectors:["".concat(t," ").concat(Wu)]}]}}}(t),sn)}sn.CARD_INPUT,sn.CARD_INPUT_FOCUS,sn.CARD_INPUT_ERROR,sn.CARD_INPUT_PLACEHOLDER,sn.CARD_INPUT_FOCUS_PLACEHOLDER,sn.CARD_INPUT_ERROR_PLACEHOLDER,sn.CARD_INPUT,sn.CARD_INPUT_FOCUS,sn.CARD_INPUT_ERROR,sn.CARD_INPUT_FOCUS_PLACEHOLDER,sn.CARD_INPUT_ERROR_PLACEHOLDER,sn.CARD_INPUT_PLACEHOLDER,sn.CARD_COMPONENT,sn.CARD_INPUT,sn.CARD_INPUT_PLACEHOLDER,sn.CARD_INPUT_FOCUS_PLACEHOLDER,sn.CARD_INPUT_ERROR_PLACEHOLDER;var rl="background-text";"sq-".concat(rl),"sq-hidden-".concat(rl),"sq-visible-".concat(rl),on.CARD_NUMBER,"0".repeat(24),on.EXPIRATION_DATE,"0".repeat(4),on.CVV,"0".repeat(4),on.POSTAL_CODE;var nl,il=[ci,ui,li,di,ei,ri,hi],ol=[ti,li,ci,ui,di];!function(e){e.ANALYTICS_TOKEN="_analyticsToken",e.LOCALE="_locale",e.SESSION_ID="_sessionId",e.TRANSLATION_OVERRIDES="_translationOverrides",e.PAYMENTS_UI_INSTANCE_ID="_paymentsUIInstanceId"}(nl||(nl={}));class sl{constructor(e){var{applePayMerchantIdentifier:t,cashAppPayMerchantIdentifier:r,applicationId:n,avt:i,hostname:o,locationId:s,instanceId:a,sessionId:c,sourceUrl:u,locale:l,paymentsUIInstanceId:d}=e;this.applicationId=n,this.locationId=s,this._sessionId=c,this.instanceId=a,this.applePayMerchantIdentifier=t,this.cashAppPayMerchantIdentifier=r,this.hostname=o,this.sourceUrl=u,this._locale=l,this.avt=i,this._paymentsUIInstanceId=d}get analyticsToken(){return this._analyticsToken}get paymentsUIInstanceId(){return this._paymentsUIInstanceId}get sessionId(){return this._sessionId}setSessionId(e){this.setAttribute(nl.SESSION_ID,e)}setTranslationOverrides(e){this.setAttribute(nl.TRANSLATION_OVERRIDES,e)}setLocale(e){this.setAttribute(nl.LOCALE,e)}setPaymentsUIInstanceId(e){this.setAttribute(nl.PAYMENTS_UI_INSTANCE_ID,e)}setAnalyticsToken(e){this.setAttribute(nl.ANALYTICS_TOKEN,e)}serialize(){return this.serialized||(this.serialized={applePayMerchantIdentifier:this.applePayMerchantIdentifier||"",cashAppPayMerchantIdentifier:this.cashAppPayMerchantIdentifier||"",applicationId:this.applicationId,avt:this.avt,hostname:this.hostname,instanceId:this.instanceId,locale:this._locale,locationId:this.locationId,sessionId:this._sessionId,sourceUrl:this.sourceUrl},this._analyticsToken&&(this.serialized.analyticsToken=this._analyticsToken),this._translationOverrides&&(this.serialized.translationOverrides=this._translationOverrides),this._paymentsUIInstanceId&&(this.serialized.paymentsUIInstanceId=this._paymentsUIInstanceId)),this.serialized}setAttribute(e,t){(this.isValueString(t)||e===nl.TRANSLATION_OVERRIDES)&&(this[e]=t),this.serialized=void 0}isValueString(e){return"string"==typeof e}}I.CARD_NONCE_ENDPOINT;var al,cl=[pi,ti],ul=function(e,t){var r=document.createElement("iframe");return new Promise(((n,i)=>{r.onerror=e=>{i(e)},r.onload=()=>{n(r)},Object.entries(e).forEach((e=>{var[t,n]=e;r.setAttribute(t,n)})),t?t.appendChild(r):document.body.appendChild(r)}))},ll=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)};!function(e){e.CONFIGURE="configure",e.DESTROY="destroy",e.LOAD_CARDS_FORM="loadCardsForm",e.REQUEST_CARD_NONCE_IF_VALID_FORM="requestCardNonceIfValidForm",e.SET_FOCUS="setFocus",e.CLEAR="clear",e.SET_ERROR="setError"}(al||(al={}));var dl=new Set(["DIV","SPAN"]),pl=new Set(["DIV","SPAN"]),hl=new Set(["DIV","SPAN","BUTTON"]);function fl(e,t){var r;if(function(e){return"string"==typeof e}(e)){var n=document.querySelector(e);if(!n)throw new Gn(e);r=n}else{if(!(e instanceof HTMLElement))throw new ni(e,t);if(r=e,!document.contains(r))throw new Gn(r)}if(!t.has(r.nodeName))throw new ni(r,t);return r}function gl(e){return fl(e,dl)}function ml(e){return fl(e,hl)}var El={addStyleElement:function(e,t,r,n){if(El.hasExistingStyleElement(t))r&&r();else{var i=document.createElement("link");r&&(i.onload=r),n&&(i.onerror=t=>{n(new Error("Failed to load stylesheet at ".concat(e,". The onerror callback was invoked.")))}),i.href=e,i.rel="stylesheet",i.type="text/css",i.id=t,document.head.appendChild(i)}},hasExistingStyleElement:function(e){return Boolean(document.getElementById(e))}},vl=El;function yl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yl(Object(r),!0).forEach((function(t){Al(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Al(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Il(e,t,r,n,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,i)}function Sl(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function s(e){Il(o,n,i,s,a,"next",e)}function a(e){Il(o,n,i,s,a,"throw",e)}s(void 0)}))}}var Cl="emptyMessage",Ol=[on.CARD_NUMBER,on.EXPIRATION_DATE,on.CVV,on.POSTAL_CODE];function Tl(e){return"".concat("single-card-wrapper","-").concat(e)}function Pl(e,t){var r=function(e){return"".concat("sq-single-card-custom-styles","-").concat(e)}(t),n=document.getElementById(r);null===n&&((n=document.createElement("style")).id=r,document.head.appendChild(n)),n.innerHTML=tl(e,Tl(t))}var Rl=class extends Ba{constructor(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e),this.methodType=dn.CARD,this.postalCountry=Wo.US,this.onResize=this.onResize.bind(this),this.id=ka(),this.iframeName="".concat("single-card","-").concat(this.id),this.paymentMessenger=new ja(this.context),this.tokenizeInProcess=!1,this.inputLabelsIncluded=Boolean(t.includeInputLabels),this.initializeMessageBus(),this.errorList=new Set,this.updateCardDetailText=this.updateCardDetailText.bind(this),this.context.addLocaleChangedListener(this.updateCardDetailText),this.validateOptions(t),this.initialOptions=t,this.stylesLoadedPromise=new Promise(((e,t)=>{this.resolveStylePromise=e,this.rejectStylePromise=t}))}configure(){var e=arguments,t=this;return Sl((function*(){var r=e.length>0&&void 0!==e[0]?e[0]:{};t.throwIfNotAttached(),t.validateOptions(r),t.metricsHandler.logEvent(xo.ConfigUpdated,r),void 0!==r.includeInputLabels&&(t.inputLabelsIncluded=Boolean(r.includeInputLabels),t.onResize()),void 0!==r.style&&Pl(r.style,t.id);try{return void(yield t.paymentMessenger.request(al.CONFIGURE,{includeInputLabels:t.inputLabelsIncluded,postalCode:r.postalCode,style:r.style,type:t.methodType}))}catch(e){if(to.isInstanceOf(e,ol))throw e;throw t.errorLogger.captureException(e,t.session.instanceId,t.session.sessionId),new hi("configuring the Card Element")}}))()}destroy(){var e=this;return Sl((function*(){var t=yield e.detachElement(Ha.DESTROYED,xo.Destroyed);return e.context.removeLocaleChangedListener(e.updateCardDetailText),t}))()}attach(e){var t=this;return Sl((function*(){var r;t.throwIfAlreadyAttached(),t.status=Ha.ATTACHED,t.metricsHandler.logEvent(Do.AttachStart),t.metricsHandler.logEvent(xo.Configured,t.initialOptions);try{r=gl(e)}catch(e){throw t.metricsHandler.logEvent(Do.AttachError),t.status===Ha.ATTACHED&&(t.status=Ha.DETACHED),e}try{return t.attachPromise=t.buildElementOnIframe(r),yield t.attachPromise,t.attachPromise=void 0,t.throwIfDestroyed(),t.element=r,window.addEventListener("resize",t.onResize),t.showCardElement(),t.onResize(),void t.metricsHandler.logEvent(Do.AttachOK)}catch(e){if(t.status===Ha.ATTACHED&&(t.status=Ha.DETACHED),t.metricsHandler.logEvent(Do.AttachError),to.isInstanceOf(e,il))throw e;throw t.errorLogger.captureException(e,t.session.instanceId,t.session.sessionId),new hi("attaching the Card Element")}}))()}focus(e){var t=this;return Sl((function*(){if(t.throwIfNotAttached(),!Object.values(on).includes(e))throw new Wn(e);t.metricsHandler.logEvent(xo.Focused,e);try{return yield t.paymentMessenger.request(al.SET_FOCUS,{field:e})}catch(e){t.errorLogger.captureException(e,t.session.instanceId,t.session.sessionId)}return!1}))()}clear(){var e=this;return Sl((function*(){e.throwIfNotAttached();try{return yield e.paymentMessenger.request(al.CLEAR)}catch(t){e.errorLogger.captureException(t,e.session.instanceId,e.session.sessionId)}return e.metricsHandler.logEvent(xo.Clear),!1}))()}detach(){return this.detachElement(Ha.DETACHED,xo.Detached)}addEventListener(e,t){this.throwIfDestroyed(),this.metricsHandler.logEvent(xo.EventListenerAdded,e),super.addEventListener(e,t)}removeEventListener(e,t){this.throwIfDestroyed(),super.removeEventListener(e,t)}tokenize(){var e=this;return Sl((function*(){if(e.throwIfNotAttached(),e.tokenizeInProcess)throw new pi([Fa]);e.tokenizeInProcess=!0;try{var t=yield e.paymentMessenger.request(al.REQUEST_CARD_NONCE_IF_VALID_FORM,{type:e.methodType});return e.tokenizeInProcess=!1,e.context.setPaymentMethodTrackingId(t.paymentMethodTrackingId),yield e.context.updateSession(t.sessionId),function(e){var{card:t,billingContact:r,cardNonce:n}=e;return{details:{card:t,method:dn.CARD,billing:r},status:hn.OK,token:n}}(t)}catch(t){if(e.tokenizeInProcess=!1,t instanceof ho)return{errors:t.errors,status:hn.INVALID};throw to.isInstanceOf(t,cl)?t:(e.errorLogger.captureException(t,e.session.instanceId,e.session.sessionId),fo())}}))()}recalculateSize(){this.throwIfNotAttached(),this.metricsHandler.logEvent(xo.RecalculatedSize),this.onResize()}setError(e){var t=this;return Sl((function*(){if(t.throwIfNotAttached(),!Object.values(on).includes(e))throw new Wn(e);t.metricsHandler.logEvent(xo.SetError,e);try{return yield t.paymentMessenger.request(al.SET_ERROR,{field:e})}catch(e){t.errorLogger.captureException(e,t.session.instanceId,t.session.sessionId)}return!1}))()}buildElementOnIframe(e){var t=this;return Sl((function*(){yield t.buildCardElement(e),yield t.paymentMessenger.request(al.LOAD_CARDS_FORM,{configuration:_l(_l({},t.initialOptions),{},{type:t.methodType}),iframeName:t.iframeName}),yield t.stylesLoadedPromise}))()}validateOptions(e){var t={includeInputLabels:e=>"boolean"==typeof e,postalCode:e=>"string"==typeof e,style:e=>"object"==typeof e};Object.entries(e).forEach((e=>{var[r,n]=e;if(void 0===t[r])throw new $n(r);if(t[r]&&!t[r](n))throw new Qn(r,n)}))}buildErrorMessage(e){switch(e){case on.CARD_NUMBER:return this.context.getLocaleString().paymentMethods.cards.errors.cardNumberError;case on.CVV:return this.context.getLocaleString().paymentMethods.cards.errors.cvvError;case on.EXPIRATION_DATE:return this.context.getLocaleString().paymentMethods.cards.errors.expirationDateError;case on.POSTAL_CODE:return this.context.getLocaleString().paymentMethods.cards.errors.postalCodeErrors[this.postalCountry];default:return""}}buildHelperMessage(e){switch(e){case on.CARD_NUMBER:return this.context.getLocaleString().paymentMethods.cards.helperText.cardNumber;case on.CVV:return this.context.getLocaleString().paymentMethods.cards.helperText.cvv;case on.EXPIRATION_DATE:return this.context.getLocaleString().paymentMethods.cards.helperText.expirationDate;case on.POSTAL_CODE:return this.context.getLocaleString().paymentMethods.cards.helperText.postalCodes[this.postalCountry];default:return""}}updateCardDetailText(){var e,t,r;this.cardDetail&&(0===this.errorList.size?(e=null!==(r=this.focusedInput)&&void 0!==r?r:Cl,t=this.buildHelperMessage(e),this.cardDetail.classList.remove(wu),this.cardDetail.classList.add(bu)):(e=Ol.find((e=>this.errorList.has(e)))||Cl,t=this.buildErrorMessage(e),this.cardDetail.classList.add(wu),this.cardDetail.classList.remove(bu)),this.cardDetail.textContent!==t&&(this.cardDetail.textContent=t),t.length>0?this.cardDetail.classList.add(Du):this.cardDetail.classList.remove(Du))}addErrorMessage(e){this.errorList.add(e),this.updateCardDetailText()}removeErrorMessage(e){this.errorList.has(e)&&(this.errorList.delete(e),this.updateCardDetailText())}addFocusMessage(e){this.focusedInput=e,this.updateCardDetailText()}removeFocusMessage(e){this.focusedInput===e&&(this.focusedInput=null),setTimeout((()=>{null===this.focusedInput&&this.updateCardDetailText()}),50)}removeFocusClass(){setTimeout((()=>{var e;this.focusedInput||null===(e=this.wrapperElement)||void 0===e||e.classList.remove(lc)}),50)}removeErrorClass(){var e;0===this.errorList.size&&(null===(e=this.wrapperElement)||void 0===e||e.classList.remove(dc))}handleInputEvent(e){var t,r,{data:n}=e,i=n.payload.body;switch(i.eventType){case nn.ERROR_CLASS_ADDED:this.addErrorMessage(i.field),null===(t=this.wrapperElement)||void 0===t||t.classList.add(dc);break;case nn.ERROR_CLASS_REMOVED:this.removeErrorMessage(i.field),this.removeErrorClass();break;case nn.FOCUS_CLASS_ADDED:this.addFocusMessage(i.field),null===(r=this.wrapperElement)||void 0===r||r.classList.add(lc);break;case nn.FOCUS_CLASS_REMOVED:this.removeFocusMessage(i.field),this.removeFocusClass()}super.dispatchEvent(i.eventType,i)}handleSetPostalCountry(e){var{data:t}=e;this.postalCountry=t.payload.body.postalCountry}initializeMessageBus(){var e=this.handleInputEvent.bind(this),t=this.handleSetPostalCountry.bind(this),r={[Wa.SET_POSTAL_COUNTRY]:t,[Wa.FOCUS_CLASS_ADDED]:e,[Wa.FOCUS_CLASS_REMOVED]:e,[Wa.ERROR_CLASS_ADDED]:e,[Wa.ERROR_CLASS_REMOVED]:e,[Wa.CARD_BRAND_CHANGED]:e,[Wa.POSTAL_CODE_CHANGED]:e,[Wa.SUBMIT]:e,[Wa.ESCAPE]:e};this.paymentMessenger.initializeMessageBus(r)}buildCardIframe(e){return ul({frameborder:"0",height:"0px",name:this.iframeName,scrolling:"no",src:I.SINGLE_CARD_IFRAME,width:"100%"},e)}hideCardElement(){this.wrapperElement&&this.wrapperElement.setAttribute("style","display: none;")}showCardElement(){this.wrapperElement&&this.wrapperElement.removeAttribute("style")}buildCardElement(e){var t=this;return Sl((function*(){var r;t.wrapperElement=document.createElement("div"),t.wrapperElement.id=Tl(t.id),t.wrapperElement.classList.add(Pu),t.hideCardElement(),t.cardDetail=document.createElement("span"),t.cardDetail.classList.add(Nu),e.appendChild(t.wrapperElement),t.iframeContainer=document.createElement("div"),t.iframeContainer.classList.add(Tu),t.wrapperElement.appendChild(t.iframeContainer),t.iframe=yield t.buildCardIframe(t.iframeContainer),t.iframe.classList.add(Ru),t.wrapperElement.appendChild(t.cardDetail),vl.addStyleElement(I.SINGLE_CARD_WRAPPER_STYLES,"sq-single-card-styles",t.resolveStylePromise,t.rejectStylePromise),null!==(r=t.initialOptions)&&void 0!==r&&r.style&&Pl(t.initialOptions.style,t.id)}))()}onResize(e){if(this.iframe&&this.wrapperElement&&this.iframeContainer&&(this.lastResizeWidth=this.iframe.clientWidth,!this.currentResizeTimeout)){var t=e=>{if(this.wrapperElement&&this.iframe&&this.iframeContainer){var t=this.inputLabelsIncluded?62:48;e<=482&&(t=2*t+1),this.iframeContainer.style.height="".concat(Math.round(t),"px"),this.iframe.height="".concat(Math.round(t),"px")}};t(this.lastResizeWidth||0),this.currentResizeTimeout=window.setTimeout((()=>{t(this.lastResizeWidth||0),this.currentResizeTimeout=void 0}),100)}}detachElement(e,t){var r=this;return Sl((function*(){r.throwIfDestroyed();var n=r.status;if(r.status=e,r.attachPromise)try{yield r.attachPromise}catch(e){}try{var i=yield r.paymentMessenger.request(al.DESTROY);return r.element&&(ll(r.element),window.removeEventListener("resize",r.onResize)),r.metricsHandler.logEvent(t),i}catch(e){throw r.status=n,e}}))()}};function Nl(e){return{detail:"Received an error in redirectURI coming back from Cash App",message:"Received an error in redirect from Cash App: ".concat(e),type:"UNKNOWN"}}r(9601);var wl,bl=function(e){window.localStorage&&window.localStorage.removeItem(e)},Dl=function(e){if(window.localStorage){var t,r=window.localStorage.getItem(e);if(!r)return null;try{t=JSON.parse(r)}catch(e){return null}return{key:e,value:t}}return null},Ll=function(e){window.localStorage&&window.localStorage.setItem(e.key,JSON.stringify(e.value))};!function(e){e.REQUEST_CASH_APP_AUTH="REQUEST_CASH_APP_AUTH",e.REQUEST_CASH_APP_CUSTOMER="REQUEST_CASH_APP_CUSTOMER",e.REQUEST_CASH_APP_CREATE_WALLET_TOKEN="REQUEST_CASH_APP_CREATE_WALLET_TOKEN"}(wl||(wl={}));var xl=["state","code","access_token"],Ul=new Set(["iPhone Simulator","iPod Simulator","iPhone","iPod"]),Ml={CASH_APP_OAUTH_PARAMS:xl,extractCashAppParamsFromURI:function(e,t){var r=new URL(e),n=0,i=[];xl.forEach((e=>{r.searchParams.get(e)&&(n++,i.push(e),r.searchParams.delete(e))}));var o=r.searchParams.get("error");return o&&r.searchParams.delete("error"),!o&&n>0&&n!==xl.length&&t.captureException(new Ao("redirectURI: removed [".concat(i.toString(),"] but not all of Cash App OAuth params [").concat(xl.toString(),"]"))),r.toString()},findAndRemoveQueryParams:function(e,t){var r={};if(!window.URLSearchParams)return r;var n=new URLSearchParams(e),i=t.length,o=0;if(t.forEach((e=>{r[e]=n.get(e),r[e]&&o++})),i===o){var s=new URLSearchParams(e);t.forEach((e=>{s.delete(e)}));var a="?".concat(s.toString()),c=m.windowHash;c&&(a+="".concat(c)),m.replaceWindowState(a)}return r},isIOS:function(){return Ul.has(window.navigator.platform)||/iPhone|iPod/.test(navigator.userAgent)&&"ontouchend"in document}};class kl extends Nn{constructor(){super("Cash Client: QR Code Image URL is not valid"),this.name="InvalidQrCodeUrlError",Object.setPrototypeOf(this,kl.prototype)}}function Hl(e,t,r,n,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,i)}function Bl(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function s(e){Hl(o,n,i,s,a,"next",e)}function a(e){Hl(o,n,i,s,a,"throw",e)}s(void 0)}))}}class Gl{constructor(){this.stylesLoadedPromise=new Promise(((e,t)=>{this.resolveStylePromise=e,this.rejectStylePromise=t})),vl.addStyleElement(I.CASH_APP_STYLES,"sq-cash-app-styles",this.resolveStylePromise,this.rejectStylePromise)}createCashAppButton(e){var t=this;return Bl((function*(){yield t.stylesLoadedPromise;var r,n=document.createElement("button"),i=document.createElement("img");return i.setAttribute("src",(r=e.theme===Ii.DARK?"fff":"000","data:image/svg+xml,%3Csvg width='143' height='22' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M13.027 2c2.008 0 3.012 0 4.092.342a4.247 4.247 0 012.54 2.539C20 5.96 20 6.965 20 8.973v6.054c0 2.008 0 3.012-.342 4.092a4.247 4.247 0 01-2.539 2.54C16.04 22 15.035 22 13.027 22H6.973c-2.008 0-3.012 0-4.092-.342A4.247 4.247 0 01.34 19.12C0 18.04 0 17.035 0 15.027V8.973c0-2.008 0-3.012.342-4.092A4.248 4.248 0 012.88 2.34C3.96 2 4.965 2 6.973 2h6.054z' fill='%2300D64F'/%3E%3Cg clip-path='url(%23clip0)'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M10.411 8.757c.967 0 1.894.391 2.5.929a.38.38 0 00.525-.01l.72-.732a.376.376 0 00-.017-.547 5.695 5.695 0 00-1.931-1.086l.226-1.076a.377.377 0 00-.37-.455h-1.392a.377.377 0 00-.369.299l-.204.957C8.25 7.128 6.68 8.05 6.68 9.946c0 1.64 1.298 2.344 2.668 2.83 1.297.487 1.982.667 1.982 1.352 0 .703-.684 1.117-1.694 1.117-.92 0-1.885-.303-2.633-1.04a.376.376 0 00-.528-.002l-.774.764a.38.38 0 00.002.542c.604.586 1.368 1.01 2.24 1.248l-.212.997a.378.378 0 00.366.456l1.395.01a.377.377 0 00.372-.3l.201-.958c2.216-.137 3.572-1.341 3.572-3.104 0-1.622-1.351-2.307-2.992-2.866-.937-.343-1.748-.577-1.748-1.28 0-.684.757-.955 1.514-.955z' fill='%23fff'/%3E%3C/g%3E%3Cpath d='M37.316 8.99l.942-.592c.296-.192.365-.436.156-.715-1.167-1.585-2.858-2.352-4.775-2.352-3.572 0-6.03 2.631-6.03 6.43 0 3.834 2.458 6.466 6.083 6.466 2.091 0 3.677-.89 4.792-2.458.192-.296.122-.54-.174-.714l-.959-.558c-.278-.157-.522-.104-.714.157-.662.924-1.603 1.499-2.928 1.499-2.283 0-3.694-1.795-3.694-4.392 0-2.561 1.394-4.356 3.66-4.356 1.202 0 2.195.47 2.91 1.429.209.261.453.33.731.156zm8.91 9.01h1.045c.331 0 .523-.192.523-.523v-5.855c0-2.144-1.516-3.032-3.677-3.032-1.255 0-2.474.33-3.415.836-.297.157-.349.418-.21.715l.332.68c.156.313.4.365.714.208.767-.383 1.673-.592 2.405-.592.75 0 1.638.209 1.638.976 0 .871-1.133.958-2.457 1.15-1.238.174-3.242.558-3.242 2.806 0 1.812 1.308 2.84 3.19 2.84 1.272 0 2.073-.453 2.63-1.185v.488c0 .314.193.488.524.488zm-.645-4.548v1.045c0 1.377-.993 1.97-2.056 1.97-.854 0-1.447-.384-1.447-1.203 0-.889.697-1.098 1.499-1.255.819-.14 1.586-.244 2.004-.557zm4.651 2.248l-.505.592c-.209.262-.209.523.052.75.924.749 2.179 1.167 3.643 1.167 2.422 0 3.955-1.185 3.955-3.102 0-1.812-1.394-2.44-3.59-2.823-1.028-.174-2.056-.314-2.056-1.046 0-.662.732-.906 1.569-.906.906 0 1.742.297 2.335.715.261.209.523.209.732-.053l.488-.575c.226-.261.226-.522-.053-.731-.784-.593-1.934-1.098-3.415-1.098-1.987 0-3.73.854-3.73 2.875 0 1.934 1.639 2.492 3.329 2.788 1.603.28 2.265.418 2.265 1.116 0 .766-.732 1.08-1.707 1.08-.872 0-1.813-.227-2.562-.802-.279-.209-.54-.209-.75.053zM59.76 18h1.167c.331 0 .523-.192.523-.523v-4.67c0-1.394.906-2.23 2.091-2.23 1.255 0 1.569.888 1.569 1.864v5.036c0 .331.191.523.522.523H66.8c.331 0 .523-.192.523-.523v-5.542c0-1.969-1.133-3.345-3.067-3.345-1.22 0-2.214.54-2.806 1.359V6.08c0-.33-.192-.523-.523-.523H59.76c-.332 0-.523.192-.523.523v11.397c0 .331.191.523.523.523zm23.533 0h1.498c.384 0 .558-.244.419-.61L80.992 5.976c-.104-.297-.296-.419-.592-.419h-1.865c-.296 0-.488.122-.592.419L73.708 17.39c-.14.366.035.61.418.61h1.412c.296 0 .505-.14.592-.418l.907-2.667h4.757l.906 2.667c.087.279.296.418.593.418zM79.44 7.579l1.76 5.402h-3.59l1.83-5.402zm9.05 1.22h-1.167c-.331 0-.523.191-.523.523v11.187c0 .331.192.523.523.523h1.168c.33 0 .522-.192.522-.523v-3.694c.645.941 1.69 1.394 2.841 1.394 2.51 0 4.13-2.091 4.13-4.827 0-2.719-1.62-4.792-4.13-4.792-1.133 0-2.196.435-2.84 1.376v-.644c0-.332-.192-.523-.523-.523zm.523 4.583c0-1.586.802-2.858 2.37-2.858 1.534 0 2.283 1.29 2.283 2.858 0 1.586-.749 2.893-2.282 2.893-1.551 0-2.37-1.29-2.37-2.893zm10.544-4.583H98.39c-.331 0-.523.191-.523.523v11.187c0 .331.192.523.523.523h1.168c.33 0 .522-.192.522-.523v-3.694c.645.941 1.691 1.394 2.841 1.394 2.509 0 4.13-2.091 4.13-4.827 0-2.719-1.621-4.792-4.13-4.792-1.133 0-2.196.435-2.841 1.376v-.644c0-.332-.191-.523-.522-.523zm.522 4.583c0-1.586.802-2.858 2.37-2.858 1.534 0 2.283 1.29 2.283 2.858 0 1.586-.749 2.893-2.283 2.893-1.551 0-2.37-1.29-2.37-2.893zm16.199.122h2.962c2.841 0 4.462-1.569 4.462-3.973 0-2.388-1.638-3.974-4.462-3.974h-4.757c-.331 0-.523.192-.523.523v11.397c0 .331.192.523.523.523h1.272c.331 0 .523-.192.523-.523v-3.973zm2.945-2.109h-2.945V7.666h2.945c1.377 0 2.126.662 2.126 1.847 0 1.203-.749 1.882-2.126 1.882zM130.979 18h1.045c.332 0 .523-.192.523-.523v-5.855c0-2.144-1.516-3.032-3.677-3.032-1.255 0-2.474.33-3.415.836-.297.157-.349.418-.21.715l.332.68c.156.313.4.365.714.208.767-.383 1.673-.592 2.405-.592.749 0 1.638.209 1.638.976 0 .871-1.133.958-2.457 1.15-1.237.174-3.241.558-3.241 2.806 0 1.812 1.307 2.84 3.189 2.84 1.272 0 2.073-.453 2.631-1.185v.488c0 .314.192.488.523.488zm-.645-4.548v1.045c0 1.377-.993 1.97-2.056 1.97-.854 0-1.447-.384-1.447-1.203 0-.889.697-1.098 1.499-1.255.819-.14 1.586-.244 2.004-.557zm4.588 6.238l-.21.785c-.087.33.018.575.332.644.244.053.557.087.941.087 1.533 0 2.387-.644 3.311-3.084l3.311-8.713c.139-.366-.035-.61-.419-.61h-1.272c-.296 0-.488.14-.592.418l-2.057 5.977-2.073-5.977c-.105-.279-.297-.418-.593-.418h-1.394c-.383 0-.54.244-.401.61l3.311 8.452c-.418 1.115-.749 1.498-1.411 1.498-.105 0-.227 0-.331-.035-.209-.052-.366.053-.453.366z' fill='%23".concat(r,"'/%3E%3C/svg%3E"))),n.classList.add("sq-cash-button",function(e){switch(e){case Si.ROUNDED:return"sq-cash-button-rounded";case Si.SEMIROUNDED:return"sq-cash-button-semi-rounded";default:return"sq-cash-button-squared"}}(e.shape),function(e){return e===Ii.DARK?"sq-cash-button-dark":"sq-cash-button-light"}(e.theme)),n.appendChild(i),n}))()}createQrCodeContainer(e){var t=this;return Bl((function*(){if(yield t.stylesLoadedPromise,!to.isValidUrl(e))throw new kl;var r=new URL(e);r.searchParams.set("rounded","0");var n=document.createElement("div");n.classList.add("sq-cash-qr-container");var i=document.createElement("div");i.classList.add("col-left");var o=document.createElement("div");o.classList.add("col-right");var s=document.createElement("div");s.classList.add("sq-cash-qr-instruction"),s.innerHTML="<div><h3>Cash App Pay</h3><span>Scan the QR Code to check out</span></div>";var a=document.createElement("div"),c=document.createElement("img");a.classList.add("sq-cash-qr-guide"),c.setAttribute("src","data:image/svg+xml,%3Csvg width='133' height='109' viewBox='0 0 133 109' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cg clip-path='url(%23clip0)'%3E%3Crect x='6.51207' y='2.51207' width='122.976' height='125.976' rx='14.9276' fill='%2300B843' stroke='black' stroke-width='4.97585'/%3E%3Cg clip-path='url(%23clip1)'%3E%3Cpath d='M59.7669 79.5683C60.3043 79.5683 60.6028 79.2399 60.6028 78.6727V78.1054C64.7527 77.8069 67.1112 75.0602 67.1112 71.7164C67.1112 67.5964 63.5883 66.1037 60.6028 65.3275V59.5953C61.7373 59.8341 62.633 60.3118 63.4391 61.1179C63.8272 61.506 64.2451 61.5956 64.693 61.297L65.8872 60.5506C66.3947 60.2521 66.5141 59.7744 66.126 59.3266C64.693 57.595 62.6927 56.6695 60.6028 56.4306V55.6843C60.6028 55.2066 60.3043 54.9677 59.7669 54.9677C59.2295 54.9677 58.9011 55.2961 58.9011 55.8634V56.3709C55.1692 56.5202 52.4524 58.7892 52.4524 62.4315C52.4524 66.7008 56.244 68.104 58.9011 68.7309V75.0005C57.5277 74.8512 56.1544 74.284 55.1095 72.8509C54.7512 72.3434 54.393 72.224 53.8854 72.5524L52.4822 73.4182C51.9747 73.7466 51.8553 74.1646 52.1837 74.6423C53.6764 76.6724 56.0051 77.9263 58.9011 78.1353V78.8518C58.9011 79.2996 59.2295 79.5683 59.7669 79.5683ZM56.035 62.133C56.035 60.4312 57.3486 59.5953 58.9011 59.4759V64.9095C57.2889 64.4617 56.035 63.775 56.035 62.133ZM63.6182 72.0449C63.6182 73.7167 62.5434 74.8811 60.6028 75.0602V69.1489C62.4837 69.6863 63.6182 70.3431 63.6182 72.0449Z' fill='white'/%3E%3Cpath d='M84.4025 67.1785C84.4025 61.4761 82.4619 56.1022 76.8491 56.1022C71.2065 56.1022 69.2958 61.4761 69.2958 67.1785C69.2958 72.8509 71.2065 78.195 76.8491 78.195C82.4619 78.195 84.4025 72.8509 84.4025 67.1785ZM80.372 67.1486C80.372 71.5672 79.5361 74.9408 76.8491 74.9408C74.1025 74.9408 73.2964 71.5672 73.2964 67.1486C73.2964 62.7301 74.1025 59.3863 76.8491 59.3863C79.5361 59.3863 80.372 62.7301 80.372 67.1486Z' fill='white'/%3E%3C/g%3E%3Cg filter='url(%23filter0_d)'%3E%3Ccircle cx='21.7048' cy='28.7714' r='21.7048' fill='%2300D64F'/%3E%3C/g%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M15.6143 24.2473C15.5832 24.6287 15.5824 25.1239 15.5824 25.8616V26.8927H13.6492V25.8616V25.8224C13.6492 25.134 13.6492 24.5594 13.6875 24.0899C13.7275 23.6003 13.814 23.1407 14.0355 22.706C14.3753 22.0391 14.9175 21.4969 15.5844 21.1571C16.0191 20.9356 16.4787 20.8491 16.9683 20.8091C17.4378 20.7708 18.0123 20.7708 18.7007 20.7708L18.7008 20.7708L18.74 20.7708H19.7711V22.704H18.74C18.0023 22.704 17.5071 22.7048 17.1258 22.7359C16.7557 22.7662 16.5788 22.8201 16.4621 22.8796C16.1589 23.0341 15.9125 23.2805 15.758 23.5836C15.6985 23.7004 15.6446 23.8773 15.6143 24.2473ZM24.239 22.704C24.9768 22.704 25.472 22.7048 25.8533 22.7359C26.2233 22.7662 26.4003 22.8201 26.517 22.8796C26.8201 23.0341 27.0666 23.2805 27.221 23.5836C27.2805 23.7004 27.3345 23.8773 27.3647 24.2473C27.3959 24.6287 27.3966 25.1239 27.3966 25.8616V26.8927H29.3299V25.8616L29.3299 25.8224V25.8223V25.8223V25.8223C29.3299 25.1339 29.3299 24.5593 29.2915 24.0899C29.2515 23.6003 29.165 23.1407 28.9436 22.706C28.6038 22.0391 28.0616 21.4969 27.3947 21.1571C26.96 20.9356 26.5003 20.8491 26.0107 20.8091C25.5413 20.7708 24.9667 20.7708 24.2782 20.7708H24.239H23.208V22.704H24.239ZM27.3966 31.3606C27.3966 32.0984 27.3959 32.5935 27.3647 32.9749C27.3345 33.3449 27.2805 33.5219 27.221 33.6386C27.0666 33.9417 26.8201 34.1882 26.517 34.3426C26.4003 34.4021 26.2233 34.4561 25.8533 34.4863C25.472 34.5175 24.9768 34.5182 24.239 34.5182H23.208V36.4514H24.239L24.2782 36.4514H24.2784H24.2784H24.2784C24.9667 36.4515 25.5413 36.4515 26.0107 36.4131C26.5003 36.3731 26.96 36.2866 27.3947 36.0651C28.0616 35.7253 28.6038 35.1831 28.9436 34.5162C29.165 34.0816 29.2515 33.6219 29.2915 33.1323C29.3299 32.6629 29.3299 32.0883 29.3299 31.3999V31.3999V31.3998V31.3998L29.3299 31.3606V30.3295H27.3966V31.3606ZM18.74 34.5182C18.0023 34.5182 17.5071 34.5175 17.1258 34.4863C16.7557 34.4561 16.5788 34.4021 16.4621 34.3426C16.1589 34.1882 15.9125 33.9417 15.758 33.6386C15.6986 33.5219 15.6446 33.3449 15.6143 32.9749C15.5832 32.5935 15.5824 32.0984 15.5824 31.3606L15.5824 30.3295H13.6492V31.3606V31.3998V31.3999C13.6492 32.0883 13.6492 32.6629 13.6875 33.1323C13.7275 33.6219 13.814 34.0816 14.0355 34.5162C14.3753 35.1831 14.9175 35.7253 15.5844 36.0651C16.0191 36.2866 16.4787 36.3731 16.9683 36.4131C17.4378 36.4515 18.0124 36.4515 18.7008 36.4514H18.7008L18.74 36.4514H19.7711V34.5182L18.74 34.5182Z' fill='white'/%3E%3Cpath d='M35.4841 2.48792C56.4982 2.48792 83.1989 2.48792 104.213 2.48792V4.97658C103.975 4.97854 103.824 4.98566 103.693 5.0117C102.953 5.15894 102.375 5.73757 102.227 6.47776C102.192 6.65801 102.192 6.87476 102.192 7.30828C102.192 7.36349 102.192 7.41522 102.192 7.46377C102.191 7.84292 102.188 8.06738 102.173 8.26281C101.932 11.4847 99.3708 14.0459 96.1488 14.2873C95.9051 14.3056 95.6164 14.3056 95.0388 14.3056H44.6583C44.0807 14.3056 43.7919 14.3056 43.5483 14.2873C40.3263 14.0459 37.7652 11.4847 37.5238 8.26281C37.5091 8.06738 37.5062 7.84292 37.5054 7.46377L37.5055 7.30828C37.5055 6.87476 37.5055 6.65801 37.4697 6.47776C37.3224 5.73757 36.7438 5.15894 36.0036 5.0117C35.8727 4.98566 35.7225 4.97854 35.4841 4.97658V2.48792Z' fill='black'/%3E%3C/g%3E%3Cdefs%3E%3Cfilter id='filter0_d' x='-2.01905' y='6.05713' width='47.4476' height='47.4476' filterUnits='userSpaceOnUse' color-interpolation-filters='sRGB'%3E%3CfeFlood flood-opacity='0' result='BackgroundImageFix'/%3E%3CfeColorMatrix in='SourceAlpha' type='matrix' values='0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0'/%3E%3CfeOffset dy='1.00952'/%3E%3CfeGaussianBlur stdDeviation='1.00952'/%3E%3CfeColorMatrix type='matrix' values='0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.06 0'/%3E%3CfeBlend mode='normal' in2='BackgroundImageFix' result='effect1_dropShadow'/%3E%3CfeBlend mode='normal' in='SourceGraphic' in2='effect1_dropShadow' result='shape'/%3E%3C/filter%3E%3CclipPath id='clip0'%3E%3Crect width='133' height='109' fill='white'/%3E%3C/clipPath%3E%3CclipPath id='clip1'%3E%3Crect x='11.5378' y='4.97597' width='116.622' height='252.524' rx='12.4396' fill='white'/%3E%3C/clipPath%3E%3C/defs%3E%3C/svg%3E"),a.appendChild(c),i.appendChild(s),i.appendChild(a);var u=document.createElement("img");return u.classList.add("sq-cash-qr-code"),u.setAttribute("src",r.toString()),o.appendChild(u),n.appendChild(i),n.appendChild(o),n}))()}}function Fl(e,t,r){return{details:{cashApp:{cashtag:e,transactionId:t},method:dn.CASH_APP},status:hn.OK,token:r}}function jl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ql(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jl(Object(r),!0).forEach((function(t){Vl(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Vl(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yl(e,t,r,n,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,i)}function zl(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function s(e){Yl(o,n,i,s,a,"next",e)}function a(e){Yl(o,n,i,s,a,"throw",e)}s(void 0)}))}}var Kl="sq-cash-app-redirect-payment-method-tracking-id";class Wl extends Ba{constructor(e,t){if(super(e),this.methodType=dn.CASH_APP,this.preloadedQRImage=new Image,this.authTimeoutId=-1,this.elements={button:null,qrCode:null},this.isCashAppNativePlatform=m.isAndroid()||Ml.isIOS(),this.wasFirstInteractionCalled=!1,this.paymentMethodMessenger=new ja(this.context),this.cashAppClient=new Gl,!this.session.locationId)throw new Vn("locationId must be provided for Cash App");if(this.locationId=this.session.locationId,function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.redirectURI)throw new Vn("redirectURI missing");if(!e.transactionId)throw new Vn("transactionId missing");if(t){if(!e.totalTransactionAmount)throw new Vn("totalTransactionAmount required");if(!Number.isInteger(e.totalTransactionAmount.amount)||e.totalTransactionAmount.amount<=0)throw new Vn("totalTransactionAmount.amount must be a positive integer")}}(t),t.transactionId.length>50)throw new Vn("transactionId too long. Should be less than ".concat(50," characters."));var r=Ml.extractCashAppParamsFromURI(t.redirectURI,e.errorLogger);this.fetchAuthURLs(this.locationId,r,t.transactionId,t.totalTransactionAmount)}get willRedirect(){return this.isCashAppNativePlatform}destroy(){return this.metricsHandler.logEvent(xo.Destroyed),window.clearTimeout(this.authTimeoutId),Promise.resolve()}attachAll(e,t){var r=this;return zl((function*(){r.metricsHandler.logEvent(Do.AttachStart);try{if(e.button){var n=yield r.cashAppClient.createCashAppButton(Object.assign({shape:Si.ROUNDED,theme:Ii.DARK},null==t?void 0:t.button));r.elements.button=r.validateAndQuerySelector(e.button),r.elements.button.appendChild(n)}return r.elements.qrCode=r.validateAndQuerySelector(e.qrCode),void r.metricsHandler.logEvent(Do.AttachOK)}catch(e){throw r.metricsHandler.logEvent(Do.AttachError),e}}))()}tokenize(){var e=this;return zl((function*(){e.handleFirstInteraction();var{qrCode:t}=e.elements;if(!t)throw new ti(e.methodType);try{var r,n=yield Kr.timeout((()=>e.fetchAuthURLsPromise),Vi.minutesToMs(1),new So("Precondition failed",e.methodType));if(n.error)throw n.error;if(!e.transactionId)throw new So("expected transactionId to exist at tokenization",e.methodType);if(e.willRedirect){var i={paymentMethodTrackingId:e.context.getPaymentMethodTrackingId(),transactionId:e.transactionId};return e.context.getSession().paymentsUIInstanceId&&(i=ql(ql({},i),{},{paymentsUIInstanceId:e.context.getPaymentsUIInstanceId()})),Ll({key:Kl,value:i}),m.redirectTo(n.redirectURL),new Promise((()=>{}))}var o=yield e.cashAppClient.createQrCodeContainer(n.qrURL);t.appendChild(o);var{token:s,cashtag:a,paymentMethodTrackingId:c,sessionId:u}=yield e.paymentMethodMessenger.request(wl.REQUEST_CASH_APP_CREATE_WALLET_TOKEN,{expiresAt:Date.now()+Vi.secondsToMs(n.expiresIn),requestBody:{analytics_token:null!==(r=e.session.analyticsToken)&&void 0!==r?r:"",client_id:e.session.applicationId,location_id:e.locationId,payment_method_tracking_id:e.context.getPaymentMethodTrackingId(),session_id:e.session.sessionId,transaction_id:e.transactionId,websdk_version:I.VERSION,website_url:e.session.sourceUrl}});return yield e.context.updateSession(u),e.context.setPaymentMethodTrackingId(c),Fl(a,e.transactionId,s)}catch(t){return t instanceof kl&&e.errorLogger.captureException(t),qa(t,e.errorLogger)}}))()}getRedirectResult(){var e=this;return zl((function*(){var t,{error:r}=Ml.findAndRemoveQueryParams(window.location.search,["error"]);if(r){var n=new pi([Nl(r)]);return e.errorLogger.captureException(n),qa(n,e.errorLogger)}var i,o,s,a,c,{state:u,code:l,access_token:d}=Ml.findAndRemoveQueryParams(window.location.search,Ml.CASH_APP_OAUTH_PARAMS);if(!u||!l||!d)return null;try{o=function(e){var{transaction_id:t}=JSON.parse(e);if(void 0===t)throw new Ao("Malformed state in redirect query params: ".concat(e));return t}(u);var p=function(e){var t=e.split(":");if(t.length<3)throw new Ao("Invalid transaction ID: could not separate");return t}(o);i=p[0],s=p[1]}catch(t){return qa(t,e.errorLogger)}var h=Dl(Kl);null!==h&&o===(null===(t=h.value)||void 0===t?void 0:t.transactionId)&&(a=h.value.paymentMethodTrackingId,c=h.value.paymentsUIInstanceId),bl(Kl);var f=t=>{e.context.metricsHandler.metricsLogger.logEvent({event:t,eventSource:e.context.metricsHandler.eventSource},e.session.instanceId,i,a,c)};f(Do.NonceStart);try{var g=yield e.messenger.request(wl.REQUEST_CASH_APP_CUSTOMER,{session:Object.assign({},e.session,{paymentMethodTrackingId:a,sessionId:i}),body:d}),m=e.generateWalletToken(i,l,o,a);return f(Do.NonceOK),Fl(g,s,m)}catch(t){return f(Do.NonceError),qa(t,e.errorLogger)}}))()}validateAndQuerySelector(e){if("string"!=typeof e)throw new TypeError("selector should be a string: ".concat(e));var t=document.querySelector(e);if(null===t)throw new Gn(e);return t}fetchAuthURLs(e,t,r,n){var i=this;this.fetchAuthURLsPromise=zl((function*(){var o,s={expiresIn:-1,qrURL:"",redirectURL:""},a=1e3,c=i.willRedirect?t:void 0,u=n?{amount:n.amount,currency_code:n.currencyCode}:void 0,l={client_id:i.session.applicationId,location_id:e,redirect_uri:c,total_transaction_amount:u,transaction_id:r};try{var{expires_in:d,qr_url:p,redirect_url:h,transaction_id:f}=yield i.paymentMethodMessenger.request(wl.REQUEST_CASH_APP_AUTH,l);i.transactionId=f,s.expiresIn=d,s.qrURL=p,s.redirectURL=h,o=d,a=Math.max(Vi.secondsToMs(o)-Vi.minutesToMs(1),Vi.minutesToMs(1)),i.willRedirect||(i.preloadedQRImage.src=p),s.expiresIn<2147483647?i.authTimeoutId=window.setTimeout((()=>{i.errorLogger.captureException(new So("Cash App Auth URLS expired unexpectedly with expiry of ".concat(a,"ms"),dn.CASH_APP),i.session.instanceId,i.session.sessionId)}),a):i.errorLogger.captureException(new So("Cash App Auth URLS expires_in larger than 32 bit integer ".concat(s.expiresIn,"ms"),dn.CASH_APP),i.session.instanceId,i.session.sessionId)}catch(e){s.error=e}return s}))()}generateWalletToken(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return"wnon:".concat(window.btoa(JSON.stringify({analytics_token:this.session.analyticsToken,client_id:this.session.applicationId,entry_method:"REDIRECT",location_id:this.locationId,payment_method_tracking_id:n,session_id:e,tender:{brand:"CASH_APP",preauth_idempotency_key:t,transaction_id:r},websdk_version:I.VERSION,website_url:this.session.sourceUrl})))}handleFirstInteraction(){this.wasFirstInteractionCalled||(this.wasFirstInteractionCalled=!0,this.metricsHandler.logEvent(Do.FirstInteraction))}}an.GIFT_CARD_NUMBER,an.GIFT_CARD_NUMBER,"0".repeat(24);var $l,Ql=[ci,ui,li,di,ei,hi];function Zl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Jl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Zl(Object(r),!0).forEach((function(t){Xl(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Xl(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ed(e,t,r,n,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,i)}function td(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function s(e){ed(o,n,i,s,a,"next",e)}function a(e){ed(o,n,i,s,a,"throw",e)}s(void 0)}))}}!function(e){e.CLEAR="giftCardClear",e.CONFIGURE="giftCardConfigure",e.DESTROY="giftCardDestroy",e.LOAD_GIFT_CARDS_FORM="loadGiftCardsForm",e.REQUEST_CARD_NONCE_IF_VALID_FORM="giftCardRequestCardNonceIfValidForm",e.SET_FOCUS="giftCardSetFocus",e.SET_ERROR="giftCardSetError"}($l||($l={}));var rd=[an.GIFT_CARD_NUMBER];class nd extends Ba{constructor(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e),this.methodType=dn.GIFT_CARD,this.onResize=this.onResize.bind(this),this.id=ka(),this.iframeName="".concat("gift-card","-").concat(this.id),this.paymentMessenger=new ja(this.context),this.tokenizeInProcess=!1,this.inputLabelsIncluded=Boolean(null==t?void 0:t.includeInputLabels),this.initializeMessageBus(),this.validateOptions(t),this.initialOptions=t||{},this.errorList=new Set,this.stylesLoadedPromise=new Promise(((e,t)=>{this.resolveStylePromise=e,this.rejectStylePromise=t}))}attach(e){var t=this;return td((function*(){var r;t.throwIfAlreadyAttached(),t.status=Ha.ATTACHED,t.metricsHandler.logEvent(Do.AttachStart),t.metricsHandler.logEvent(xo.Configured,t.initialOptions);try{r=gl(e)}catch(e){throw t.metricsHandler.logEvent(Do.AttachError),t.status===Ha.ATTACHED&&(t.status=Ha.DETACHED),e}try{return t.attachPromise=t.buildElementOnIframe(r),yield t.attachPromise,t.attachPromise=void 0,t.throwIfDestroyed(),t.element=r,window.addEventListener("resize",t.onResize),t.showCardElement(),t.onResize(),void t.metricsHandler.logEvent(Do.AttachOK)}catch(e){if(t.status===Ha.ATTACHED&&(t.status=Ha.DETACHED),t.metricsHandler.logEvent(Do.AttachError),to.isInstanceOf(e,Ql))throw e;throw t.errorLogger.captureException(e,t.session.instanceId,t.session.sessionId),new hi("attaching the Gift Card Element")}}))()}configure(e){var t=this;return td((function*(){t.throwIfNotAttached(),t.validateOptions(e),void 0!==(null==e?void 0:e.includeInputLabels)&&(t.inputLabelsIncluded=Boolean(null==e?void 0:e.includeInputLabels),t.onResize()),void 0!==e.style&&od(e.style,t.id),t.metricsHandler.logEvent(xo.ConfigUpdated,e);try{return void(yield t.paymentMessenger.request($l.CONFIGURE,{includeInputLabels:t.inputLabelsIncluded,style:e.style,type:t.methodType}))}catch(e){if(to.isInstanceOf(e,ol))throw e;throw t.errorLogger.captureException(e,t.session.instanceId,t.session.sessionId),new hi("configuring the Gift Card Element")}}))()}destroy(){return this.detachElement(Ha.DESTROYED,xo.Destroyed)}detach(){return this.detachElement(Ha.DETACHED,xo.Detached)}focus(e){var t=this;return td((function*(){if(t.throwIfNotAttached(),!Object.values(an).includes(e))throw new Wn(e);t.metricsHandler.logEvent(xo.Focused,e);try{return yield t.paymentMessenger.request($l.SET_FOCUS,{field:e})}catch(e){t.errorLogger.captureException(e,t.session.instanceId,t.session.sessionId)}return!1}))()}clear(){var e=this;return td((function*(){e.throwIfNotAttached();try{return yield e.paymentMessenger.request($l.CLEAR)}catch(t){e.errorLogger.captureException(t,e.session.instanceId,e.session.sessionId)}return e.metricsHandler.logEvent(xo.Clear),!1}))()}addEventListener(e,t){this.throwIfDestroyed(),this.metricsHandler.logEvent(xo.EventListenerAdded,e),super.addEventListener(e,t)}removeEventListener(e,t){this.throwIfDestroyed(),super.removeEventListener(e,t)}tokenize(){var e=this;return td((function*(){if(e.throwIfNotAttached(),e.tokenizeInProcess)throw new pi([Fa]);e.tokenizeInProcess=!0;try{var t=yield e.paymentMessenger.request($l.REQUEST_CARD_NONCE_IF_VALID_FORM,{type:e.methodType});return e.tokenizeInProcess=!1,e.context.setPaymentMethodTrackingId(t.paymentMethodTrackingId),yield e.context.updateSession(t.sessionId),function(e){var{card:t,cardNonce:r}=e;return{details:{giftCard:t,method:dn.GIFT_CARD},status:hn.OK,token:r}}(t)}catch(t){if(e.tokenizeInProcess=!1,t instanceof ho)return{errors:t.errors,status:hn.INVALID};throw to.isInstanceOf(t,cl)?t:(e.errorLogger.captureException(t,e.session.instanceId,e.session.sessionId),fo())}}))()}setError(e){var t=this;return td((function*(){if(t.throwIfNotAttached(),!Object.values(an).includes(e))throw new Wn(e);t.metricsHandler.logEvent(xo.SetError,e);try{return yield t.paymentMessenger.request($l.SET_ERROR,{field:e})}catch(e){t.errorLogger.captureException(e,t.session.instanceId,t.session.sessionId)}return!1}))()}buildElementOnIframe(e){var t=this;return td((function*(){yield t.buildCardElement(e),yield t.paymentMessenger.request($l.LOAD_GIFT_CARDS_FORM,{configuration:Jl(Jl({},t.initialOptions),{},{type:t.methodType}),iframeName:t.iframeName}),yield t.stylesLoadedPromise}))()}validateOptions(e){var t={includeInputLabels:e=>"boolean"==typeof e,style:e=>"object"==typeof e};Object.entries(e).forEach((e=>{var[r,n]=e;if(void 0===t[r])throw new $n(r);if(t[r]&&!t[r](n))throw new Qn(r,n)}))}buildCardElement(e){var t=this;return td((function*(){var r;t.wrapperElement=document.createElement("div"),t.wrapperElement.id=id(t.id),t.wrapperElement.classList.add(Pu),t.hideCardElement(),t.cardDetail=document.createElement("span"),t.cardDetail.classList.add(Nu),e.appendChild(t.wrapperElement),t.iframeContainer=document.createElement("div"),t.iframeContainer.classList.add(Tu),t.wrapperElement.appendChild(t.iframeContainer),t.iframe=yield t.buildCardIframe(t.iframeContainer),t.iframe.classList.add(Ru),t.wrapperElement.appendChild(t.cardDetail),vl.addStyleElement(I.SINGLE_CARD_WRAPPER_STYLES,"sq-single-card-styles",t.resolveStylePromise,t.rejectStylePromise),null!==(r=t.initialOptions)&&void 0!==r&&r.style&&od(t.initialOptions.style,t.id)}))()}buildCardIframe(e){return ul({frameborder:"0",height:"0px",name:this.iframeName,scrolling:"no",src:I.GIFT_CARD_IFRAME,width:"100%"},e)}hideCardElement(){this.wrapperElement&&this.wrapperElement.setAttribute("style","display: none;")}showCardElement(){this.wrapperElement&&this.wrapperElement.removeAttribute("style")}onResize(e){if(this.iframe&&this.wrapperElement&&this.iframeContainer&&!this.currentResizeTimeout){var t=()=>{if(this.wrapperElement&&this.iframe&&this.iframeContainer){var e=this.inputLabelsIncluded?62:48;e+=2,this.iframe.style.height="".concat(e,"px"),this.iframeContainer.style.height="".concat(Math.round(e),"px")}};t(),this.currentResizeTimeout=window.setTimeout((()=>{t(),this.currentResizeTimeout=void 0}),100)}}updateCardDetailText(){var e,t,r;this.cardDetail&&(0===this.errorList.size?(e=null!==(r=this.focusedInput)&&void 0!==r?r:"emptyMessage",t=this.buildHelperMessage(e),this.cardDetail.classList.remove(wu),this.cardDetail.classList.add(bu)):(e=rd.find((e=>this.errorList.has(e)))||rd[0],t=this.buildErrorMessage(e),this.cardDetail.classList.add(wu),this.cardDetail.classList.remove(bu)),this.cardDetail.textContent!==t&&(this.cardDetail.textContent=t),t.length>0?this.cardDetail.classList.add(Du):this.cardDetail.classList.remove(Du))}addErrorMessage(e){this.errorList.add(e),this.updateCardDetailText()}removeErrorMessage(e){this.errorList.has(e)&&(this.errorList.delete(e),this.updateCardDetailText())}addFocusMessage(e){this.focusedInput=e,this.updateCardDetailText()}removeFocusMessage(e){this.focusedInput===e&&(this.focusedInput=null),setTimeout((()=>{null===this.focusedInput&&this.updateCardDetailText()}),50)}handleInputEvent(e){var t,r,{data:n}=e,i=n.payload.body;switch(i.eventType){case cn.ERROR_CLASS_ADDED:this.addErrorMessage(i.field),null===(t=this.wrapperElement)||void 0===t||t.classList.add(dc);break;case cn.ERROR_CLASS_REMOVED:this.removeErrorMessage(i.field),this.removeErrorClass();break;case cn.FOCUS_CLASS_ADDED:this.addFocusMessage(i.field),null===(r=this.wrapperElement)||void 0===r||r.classList.add(lc);break;case cn.FOCUS_CLASS_REMOVED:this.removeFocusMessage(i.field),this.removeFocusClass()}super.dispatchEvent(i.eventType,i)}removeFocusClass(){setTimeout((()=>{var e;this.focusedInput||null===(e=this.wrapperElement)||void 0===e||e.classList.remove(lc)}),50)}removeErrorClass(){var e;0===this.errorList.size&&(null===(e=this.wrapperElement)||void 0===e||e.classList.remove(dc))}initializeMessageBus(){var e=this.handleInputEvent.bind(this),t={[Wa.FOCUS_CLASS_ADDED]:e,[Wa.FOCUS_CLASS_REMOVED]:e,[Wa.ERROR_CLASS_ADDED]:e,[Wa.ERROR_CLASS_REMOVED]:e,[Wa.CARD_BRAND_CHANGED]:e,[Wa.SUBMIT]:e,[Wa.ESCAPE]:e};this.paymentMessenger.initializeMessageBus(t)}buildErrorMessage(e){return e===an.GIFT_CARD_NUMBER?this.context.getLocaleString().paymentMethods.giftCards.errors.giftCardNumberError:""}buildHelperMessage(e){return e===an.GIFT_CARD_NUMBER?this.context.getLocaleString().paymentMethods.giftCards.helperText.giftCardNumber:""}detachElement(e,t){var r=this;return td((function*(){r.throwIfDestroyed();var n=r.status;if(r.status=e,r.attachPromise)try{yield r.attachPromise}catch(e){}try{var i=yield r.paymentMessenger.request($l.DESTROY);return r.element&&(ll(r.element),window.removeEventListener("resize",r.onResize)),r.metricsHandler.logEvent(t),i}catch(e){throw r.status=n,e}}))()}}function id(e){return"".concat("gift-card-wrapper","-").concat(e)}function od(e,t){var r=function(e){return"".concat("sq-gift-card-custom-styles","-").concat(e)}(t),n=document.getElementById(r);null===n&&((n=document.createElement("style")).id=r,document.head.appendChild(n)),n.innerHTML=tl(e,id(t))}class sd extends Nn{constructor(e){super("The event listener for ".concat(e," timed out (30 seconds). If you've returned a promise, ensure it is resolving")),this.name="EventListenerTimeoutError",Object.setPrototypeOf(this,sd.prototype)}}function ad(e,t,r,n,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,i)}class cd extends Ua{constructor(){super(),this.listeners={},this.listeners={}}dispatchEvent(e,t,r){var n,i=this;return(n=function*(){if(e in i.listeners)for(var n=new fi(e,t),o=[...i.listeners[e]],s=function*(t,i){var s=void 0;try{s=o[t](n)}catch(t){throw new qn(e,t.message)}var a=void 0;if(s instanceof Promise)try{a=yield Kr.timeout((()=>s),3e4,new sd(e))}catch(t){if(t instanceof sd)throw t;throw new qn(e,t.message)}else a=s;r&&r(a)},a=0,c=o.length;a<c;a++)yield*s(a)},function(){var e=this,t=arguments;return new Promise((function(r,i){var o=n.apply(e,t);function s(e){ad(o,r,i,s,a,"next",e)}function a(e){ad(o,r,i,s,a,"throw",e)}s(void 0)}))})()}}function ud(e,t){if("object"!=typeof e)return{isValid:!1,missingFields:[]};var r=[];return{isValid:Object.entries(t).map((n=>{var[i,o]=n;if("object"==typeof o){var{isValid:s,missingFields:a}=ud("object"==typeof e[i]?e[i]:{},t[i]);return a.forEach((e=>{var[t,n]=e;r.push(["".concat(i,".").concat(t),n])})),s}return i in e&&typeof e[i]===o||(r.push([i,o]),!1)})).every((e=>e)),missingFields:r}}function ld(e,t,r){if(!Array.isArray(e))return{isValid:!1,missingFields:[[t,"Array"]]};var n=e.reduce(((e,n)=>{var i=ud({[t]:n},{[t]:r}),o=Object.fromEntries(i.missingFields);return{isValid:e.isValid&&i.isValid,missingFieldsMap:Object.assign({},e.missingFieldsMap,o)}}),{isValid:!0,missingFieldsMap:{}});return{isValid:n.isValid,missingFields:Object.entries(n.missingFieldsMap)}}var dd,pd,hd={amount:"string",label:"string"},fd={amount:"string",id:"string",label:"string"},gd={amount:"string",label:"string"},md={};function Ed(e,t){var{lineItems:r,taxLineItems:n,discounts:i,shippingLineItems:o}=e,s=!1,a=[],c=r,u=n,l=o,d=vd(i);return void 0===t||void 0===r&&void 0===n&&void 0===o&&void 0===d||(c||(c=t.lineItems),u||(u=t.taxLineItems),d||(d=vd(t.discounts)),l||(l=t.shippingLineItems)),[c,u,d,l].forEach((e=>{void 0!==e&&(s=!0,a.push(...e))})),s?a:void 0}function vd(e){return void 0===e?e:e.map((e=>Object.assign({},e,{amount:"-".concat(e.amount)})))}function yd(e,t,r,n,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,i)}function _d(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function s(e){yd(o,n,i,s,a,"next",e)}function a(e){yd(o,n,i,s,a,"throw",e)}s(void 0)}))}}function Ad(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Id(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}!function(e){e.UPDATE="update"}(dd||(dd={}));class Sd{constructor(e,t,r){this.eventTarget=new cd,this.metricsBuffer=[],this.localeStrings=t,this._requestBillingContact=Boolean(e.requestBillingContact),this._requestShippingContact=Boolean(e.requestShippingContact),this._countryCode=e.countryCode,this._currencyCode=e.currencyCode,this._lineItems=e.lineItems,this._shippingLineItems=e.shippingLineItems,this._taxLineItems=e.taxLineItems,this._discounts=e.discounts,this._total=e.total,this._shippingOptions=e.shippingOptions,this._shippingContact=e.shippingContact,this._pickupContact=e.pickupContact,this.updateLock=r;var{isValid:n,missingFields:i}=Od(this);if(!n)throw new Fn(i)}get requestBillingContact(){return this._requestBillingContact}get requestShippingContact(){return this._requestShippingContact}get countryCode(){return this._countryCode}get currencyCode(){return this._currencyCode}get lineItems(){return this._lineItems}get pickupContact(){return this._pickupContact}get shippingLineItems(){return this._shippingLineItems}get taxLineItems(){return this._taxLineItems}get discounts(){return this._discounts}get total(){return this._total}get shippingOptions(){return this._shippingOptions}get shippingContact(){return this._shippingContact}update(e){var t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ad(Object(r),!0).forEach((function(t){Id(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ad(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({countryCode:this.countryCode,currencyCode:this.currencyCode,lineItems:this.lineItems,shippingLineItems:this.shippingLineItems,taxLineItems:this.taxLineItems,discounts:this.discounts,pickupContact:this.pickupContact,requestBillingContact:this.requestBillingContact,requestShippingContact:this.requestShippingContact,shippingContact:this.shippingContact,shippingOptions:this.shippingOptions,total:this.total},e),r=new Sd(t,this.localeStrings,this.updateLock),{isValid:n,missingFields:i}=Od(r);if(!n)throw new Fn(i);return!this.updateLock.isLocked&&(void 0!==e.requestBillingContact&&(this._requestBillingContact=Boolean(e.requestBillingContact)),void 0!==e.requestShippingContact&&(this._requestShippingContact=Boolean(e.requestShippingContact)),e.countryCode&&(this._countryCode=e.countryCode),e.currencyCode&&(this._currencyCode=e.currencyCode),e.lineItems&&(this._lineItems=e.lineItems),e.shippingLineItems&&(this._shippingLineItems=e.shippingLineItems),e.taxLineItems&&(this._taxLineItems=e.taxLineItems),e.discounts&&(this._discounts=e.discounts),e.total&&(this._total=e.total),e.pickupContact&&(this._pickupContact=e.pickupContact),e.shippingOptions&&(this._shippingOptions=e.shippingOptions),e.shippingContact&&(this._shippingContact=e.shippingContact),this.eventTarget.dispatchEvent(dd.UPDATE,r),this.logMetrics(xo.ConfigUpdated,t),!0)}addEventListener(e,t){switch(to.enumValues(pn).includes(e)&&this.logMetrics(xo.EventListenerAdded,e),e){case pn.SHIPPING_CONTACT_CHANGED:this.shippingContactEventListener(t);break;case pn.SHIPPING_OPTION_CHANGED:this.shippingOptionEventListener(t);break;case dd.UPDATE:this.updateEventListener(t);break;case An.AFTERPAY_SHIPPING_ADDRESS_CHANGED:this.afterpayShippingContactEventListener(t);break;case An.AFTERPAY_SHIPPING_OPTION_CHANGED:this.afterpayShippingOptionEventListener(t);break;default:throw new La("PaymentRequest.addEventListener","event","PaymentRequestEvent")}}dispatchEvent(e,t,r){return this.eventTarget.dispatchEvent(e,t,(t=>{if(to.enumValues(An).includes(e)){var n=function(e){if(void 0!==e.error)return{isValid:!0,missingFields:[]};if(void 0!==e.shippingErrors)return{isValid:!0,missingFields:[]};if(void 0===e.shippingOptions)return{isValid:!1,missingFields:[["paymentRequestUpdate.shippingOptions","array"]]};var t=ld(e.shippingOptions,"shippingOptions",{id:"string",label:"string",amount:"string",total:"object"});if(!t.isValid)return t;for(var r of e.shippingOptions){if(!(t=ud({"shippingOptions.total":r.total},{"shippingOptions.total":gd})).isValid)return t;if(void 0!==r.taxLineItems&&!(t=ld(r.taxLineItems,"shippingOptions.taxLineItems",hd)).isValid)return t}return{isValid:!0,missingFields:[]}}(t);if(!n.isValid)throw new jn(n.missingFields);r(t)}else{var i=function(e){var{lineItems:t,discounts:r,taxLineItems:n,shippingLineItems:i,shippingErrors:o,shippingOptions:s,error:a,total:c}=e;if(t){var u=ld(t,"lineItem",hd);if(!u.isValid)return u}if(r){var l=ld(r,"discounts",hd);if(!l.isValid)return l}if(n){var d=ld(n,"taxLineItems",hd);if(!d.isValid)return d}if(i){var p=ld(i,"shippingLineItems",hd);if(!p.isValid)return p}if(s){var h=ld(s,"shippingOption",fd);if(!h.isValid)return h}if(c){var f=ud({total:c},{total:gd});if(!f.isValid)return f}if(a&&"string"!=typeof a)return{isValid:!1,missingFields:[["error","string"]]};if(o){var g=ud(o,md);if(!g.isValid)return g}return{isValid:!0,missingFields:[]}}(t);if(!i.isValid)throw new jn(i.missingFields);r(t)}}))}hasEventListener(e){return this.eventTarget.hasEventListener(e)}setPaymentMetricsHandler(e){this.paymentMetricsHandler=e,this.metricsBuffer.length>0&&(this.metricsBuffer.forEach((t=>{var[r,n]=t;e.logEvent(r,n)})),this.metricsBuffer=[])}shippingContactEventListener(e){var t=this;this.eventTarget.addEventListener(pn.SHIPPING_CONTACT_CHANGED,function(){var r=_d((function*(r){var{contactOrOption:n}=r.detail;try{return yield e(n)}catch(e){return console.error("ShippingContactUpdateError",e),{error:t.localeStrings.getLocaleString().paymentMethods.wallets.callbackErrors.optionsError}}}));return function(e){return r.apply(this,arguments)}}())}shippingOptionEventListener(e){var t=this;this.eventTarget.addEventListener(pn.SHIPPING_OPTION_CHANGED,function(){var r=_d((function*(r){var{contactOrOption:n}=r.detail;try{return yield e(n)}catch(e){return console.error("ShippingOptionUpdateError",e),{error:t.localeStrings.getLocaleString().paymentMethods.wallets.callbackErrors.optionsError}}}));return function(e){return r.apply(this,arguments)}}())}afterpayShippingContactEventListener(e){var t=this;this.eventTarget.addEventListener(An.AFTERPAY_SHIPPING_ADDRESS_CHANGED,function(){var r=_d((function*(r){var{contactOrOption:n}=r.detail;try{return yield e(n)}catch(e){return console.error("AfterpayShippingContactUpdateError",e),{error:t.localeStrings.getLocaleString().paymentMethods.wallets.callbackErrors.optionsError}}}));return function(e){return r.apply(this,arguments)}}())}afterpayShippingOptionEventListener(e){this.eventTarget.addEventListener(An.AFTERPAY_SHIPPING_OPTION_CHANGED,(t=>{e(t.detail.contactOrOption)}))}updateEventListener(e){this.eventTarget.addEventListener(dd.UPDATE,(t=>{e(t.detail)}))}logMetrics(e,t){void 0!==this.paymentMetricsHandler?this.paymentMetricsHandler.logEvent(e,t):this.metricsBuffer.push([e,t])}}function Cd(e){return Boolean(e.shippingOptions&&e.shippingOptions.length>0)}function Od(e){return ud(e,{countryCode:"string",currencyCode:"string",total:{amount:"string",label:"string"}})}class Td{constructor(){this.lockSet=new Set}get isLocked(){return this.lockSet.size>0}lock(e){this.lockSet.add(e)}unlock(e){this.lockSet.delete(e)}}class Pd extends Nn{constructor(){super("Method is not enabled for this app."),this.name="MethodNotAvailableError",Object.setPrototypeOf(this,Pd.prototype)}}!function(e){e.REQUEST_HYDRATION="REQUEST_HYDRATION"}(pd||(pd={}));var Rd=function(e){var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new URL(I.IFRAME_SRC);return Object.entries(e).forEach((e=>{var[r,n]=e;t.searchParams.set(r,n)})),t.toString()}(e);return ul({frameborder:"0",height:"0",scrolling:"no",src:t,style:"border: none !important; display: block !important; visibility: hidden !important",width:"0"})},Nd=function(e){var t=new(Yo[e.name]||Nn);return t.fromSerializedError(e),t},wd=function(e){return{_isSerializedError:!0,errors:e.errors,message:e.message,name:e.name}};class bd extends class{constructor(e={}){this.logDevelopmentErrors=!1,this.messageListeners={},this.channel=new class{constructor(e){this.receiveMessage=e=>{switch(e.data){case this.messageWithName(Mr):this.handleConnecting(e);break;case this.messageWithName(Ur):this.handleConnected();break;case this.messageWithName(kr):this.close();break;case this.messageWithName(Hr):break;default:this.handleMessage(e)}},this.connected=!1,this.listeners=[],this.messageBuffer=[],this.name=e?`:${e}`:""}close(){this.port&&(this.postMessage(this.messageWithName(kr)),this.port.close(),this.port=void 0,this.connected||window.removeEventListener("message",this.receiveMessage)),this.connected=!1}connect(e){if(this.connected)throw new Dr("message channel is already connected");if(e){if(void 0===e.origin)throw new Dr("message channel remote.origin must be defined");if(null===e.window)throw new Dr("message channel remote.window cannot be null");let t=new MessageChannel;this.setupPort(t.port1),e.window.postMessage(this.messageWithName(Mr),e.origin,[t.port2])}else window.addEventListener("message",this.receiveMessage)}setErrorHandler(e){this.errorHandler=e}set onmessage(e){this.listeners.push(e)}postMessage(e){this.port&&this.connected?this.port.postMessage(e):this.messageBuffer.push(e)}handleConnecting(e){if(this.connected)throw new Dr("message channel should not be connecting because already connected");window.removeEventListener("message",this.receiveMessage),this.setupPort(e.ports[0]),this.postMessage(this.messageWithName(Ur)),this.connectionEstablished()}handleConnected(){if(this.connected)throw new Dr("message channel already connected");this.connectionEstablished()}connectionEstablished(){for(this.connected=!0;this.messageBuffer.length>0;)this.postMessage(this.messageBuffer.shift())}handleMessage(e){this.listeners.forEach((t=>{t(e)}))}setupPort(e){this.port=e,this.port.onmessage=this.receiveMessage,this.port.onmessageerror=e=>{this.postMessage(this.messageWithName(Hr)),this.errorHandler&&this.errorHandler(new Dr("message channel failed to deserialize message"),e)}}messageWithName(e){return e+this.name}}(e.name),this.channel.onmessage=this.handleMessage.bind(this),this.payloadSerializer=e.payloadSerializer,this.errorSerializer=e.errorSerializer,void 0!==e.logDevelopmentErrors&&(this.logDevelopmentErrors=e.logDevelopmentErrors)}setErrorHandler(e){this.errorHandler=e,this.channel.setErrorHandler(e)}sendOneWayMessage(e,t){let r=t;return void 0!==t&&void 0!==this.payloadSerializer&&(r=this.payloadSerializer.serialize(t)),this.message({id:this.uniqueId(),mustAcknowledge:!1,mustRespond:!1,payload:r,type:e})}sendMessage(e,t){let r=t;return void 0!==t&&void 0!==this.payloadSerializer&&(r=this.payloadSerializer.serialize(t)),this.message({id:this.uniqueId(),mustAcknowledge:!0,mustRespond:!1,payload:r,type:e})}request(e,t){let r=t;return void 0!==t&&void 0!==this.payloadSerializer&&(r=this.payloadSerializer.serialize(t)),this.message({id:this.uniqueId(),mustAcknowledge:!0,mustRespond:!0,payload:r,type:e})}respond(e,t){let r=`${e.type}:${vr.OK}`,n=t;return void 0!==this.payloadSerializer&&(n=this.payloadSerializer.serialize(t)),this.postResponse(r,e,n)}reject(e,t){let r=`${e.type}:${vr.ERROR}`,n=t;return void 0!==this.errorSerializer&&(n=this.errorSerializer.serialize(t)),this.postResponse(r,e,n)}onMessage(e,t){let r=t||this.uniqueId();return this.addMessageEventListener(e,r),r}connect(e,t){this.iframeID=t,this.channel.connect(e)}close(){this.channel.close()}handleMessage(e){let t=this.messageListeners[e.data.type];e.data.type&&"undefined"!==e.data.type?t?(e.data.mustAcknowledge&&this.acknowledge(e.data),Object.values(t).forEach((t=>{t.forEach((t=>{t(e)}))}))):this.logDevelopmentErrors&&console.error(`Listener does not exist for ${e.data.type}. Add one to your messenger instance:\n            messenger.onMessage({\n                    listener: (msg) => {},\n                    messageType: '${e.data.type}',\n                });\n          `):void 0!==this.errorHandler&&this.errorHandler(new Lr("Received a messenger message with an undefined type"),e)}logMessengerTimeout(e){let t=new xr(e.type,e.id,this.iframeID);this.errorHandler&&this.errorHandler(t,new MessageEvent(e.type,{data:e}))}handleMessageContract(e){let t=this.errorSerializer,r=this.payloadSerializer;if(!e.mustAcknowledge)return new Promise((e=>{e({})}));let n,i=()=>{[vr.ACK,vr.OK,vr.ERROR].forEach((t=>{delete this.messageListeners[`${e.type}:${t}`][n]}))},o=window.setTimeout((()=>{this.logMessengerTimeout(e)}),1e4);return new Promise(((s,a)=>{n=this.onMessage({listener(){clearTimeout(o),e.mustRespond||(i(),s({}))},messageType:`${e.type}:${vr.ACK}`}),this.onMessage({listener(e){i();let{payload:t}=e.data;if(void 0!==r){let e=r.deserialize(t);s(e)}else s(t)},messageType:`${e.type}:${vr.OK}`},n),this.onMessage({listener(e){i();let{payload:r}=e.data;if(void 0!==t){let e=t.deserialize(r);a(e)}else a(r)},messageType:`${e.type}:${vr.ERROR}`},n)}))}acknowledge(e){let t=`${e.type}:${vr.ACK}`;return this.message({id:e.id,mustAcknowledge:!1,mustRespond:!1,type:t})}postResponse(e,t,r){return this.message({id:t.id,mustAcknowledge:!0,mustRespond:!1,payload:r,type:e})}message(e){let t=this.handleMessageContract(e);return(!e.type||"undefined"===e.type)&&void 0!==this.errorHandler&&this.errorHandler(new Lr("attempting to send a messenger message with an undefined type")),this.channel.postMessage(e),t}addMessageEventListener(e,t){let{messageType:r,listener:n}=e;this.messageListeners[r]=this.messageListeners[r]||{},this.messageListeners[r][t]=this.messageListeners[r][t]||[],this.messageListeners[r][t].push(n)}uniqueId(){return Date.now().toString()+Math.floor(8e3*Math.random())}}{constructor(e){super({name:e,errorSerializer:{serialize:e=>e instanceof Nn?wd(e):e,deserialize:e=>e instanceof Error?e:Nd(e)}})}setErrorLogger(e,t){this.setErrorHandler((function(r,n){var i,o,s,a,c,u;void 0!==n&&(i=null===(s=n.data.payload)||void 0===s||null===(a=s.session)||void 0===a?void 0:a.instanceId,o=null===(c=n.data.payload)||void 0===c||null===(u=c.session)||void 0===u?void 0:u.sessionId),r instanceof xr?t.logEvent({event:Uo.IframeMessengerTimeoutError,eventSource:Go.App,internalConfigurationValues:r.message},i,o):e.captureException(r,i,o)}))}}function Dd(e,t,r,n,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,i)}function Ld(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function s(e){Dd(o,n,i,s,a,"next",e)}function a(e){Dd(o,n,i,s,a,"throw",e)}s(void 0)}))}}function xd(){return(xd=Ld((function*(e,t,r,n,i){var o=new bd(i);return o.setErrorLogger(t,r),o.connect({origin:I.ASSET_URL,window:e.contentWindow},e.id),yield o.sendMessage(ea,n),o}))).apply(this,arguments)}var Ud={build:function(e,t,r,n,i){return xd.apply(this,arguments)}};function Md(e,t,r,n,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,i)}function kd(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function s(e){Md(o,n,i,s,a,"next",e)}function a(e){Md(o,n,i,s,a,"throw",e)}s(void 0)}))}}function Hd(){return(Hd=kd((function*(e,t,r,n){var{applicationId:i,locationId:o,hostname:s,sourceUrl:a}=e;t.logEvent({event:Do.InitializeStart,eventSource:Go.App});var c,u,l=n.getCurrentLocale();try{c=yield Rd({applicationId:i,hostname:s})}catch(e){if(t.logEvent({event:Do.InitializeError,eventSource:Go.App}),r.captureException(e),bo(e))throw new hi("initializing the payment method");throw e}try{u=yield Ud.build(c,r,t,{applicationId:i,hostname:s,locale:l,locationId:o})}catch(e){if(t.logEvent({event:Do.InitializeError,eventSource:Go.App}),r.captureException(e),bo(e))throw new hi("initializing the payment method");throw e}try{var{avt:d,sessionId:p,applePartnerInternalMerchantIdentifier:h,cashAppPayMerchantIdentifier:f,instanceId:g,paymentMethodSupportDetail:m,featureFlagValues:E}=yield u.request(pd.REQUEST_HYDRATION,{body:{applicationId:i,hostname:s,locationId:o}});t.setAvt(d);var v=new sl({applePayMerchantIdentifier:h,cashAppPayMerchantIdentifier:f,applicationId:i,avt:d,hostname:s,instanceId:g,locale:l,locationId:o,sessionId:p,sourceUrl:a});return t.logEvent({event:Do.InitializeOK,eventSource:Go.App,internalConfigurationValues:E},g,p),{featureFlagValues:E,localeStrings:n,messenger:u,paymentMethodSupportDetail:m,session:v}}catch(e){if(t.logEvent({event:Do.InitializeError,eventSource:Go.App}),bo(e))throw new hi("initializing the payment method");throw e}}))).apply(this,arguments)}function Bd(){return(Bd=kd((function*(e,t,r){var{applicationId:n,locationId:i,sourceUrl:o}=e.serialize();try{var s=yield Sa.getToken({applicationId:n,locationId:i,websiteUrl:o});e.setAnalyticsToken(s)}catch(n){n instanceof ai&&t.captureException(n,e.instanceId,e.sessionId),r&&window.clearInterval(r)}}))).apply(this,arguments)}var Gd,Fd,jd={initializeAnalytics:function(e,t,r){return Bd.apply(this,arguments)},initializePayment:function(e,t,r,n){return Hd.apply(this,arguments)},validateVerificationDetails:function(e,t){var r=[];return e.billingContact&&"object"==typeof e.billingContact||r.push(new La(t,"details.billingContact","object")),e.intent&&"string"==typeof e.intent&&["CHARGE","STORE"].includes(e.intent)||r.push(new La(t,"details.intent","string")),"CHARGE"===e.intent&&(e.amount&&"string"==typeof e.amount||r.push(new La(t,"details.amount","string")),e.currencyCode&&"string"==typeof e.currencyCode||r.push(new La(t,"details.currencyCode","string"))),r}};!function(e){e.REQUEST_APPLE_PAY_CARD_NONCE="REQUEST_APPLE_PAY_CARD_NONCE",e.REQUEST_APPLE_PAY_MERCHANT_VALIDITY="REQUEST_APPLE_PAY_MERCHANT_VALIDITY"}(Gd||(Gd={})),function(e){e.SUCCESS="SUCCESS",e.CANCEL="CANCEL"}(Fd||(Fd={}));var qd,Vd={AD:"Andorra",AE:"United Arab Emirates",AF:"Afghanistan",AG:"Antigua And Barbuda",AI:"Anguilla",AL:"Albania",AM:"Armenia",AO:"Angola",AQ:"Antarctica",AR:"Argentina",AS:"American Samoa",AT:"Austria",AU:"Australia",AW:"Aruba",AX:"Finland",AZ:"Azerbaijan",BA:"Bosnia And Herzegovina",BB:"Barbados",BD:"Bangladesh",BE:"Belgium",BF:"Burkina Faso",BG:"Bulgaria (rep.)",BH:"Bahrain",BI:"Burundi",BJ:"Benin",BL:"Saint Barthelemy",BM:"Bermuda",BN:"Brunei Darussalam",BO:"Bolivia",BQ:"Bonaire, Sint Eustatius, And Saba",BR:"Brazil",BS:"Bahamas",BT:"Bhutan",BV:"Bouvet Island",BW:"Botswana",BY:"Belarus",BZ:"Belize",CA:"Canada",CC:"Cocos (keeling) Islands",CD:"Congo (dem. Rep.)",CF:"Central African Republic",CG:"Congo (rep.)",CH:"Switzerland",CI:"Cote D'ivoire",CK:"Cook Islands",CL:"Chile",CM:"Cameroon",CN:"China",CO:"Colombia",CR:"Costa Rica",CV:"Cape Verde",CW:"Curacao",CX:"Christmas Island",CY:"Cyprus",CZ:"Czech Rep.",DE:"Germany",DJ:"Djibouti",DK:"Denmark",DM:"Dominica",DO:"Dominican Rep.",DZ:"Algeria",EC:"Ecuador",EE:"Estonia",EG:"Egypt",EH:"Western Sahara",ER:"Eritrea",ES:"Spain",ET:"Ethiopia",FI:"Finland",FJ:"Fiji",FK:"Falkland Islands (malvinas)",FM:"Micronesia (federated State Of)",FO:"Faroe Islands",FR:"France",GA:"Gabon",GB:"United Kingdom",GD:"Grenada (west Indies)",GE:"Georgia",GF:"French Guiana",GG:"Channel Islands",GH:"Ghana",GI:"Gibraltar",GL:"Greenland",GM:"Gambia",GN:"Guinea",GP:"Guadeloupe",GQ:"Equatorial Guinea",GR:"Greece",GS:"South Georgia",GT:"Guatemala",GU:"Guam",GW:"Guinea-bissau",GY:"Guyana",HK:"Hong Kong",HM:"Heard And Mcdonald Islands",HN:"Honduras",HR:"Croatia",HT:"Haiti",HU:"Hungary (rep.)",ID:"Indonesia",IE:"Ireland",IL:"Israel",IM:"Isle Of Man",IN:"India",IO:"British Indian Ocean Territory",IQ:"Iraq",IR:"Iran",IS:"Iceland",IT:"Italy",JE:"Channel Islands",JM:"Jamaica",JO:"Jordan",JP:"Japan",KE:"Kenya",KG:"Kyrgyzstan",KH:"Cambodia",KI:"Kiribati",KM:"Comoros",KN:"Saint Kitts And Nevis",KR:"South Korea",KW:"Kuwait",KY:"Cayman Islands",KZ:"Kazakhstan",LA:"Lao (people's Dem. Rep.)",LB:"Lebanon",LC:"Saint Lucia",LI:"Liechtenstein",LK:"Sri Lanka",LR:"Liberia",LS:"Lesotho",LT:"Lithuania",LU:"Luxembourg",LV:"Latvia",LY:"Libya",MA:"Morocco",MC:"Monaco",MD:"Rep. Moldova",ME:"Montenegro",MF:"Saint Martin",MG:"Madagascar",MH:"Marshall Islands",MK:"Macedonia",ML:"Mali",MM:"Myanmar",MN:"Mongolia",MO:"Macao",MP:"Northern Mariana Islands",MQ:"Martinique",MR:"Mauritania",MS:"Montserrat",MT:"Malta",MU:"Mauritius",MV:"Maldives",MW:"Malawi",MX:"Mexico",MY:"Malaysia",MZ:"Mozambique",NA:"Namibia",NC:"New Caledonia",NE:"Niger",NF:"Norfolk Island",NG:"Nigeria",NI:"Nicaragua",NL:"Netherlands",NO:"Norway",NP:"Nepal",NR:"Nauru Central Pacific",NU:"Niue",NZ:"New Zealand",OM:"Oman",PA:"Panama (rep.)",PE:"Peru",PF:"French Polynesia",PG:"Papua New Guinea",PH:"Philippines",PK:"Pakistan",PL:"Poland",PM:"St. Pierre And Miquelon",PN:"Pitcairn",PR:"Puerto Rico",PS:"Palestinian Territory",PT:"Portugal",PW:"Palau",PY:"Paraguay",QA:"Qatar",RE:"Reunion",RO:"Romania",RS:"Republic Of Serbia",RU:"Russian Federation",RW:"Rwanda",SA:"Saudi Arabia",SB:"Solomon Islands",SC:"Seychelles",SE:"Sweden",SG:"Rep. Of Singapore",SH:"Saint Helena",SI:"Slovenia",SJ:"Svalbard And Jan Mayen Islands",SK:"Slovakia",SL:"Sierra Leone",SM:"San Marino",SN:"Senegal",SO:"Somalia",SR:"Suriname",SS:"South Sudan",ST:"Sao Tome And Principe",SV:"El Salvador",SX:"Sint Maarten",SZ:"Swaziland",TC:"Turks And Caicos Islands",TD:"Chad",TF:"French Southern Territories",TG:"Togo",TH:"Thailand",TJ:"Tajikistan",TK:"Tokelau",TL:"Timor-leste",TM:"Turkmenistan",TN:"Tunisia",TO:"Tonga",TR:"Turkey",TT:"Trinidad And Tobago",TV:"Tuvalu",TW:"Taiwan",TZ:"Tanzania (united Rep.)",UA:"Ukraine",UG:"Uganda",UM:"United States Minor Outlying Islands",US:"United States",UY:"Uruguay",UZ:"Uzbekistan",VA:"Vatican",VC:"Saint Vincent And The Grenadines (antilles)",VE:"Venezuela",VG:"Virgin Islands (british)",VI:"Virgin Islands (u.s.)",VN:"Viet Nam",VU:"Vanuatu",WF:"Wallis And Futuna Islands",WS:"Samoa",YE:"Yemen",YT:"Mayotte",ZA:"South Africa",ZM:"Zambia",ZW:"Zimbabwe"};function Yd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function zd(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Yd(Object(r),!0).forEach((function(t){Kd(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yd(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Kd(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}!function(e){e.PENDING="pending",e.FINAL="final"}(qd||(qd={}));var Wd={addressLines:"addressLines",city:"locality",country:"countryCode",postalCode:"postalCode",state:"administrativeArea"},$d=["visa","masterCard","jcb","discover","amex"];function Qd(e){return{amount:e.amount,label:e.label,type:e.pending?qd.PENDING:qd.FINAL}}function Zd(e){return{amount:e.amount,detail:"",identifier:e.id,label:e.label}}function Jd(e,t){return t?Qd(t):e}function Xd(e,t){return t?t.map(Qd):e}function ep(e,t){return t?t.map(Zd):e}function tp(){for(var e=3;e>0&&!window.ApplePaySession.supportsVersion(e);)e--;return e}function rp(e){var{addressLines:t,locality:r,administrativeArea:n,postalCode:i,countryCode:o,givenName:s,familyName:a,emailAddress:c,phoneNumber:u}=e;return{addressLines:t,city:r,countryCode:o&&o.toUpperCase(),email:c,familyName:a,givenName:s,phone:u,postalCode:i,state:n}}function np(e){var{amount:t,identifier:r,label:n}=e;return{amount:t,id:r,label:n}}function ip(e,t,r){return{errors:(n=e,i=[],n.error&&i.push(new window.ApplePayError("addressUnserviceable","postalAddress",n.error)),n.shippingErrors&&Object.entries(n.shippingErrors).forEach((e=>{var[t,r]=e,n=Wd[t]||"postalAddress";i.push(new window.ApplePayError("shippingContactInvalid",n,r))})),i),newLineItems:Xd(t.lineItems,Ed(e,r)),newShippingMethods:ep(t.shippingMethods,e.shippingOptions),newTotal:Jd(t.total,e.total)};var n,i}function op(e,t,r){var n=ip(e,t,r);return zd({status:window.ApplePaySession.STATUS_SUCCESS},n)}function sp(e,t,r){return{newLineItems:Xd(t.lineItems,Ed(e,r)),newTotal:Jd(t.total,e.total)}}function ap(e,t,r){var n=ip(e,t,r);return zd({status:window.ApplePaySession.STATUS_SUCCESS},n)}function cp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function up(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cp(Object(r),!0).forEach((function(t){lp(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cp(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function lp(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dp(e,t,r,n,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,i)}function pp(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function s(e){dp(o,n,i,s,a,"next",e)}function a(e){dp(o,n,i,s,a,"throw",e)}s(void 0)}))}}class hp extends Ba{constructor(e,t,r){if(super(t),this.methodType=dn.APPLE_PAY,this.sessionInProgress=!1,this.wasFirstInteractionCalled=!1,this.paymentMethodMessenger=new ja(this.context),this.paymentRequestLockController=r,this.req=e,void 0===window.ApplePaySession)throw new oi(ba.APPLE_PAY_BROWSER_NOT_SUPPORTED);if(!window.ApplePaySession.canMakePayments())throw new oi(ba.APPLE_PAY_DEVICE_NOT_SUPPORTED);this.validateConfiguration()}get applePaySession(){if(!this.sessionHandler){var e="Apple Pay Session is expected to exist when it does not.";throw this.errorLogger.captureException(new So(e,"Apple Pay"),this.session.instanceId,this.session.sessionId),new hi(e)}return this.sessionHandler}set applePaySession(e){this.sessionHandler=e}tokenize(){var e=this;return pp((function*(){if(e.handleFirstInteraction(),e.throwIfDestroyed(),e.sessionInProgress)throw new pi([Fa]);e.applePayPaymentRequest=function(e,t){var r=[...$d];null!=t&&t.isActive(Zi.CanUseInterac)&&r.push("interac");var n,i={countryCode:e.countryCode,currencyCode:e.currencyCode,lineItems:Xd([],Ed(e)),merchantCapabilities:["supports3DS"],requiredBillingContactFields:["postalAddress"],shippingMethods:ep([],e.shippingOptions),supportedNetworks:r,total:Qd(e.total)};return e.shippingContact&&(i.shippingContact={addressLines:(n=e.shippingContact).addressLines,administrativeArea:n.state,country:Vd[n.countryCode],countryCode:n.countryCode,emailAddress:n.email,familyName:n.familyName,givenName:n.givenName,locality:n.city,phoneNumber:n.phone,postalCode:n.postalCode}),e.requestBillingContact&&(i.requiredShippingContactFields=["email","name","phone"]),e.requestShippingContact&&(i.requiredShippingContactFields=["postalAddress","name","email","phone"]),i}(e.req,e.featureFlagHandler),e.applePaySession=new window.ApplePaySession(tp(),e.applePayPaymentRequest);var t=e.shippingContactChanged.bind(e);e.applePaySession.onshippingcontactselected=r=>{t(r.shippingContact,e.applePayPaymentRequest)};var r=e.shippingOptionChanged.bind(e);e.applePaySession.onshippingmethodselected=t=>{r(t.shippingMethod,e.applePayPaymentRequest)};var n=new Promise((t=>{e.applePaySession.oncancel=()=>{e.metricsHandler.logEvent(Lo.ExternalSessionCancel),e.deleteApplePaySession(),t({status:Fd.CANCEL})}})),i=new Promise(((t,r)=>{e.applePaySession.onvalidatemerchant=function(){var n=pp((function*(n){try{var i=yield e.requestApplePayMerchantValidity(n.validationURL,e.applePayPaymentRequest);t(i)}catch(e){r(e)}}));return function(e){return n.apply(this,arguments)}}()})),o=new Promise(((t,r)=>{e.applePaySession.onpaymentauthorized=function(){var n=pp((function*(n){try{var i=yield e.requestApplePayCardNonce(n);e.deleteApplePaySession(),t(i)}catch(t){e.deleteApplePaySession(),r(t)}}));return function(e){return n.apply(this,arguments)}}()}));e.sessionInProgress=!0,e.paymentRequestLockController.lock(e),e.metricsHandler.logEvent(Lo.ExternalSessionStart),e.applePaySession.begin();try{var s=yield i;e.applePaySession.completeMerchantValidation(s);var{status:a,token:c,details:u}=yield Promise.race([o,n]);return e.metricsHandler.logEvent(Lo.ExternalSessionOK),a===Fd.SUCCESS?{details:u,status:hn.OK,token:c}:{status:hn.CANCEL}}catch(t){throw e.metricsHandler.logEvent(Lo.ExternalSessionError),t}}))()}destroy(){return this.status=Ha.DESTROYED,this.metricsHandler.logEvent(xo.Destroyed),this.sessionHandler&&(this.sessionHandler.abort(),this.deleteApplePaySession()),Promise.resolve()}validateConfiguration(){var e=this.session;if(!e.applePayMerchantIdentifier)throw new oi(ba.INVALID_CONFIG,"applePayMerchantIdentifier");if(!e.locationId)throw new oi(ba.INVALID_CONFIG,"locationId")}requestApplePayCardNonce(e){var t=this;return pp((function*(){var r={applepayData:e.payment},n=t.session,i=t.selectedShippingMethod||t.getDefaultShippingMethod();try{var o=yield t.paymentMethodMessenger.request(Gd.REQUEST_APPLE_PAY_CARD_NONCE,r);return t.applePaySession.completePayment(window.ApplePaySession.STATUS_SUCCESS),t.context.setPaymentMethodTrackingId(o.paymentMethodTrackingId),t.wasFirstInteractionCalled=!1,yield t.context.updateSession(o.sessionId),function(e,t){var{card:r,cardNonce:n,shippingContact:i,billingContact:o}=e,s={details:{card:r,method:dn.APPLE_PAY},status:Fd.SUCCESS,token:n};if(i){var a={contact:i};t&&(a.option=np(t)),s.details.shipping=a}return o&&(s.details.card&&(s.details.card.billing=o),s.details.billing=o),s}(o,i)}catch(e){throw t.applePaySession.completePayment(window.ApplePaySession.STATUS_FAILURE),e instanceof pi||t.errorLogger.captureException(e,n.instanceId,n.sessionId),e}}))()}requestApplePayMerchantValidity(e,t){var r=this;return pp((function*(){var n,i=t&&t.total?t.total.label:null,o=r.session,s={clientId:o.applicationId,locationId:o.locationId,merchantName:i,sourceUrl:o.sourceUrl,validationUrl:e};try{n=yield r.paymentMethodMessenger.request(Gd.REQUEST_APPLE_PAY_MERCHANT_VALIDITY,s)}catch(e){throw r.applePaySession.abort(),r.deleteApplePaySession(),e}try{return JSON.parse(n.session)}catch(e){throw r.applePaySession.abort(),r.deleteApplePaySession(),r.errorLogger.captureException(new So(e.message,r.methodType),r.session.instanceId,r.session.sessionId),new hi("parsing Apple Pay merchant validity")}}))()}shippingContactChanged(e,t){var r=tp()>=3?this.updateApplePayShippingContactV3(t):this.updateApplePayShippingContactLegacy(t);this.req.hasEventListener(pn.SHIPPING_CONTACT_CHANGED)?this.req.dispatchEvent(pn.SHIPPING_CONTACT_CHANGED,{contactOrOption:rp(e)},(e=>{this.metricsHandler.logEvent(xo.EventListenerOnCompleteResponse,up(up({},e),{},{eventName:pn.SHIPPING_CONTACT_CHANGED})),this.handleShippingContactUpdate(r,e)})):this.handleShippingContactUpdate(r)}handleShippingContactUpdate(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null===(t=r.shippingOptions)||void 0===t?void 0:t[0],i=this.getDefaultShippingMethod();void 0===n&&null!==i&&(n=np(i)),void 0!==n&&this.req.hasEventListener(pn.SHIPPING_OPTION_CHANGED)?(this.selectedShippingMethod=Zd(n),this.req.dispatchEvent(pn.SHIPPING_OPTION_CHANGED,{contactOrOption:n},(t=>{this.metricsHandler.logEvent(xo.EventListenerOnCompleteResponse,up(up({},t),{},{eventName:pn.SHIPPING_OPTION_CHANGED})),e(Object.assign({},r,t))}))):e(r)}shippingOptionChanged(e,t){this.selectedShippingMethod=e;var r=tp()>=3?this.updateApplePayShippingMethodV3(t):this.updateApplePayShippingMethodLegacy(t);this.req.hasEventListener(pn.SHIPPING_OPTION_CHANGED)?this.req.dispatchEvent(pn.SHIPPING_OPTION_CHANGED,{contactOrOption:np(e)},r):r()}updateApplePayPaymentRequest(e){e.newTotal&&(this.applePayPaymentRequest.total=e.newTotal),e.newLineItems&&(this.applePayPaymentRequest.lineItems=e.newLineItems),e.newShippingMethods&&(this.applePayPaymentRequest.shippingMethods=e.newShippingMethods)}updateApplePayShippingContactV3(e){var t=this;return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=ip(r,e,t.req);t.updateApplePayPaymentRequest(n),t.metricsHandler.logEvent(Lo.ShippingAddressChangeOK),t.applePaySession.completeShippingContactSelection(n)}}updateApplePayShippingContactLegacy(e){var t=this;return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=op(r,e,t.req);t.updateApplePayPaymentRequest(n),t.metricsHandler.logEvent(Lo.ShippingAddressChangeOK),t.applePaySession.completeShippingContactSelection(n.status,n.newShippingMethods,n.newTotal,n.newLineItems)}}updateApplePayShippingMethodV3(e){var t=this;return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=sp(r,e,t.req);t.updateApplePayPaymentRequest(n),t.metricsHandler.logEvent(Lo.ShippingOptionChangeOK),t.applePaySession.completeShippingMethodSelection(n)}}updateApplePayShippingMethodLegacy(e){var t=this;return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=ap(r,e,t.req);t.updateApplePayPaymentRequest(n),t.metricsHandler.logEvent(Lo.ShippingOptionChangeOK),t.applePaySession.completeShippingMethodSelection(n.status,n.newTotal,n.newLineItems)}}getDefaultShippingMethod(){var e=this.applePayPaymentRequest.shippingMethods;return e&&e.length>0?this.applePayPaymentRequest.shippingMethods[0]:null}deleteApplePaySession(){delete this.sessionHandler,this.paymentRequestLockController.unlock(this),this.sessionInProgress=!1}handleFirstInteraction(){this.wasFirstInteractionCalled||(this.metricsHandler.logEvent(Do.FirstInteraction),this.wasFirstInteractionCalled=!0)}}function fp(e,t){return Intl.NumberFormat(m.windowNavigationLanguage,{currency:t,style:"currency"}).format(Number.parseFloat(e))}var gp=["PAN_ONLY","CRYPTOGRAM_3DS"],mp=["AMEX","DISCOVER","JCB","MASTERCARD","VISA"];function Ep(e){return{label:e.label,price:e.amount,status:e.pending?a.Estimated:a.Final,type:"LINE_ITEM"}}function vp(e,t){var r=null!=t?t:e;return r?r.map((e=>Ep(e))):[]}function yp(e,t){return t.map((t=>function(e,t){return{description:fp(t.amount,e),id:t.id,label:t.label}}(e,t)))}function _p(e,t,r,n){var i=null!=n?n:r;if(i&&i.length>0){var o={shippingOptions:yp(e,i)};return i.some((e=>(null==e?void 0:e.id)===t))&&(o.defaultSelectedOptionId=t),o}}function Ap(e,t){return null==t?void 0:t.find((t=>t.id===e))}function Ip(e,t,r,n,i,o){var{countryCode:s,currencyCode:a,total:c,lineItems:u,taxLineItems:l,discounts:d,requestBillingContact:p,requestShippingContact:h,shippingOptions:f}=t,g=Cd(t),m=Boolean(h||g),E=Object.assign({},e,{emailRequired:Boolean(p),merchantInfo:i,shippingAddressRequired:m,shippingOptionRequired:g,transactionInfo:{countryCode:s,currencyCode:a,totalPrice:c.amount,totalPriceLabel:c.label,totalPriceStatus:n}});if(u&&u.length>0&&(E.transactionInfo.displayItems=vp([],Ed({lineItems:u,taxLineItems:l,discounts:d},t))),m&&(E.shippingAddressParameters={phoneNumberRequired:!0}),g){var v=_p(a,o,[],f);v&&(E.shippingOptionParameters=v)}return r.length>0&&(E.callbackIntents=r),E}function Sp(e,t){var r=[];return e.error&&r.push({intent:t,message:e.error,reason:Ai.SHIPPING_ADDRESS_UNSERVICEABLE}),e.shippingErrors&&Object.entries(e.shippingErrors).forEach((e=>{var[n,i]=e;r.push({intent:t,message:"".concat(n,": ").concat(i),reason:Ai.SHIPPING_ADDRESS_INVALID})})),r}function Cp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Op(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Cp(Object(r),!0).forEach((function(t){Tp(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cp(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Tp(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pp(e,t,r,n,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,i)}function Rp(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function s(e){Pp(o,n,i,s,a,"next",e)}function a(e){Pp(o,n,i,s,a,"throw",e)}s(void 0)}))}}var Np,wp,bp,Dp,Lp=["#google"];class xp extends Ba{constructor(e,t,r,n,i){var o;super(r),this.methodType=dn.GOOGLE_PAY,this.shippingOptions=void 0,this.wasFirstInteractionCalled=!1,this.validateConfiguration(),this.paymentRequestLockController=i,this.req=t,this.merchantInfo=n,this.element=null,this.paymentMethodMessenger=new ja(r),Cd(this.req)&&(this.shippingOptions=this.req.shippingOptions,this.selectedShippingOptionId=null===(o=this.req.shippingOptions)||void 0===o?void 0:o[0].id),this.callbackIntents=function(e,t){var r=[],n=Cd(e)&&t.includes(pn.SHIPPING_OPTION_CHANGED),i=e.requestShippingContact&&t.includes(pn.SHIPPING_CONTACT_CHANGED);return n?r.push(c.SHIPPING_ADDRESS,c.SHIPPING_OPTION):i&&r.push(c.SHIPPING_ADDRESS),(!m.isAndroid()||n||i)&&r.push(c.PAYMENT_AUTHORIZATION),r}(this.req,this.handlers);var s,a,h,f,g=function(e,t,r){var n={environment:I.GOOGLE_PAY_ENV,merchantInfo:r},i=e.includes(c.SHIPPING_OPTION)||e.includes(c.SHIPPING_ADDRESS);if(!m.isAndroid()||i){var o={onPaymentAuthorized:()=>({transactionState:p.SUCCESS})};i&&(o.onPaymentDataChanged=t),n.paymentDataCallbacks=o}return n}(this.callbackIntents,this.onPaymentDataChanged.bind(this),this.merchantInfo);this.googlePayClient=new e.api.PaymentsClient(g),this.isReadyToPayRequest=(s=this.session.applicationId,a=this.req.requestBillingContact,h=this.featureFlagHandler,f=[...mp],null!=h&&h.isActive(Zi.CanUseInterac)&&f.push("INTERAC"),{allowedPaymentMethods:[{parameters:{allowedAuthMethods:gp,allowedCardNetworks:f,billingAddressParameters:{format:a?u.FULL:u.MIN,phoneNumberRequired:Boolean(a)},billingAddressRequired:!0},tokenizationSpecification:{parameters:{gateway:"square",gatewayMerchantId:s},type:d.PAYMENT_GATEWAY},type:l.CARD}],apiVersion:2,apiVersionMinor:0})}get handlers(){var e=[];return this.req.hasEventListener(pn.SHIPPING_OPTION_CHANGED)&&e.push(pn.SHIPPING_OPTION_CHANGED),this.req.hasEventListener(pn.SHIPPING_CONTACT_CHANGED)&&e.push(pn.SHIPPING_CONTACT_CHANGED),e}attach(e,t){var r=this;return Rp((function*(){var n,i,o;r.throwIfAlreadyAttached(),r.status=Ha.ATTACHED;var s=null!==(n=null==t?void 0:t.buttonColor)&&void 0!==n?n:vi.DEFAULT,a=null!==(i=null==t?void 0:t.buttonSizeMode)&&void 0!==i?i:yi.STATIC,c=null!==(o=null==t?void 0:t.buttonType)&&void 0!==o?o:_i.LONG;r.metricsHandler.logEvent(Do.AttachStart),r.metricsHandler.logEvent(xo.Configured,t);try{r.element=ml(e)}catch(e){throw r.status===Ha.ATTACHED&&(r.status=Ha.DETACHED),r.metricsHandler.logEvent(Do.AttachError),e}r.isReadyToPay=yield r.checkIfReadyToPay(Do.AttachError);try{var u=r.googlePayClient.createButton({buttonColor:s,buttonSizeMode:a,buttonType:c,onClick:()=>{}});return r.element.appendChild(u),void r.metricsHandler.logEvent(Do.AttachOK)}catch(e){throw r.status===Ha.ATTACHED&&(r.status=Ha.DETACHED),r.errorLogger.captureException(e),r.metricsHandler.logEvent(Do.AttachError),r.status=Ha.DETACHED,new oi(ba.UNKNOWN,e)}}))()}destroy(){return this.detachElement(Ha.DESTROYED,xo.Destroyed),Promise.resolve()}detach(){return this.detachElement(Ha.DETACHED,xo.Detached),Promise.resolve()}tokenize(){var e=this;return Rp((function*(){var t;e.throwIfDestroyed(),e.handleFirstInteraction(),e.metricsHandler.logEvent(Lo.ExternalSessionStart),e.isReadyToPay=e.isReadyToPay||(yield e.checkIfReadyToPay(Lo.ExternalSessionError)),e.paymentRequestLockController.lock(e);try{t=yield e.loadPaymentData(),delete e.googlePayTokenDeferred,e.metricsHandler.logEvent(Lo.ExternalSessionOK)}catch(t){if(delete e.googlePayTokenDeferred,e.paymentRequestLockController.unlock(e),"CANCELED"===t.statusCode)return e.metricsHandler.logEvent(Lo.ExternalSessionCancel),{status:hn.CANCEL};if(e.metricsHandler.logEvent(Lo.ExternalSessionError),t instanceof Error)throw e.errorLogger.captureException(t),t;throw e.errorLogger.captureException(new So(JSON.stringify(t),e.methodType)),new hi("tokenizing Google Pay.")}var{token:r,details:n}=yield e.requestGooglePayCardNonce(t);return{details:n,status:hn.OK,token:r}}))()}validateConfiguration(){var e=Lp.join(", ");if(document.querySelectorAll(e).length>0)throw new ii(this.methodType,e)}checkIfReadyToPay(e){var t=this;return Rp((function*(){var r=!1;try{var{result:n}=yield t.googlePayClient.isReadyToPay(t.isReadyToPayRequest);r=n}catch(e){t.errorLogger.captureException(e)}if(r){var i=t.callbackIntents.length>0?a.Unknown:a.Final;return t.googlePayClient.prefetchPaymentData(Ip(t.isReadyToPayRequest,t.req,t.callbackIntents,i,t.merchantInfo,t.selectedShippingOptionId)),r}throw t.metricsHandler.logEvent(e),new oi(ba.GOOGLE_PAY_BROWSER_NOT_SUPPORTED)}))()}loadPaymentData(){return this.googlePayTokenDeferred||(this.googlePayTokenDeferred=this.googlePayClient.loadPaymentData(Ip(this.isReadyToPayRequest,this.req,this.callbackIntents,a.Final,this.merchantInfo,this.selectedShippingOptionId))),this.googlePayTokenDeferred}onPaymentDataChanged(e){switch(e.callbackTrigger){case c.INITIALIZE:case c.SHIPPING_ADDRESS:return this.onPaymentDataChangedShippingAddress(e);case c.SHIPPING_OPTION:return this.onPaymentDataChangedShippingOption(e);default:return this.errorLogger.captureException(new So("Unknown callbackTrigger: ".concat(e.callbackTrigger),dn.GOOGLE_PAY)),Promise.resolve({})}}onPaymentDataChangedShippingOption(e){var t=this;return Rp((function*(){var r;t.selectedShippingOptionId=null===(r=e.shippingOptionData)||void 0===r?void 0:r.id;var{updatedOptionRequest:n,optionErrors:i}=yield t.dispatchShippingOptionChanged(t.selectedShippingOptionId,t.shippingOptions);return t.paymentDataChangedComplete(n,i)}))()}dispatchShippingOptionChanged(e,t){var r=this,n={optionErrors:[],updatedOptionRequest:{}};if(!this.handlers.includes(pn.SHIPPING_OPTION_CHANGED))return Promise.resolve(n);var i=Ap(e,t);return i?this.status===Ha.DESTROYED?Promise.resolve({optionErrors:[{intent:c.SHIPPING_OPTION,message:"An error occurred when attempting to submit payment, please close this window and try again.",reason:Ai.PAYMENT_METHOD_DESTROYED}],updatedOptionRequest:{}}):new Promise((e=>{this.req.dispatchEvent(pn.SHIPPING_OPTION_CHANGED,{contactOrOption:i},(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r.metricsHandler.logEvent(xo.EventListenerOnCompleteResponse,Op(Op({},t),{},{eventName:pn.SHIPPING_OPTION_CHANGED})),e({optionErrors:Sp(t,c.SHIPPING_OPTION),updatedOptionRequest:t})}))})):Promise.resolve(n)}onPaymentDataChangedShippingAddress(e){var t=this;return Rp((function*(){var{updatedContactRequest:r,contactErrors:n}=yield t.dispatchShippingContactChanged(e);if(void 0===t.req.shippingOptions||0===t.req.shippingOptions.length)return t.paymentDataChangedComplete(r,n);var i,o=t.shippingOptions;void 0!==r.shippingOptions?(o=r.shippingOptions,t.selectedShippingOptionId=r.shippingOptions[0].id):t.selectedShippingOptionId=null===(i=t.shippingOptions)||void 0===i?void 0:i[0].id;var{updatedOptionRequest:s,optionErrors:a}=yield t.dispatchShippingOptionChanged(t.selectedShippingOptionId,o),c=Object.assign({},r,s),u=[...n,...a];return t.paymentDataChangedComplete(c,u)}))()}dispatchShippingContactChanged(e){var t=this,r={contactErrors:[],updatedContactRequest:{}};return new Promise((n=>{var i;void 0!==e.shippingAddress&&this.handlers.includes(pn.SHIPPING_CONTACT_CHANGED)?this.status!==Ha.DESTROYED?this.req.dispatchEvent(pn.SHIPPING_CONTACT_CHANGED,{contactOrOption:(i=e.shippingAddress,{city:i.locality,countryCode:i.countryCode,postalCode:i.postalCode,state:i.administrativeArea})},(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.metricsHandler.logEvent(xo.EventListenerOnCompleteResponse,Op(Op({},e),{},{eventName:pn.SHIPPING_CONTACT_CHANGED})),n({contactErrors:Sp(e,c.SHIPPING_ADDRESS),updatedContactRequest:e})})):n({contactErrors:[{intent:c.SHIPPING_ADDRESS,message:"An error occurred when attempting to submit payment, please close this window and try again.",reason:Ai.PAYMENT_METHOD_DESTROYED}],updatedContactRequest:{}}):n(r)}))}paymentDataChangedComplete(e,t){e.shippingOptions&&e.shippingOptions.length>0&&(this.shippingOptions=e.shippingOptions);var r=function(e,t,r,n){var i,{total:o,countryCode:s,currencyCode:a}=t,c=r,u=Ep(null!==(i=e.total)&&void 0!==i?i:o),l={totalPrice:u.price,totalPriceLabel:u.label,totalPriceStatus:u.status},d=Object.assign({},{countryCode:s,currencyCode:a},l),p=vp(Ed(t),Ed(e,t));p.length>0&&(d.displayItems=p);var h={newTransactionInfo:d},f=_p(a,n,c,e.shippingOptions);return f&&(h.newShippingOptionParameters=f),h}(e,this.req,this.shippingOptions,this.selectedShippingOptionId);return t.length>0&&(r.error=t[0]),r}requestGooglePayCardNonce(e){var t=this;return Rp((function*(){var r=t.session,n=Ap(t.selectedShippingOptionId,t.shippingOptions);try{var i=yield t.paymentMethodMessenger.request(Ma.REQUEST_GOOGLE_PAY_CARD_NONCE,e);return t.context.setPaymentMethodTrackingId(i.paymentMethodTrackingId),yield t.context.updateSession(i.sessionId),t.wasFirstInteractionCalled=!1,t.paymentRequestLockController.unlock(t),function(e,t){var{card:r,cardNonce:n,shippingContact:i,billingContact:o}=e,s={details:{card:r,method:dn.GOOGLE_PAY},token:n};return i&&(s.details.shipping={contact:i},t&&(s.details.shipping.option=t)),o&&(s.details.card&&(s.details.card.billing=o),s.details.billing=o),s}(i,n)}catch(e){throw t.paymentRequestLockController.unlock(t),e instanceof pi||t.errorLogger.captureException(e,r.instanceId,r.sessionId),e}}))()}handleFirstInteraction(){this.wasFirstInteractionCalled||(this.wasFirstInteractionCalled=!0,this.metricsHandler.logEvent(Do.FirstInteraction))}detachElement(e,t){this.throwIfNotAttached(),this.status=e,this.element&&(this.element.innerHTML=""),this.metricsHandler.logEvent(t)}}!function(e){e.SHIPPING_ADDRESS_UNRECOGNIZED="SHIPPING_ADDRESS_UNRECOGNIZED",e.SHIPPING_ADDRESS_UNSUPPORTED="SHIPPING_ADDRESS_UNSUPPORTED",e.SERVICE_UNAVAILABLE="SERVICE_UNAVAILABLE"}(Np||(Np={})),function(e){e.BADGE="badge",e.LOCKUP="lockup"}(wp||(wp={})),function(e){e.BLACK="black",e.WHITE="white",e.MINT="mint"}(bp||(bp={})),function(e){e.REQUEST_AFTERPAY_INSTANT_WALLET_TOKEN="REQUEST_AFTERPAY_INSTANT_WALLET_TOKEN",e.REQUEST_AFTERPAY_CHECKOUT_HANDLER="REQUEST_AFTERPAY_CHECKOUT_HANDLER"}(Dp||(Dp={}));var Up="sq-afterpay-styles",Mp={[fn.BLACK]:{[gn.CheckoutWithAfterpay]:"afterpay-buttons/Afterpay_Checkout_Button_Black-White.svg",[gn.BuyNowWithAfterpay]:"afterpay-buttons/Afterpay_BuyNow_Button_Black-White.svg",[gn.PlaceOrderWithAfterpay]:"afterpay-buttons/Afterpay_PlaceOrder_Button_Black-White.svg"},[fn.MINT]:{[gn.CheckoutWithAfterpay]:"afterpay-buttons/Afterpay_Checkout_Button_Mint-Black.svg",[gn.BuyNowWithAfterpay]:"afterpay-buttons/Afterpay_BuyNow_Button_Mint-Black.svg",[gn.PlaceOrderWithAfterpay]:"afterpay-buttons/Afterpay_PlaceOrder_Button_Mint-Black.svg"}},kp={[fn.BLACK]:{[gn.CheckoutWithAfterpay]:"afterpay-buttons/Clearpay_Checkout_Button_Black-White.svg",[gn.BuyNowWithAfterpay]:"afterpay-buttons/Clearpay_BuyNow_Button_Black-White.svg",[gn.PlaceOrderWithAfterpay]:"afterpay-buttons/Clearpay_PlaceOrder_Button_Black-White.svg"},[fn.MINT]:{[gn.CheckoutWithAfterpay]:"afterpay-buttons/Clearpay_Checkout_Button_Mint-Black.svg",[gn.BuyNowWithAfterpay]:"afterpay-buttons/Clearpay_BuyNow_Button_Mint-Black.svg",[gn.PlaceOrderWithAfterpay]:"afterpay-buttons/Clearpay_PlaceOrder_Button_Mint-Black.svg"}},Hp=new Set(["US","CA","AU","NZ"]);function Bp(e,t){var r=0;return e.forEach((e=>{r+=to.paymentRequestAmountToMoneyAmount(e,t)})),to.moneyAmountToPaymentRequestAmount(r,t)}function Gp(e,t){return Bp(e.map((e=>e.amount)),t)}var Fp=function(e,t){return e.map((e=>({name:e.label,quantity:1,sku:e.id,price:{amount:e.amount,currency:t},imageUrl:e.imageUrl,pageUrl:e.productUrl})))},jp=function(e,t){return e.map((e=>({displayName:e.label,amount:{amount:e.amount,currency:t}})))},qp=function(e){return{area1:e.city,countryCode:e.countryCode,line1:e.addressLines[0],line2:e.addressLines[1],name:"".concat(e.givenName," ").concat(e.familyName),phoneNumber:e.phone,postcode:e.postalCode,region:e.state}},Vp=function(e){if(e.requestShippingContact&&void 0!==e.lineItems&&e.lineItems.length>0){var t=Gp(e.lineItems,e.currencyCode);if(e.discounts)t=Bp([t,(r=e.discounts,n=e.currencyCode,"-".concat(Gp(r,n)))],e.currencyCode);return{amount:t,currency:e.currencyCode}}var r,n;return{amount:e.total.amount,currency:e.currencyCode}},Yp=function(e,t){return e.shippingOptions.map((e=>({description:"",id:e.id,name:e.label,shippingAmount:{amount:e.amount,currency:t.currencyCode},orderAmount:{amount:e.total.amount,currency:t.currencyCode},taxAmount:{amount:Gp(e.taxLineItems||[],t.currencyCode),currency:t.currencyCode}})))},zp=function(e){var t,r,n=[];return[e.address1,e.address2].forEach((e=>{void 0!==e&&n.push(e)})),e.name&&([t,r]=e.name.split(/\s(?=\S+$)/)),{givenName:t,familyName:r,city:e.suburb,state:e.state,postalCode:e.postcode,countryCode:e.countryCode,phone:e.phoneNumber,addressLines:n}},Kp=function(e){return{amount:e.shippingAmount.amount,id:e.id,label:e.name}};function Wp(e,t){return ud({[t]:e},{[t]:{city:"string",countryCode:"string",addressLines:"object",postalCode:"string",state:"string",givenName:"string",familyName:"string"}})}var $p=function(e){return Wp(e,"shippingContact")};function Qp(e){var t=e.split("-")[1];return Hp.has(t)}var Zp,Jp=function(e,t){return Qp(t)?Mp[e]:kp[e]},Xp=function(e){return Qp(e)?"afterpay-brand.svg":"clearpay-brand.svg"},eh=[pi];!function(e){e.UNKNOWN="UNKNOWN",e.UNAUTHORIZED="UNAUTHORIZED",e.TRANSACTION_LIMIT="TRANSACTION_LIMIT",e.UNSUPPORTED_CURRENCY="UNSUPPORTED_CURRENCY"}(Zp||(Zp={}));var th=[Un,Mn];function rh(e,t,r,n,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,i)}var nh=[25,50,75,100];class ih{constructor(e,t){this.attached=!1,this.req=e,this.stylesLoadedPromise=new Promise(((e,t)=>{this.resolveStylePromise=e,this.rejectStylePromise=t})),this.context=t,this.locale=this.context.getSession().locale,this.currencyCode=this.req.currencyCode;var r=this.context.getLocaleString().paymentMethods.afterpay.checkoutWidget.weeks;this.PERIOD_TEXT=[this.context.getLocaleString().paymentMethods.afterpay.checkoutWidget.today,"2 ".concat(r),"4 ".concat(r),"6 ".concat(r)],t.addLocaleChangedListener((()=>{this.locale=this.context.getSession().locale,this.update()})),e.addEventListener(dd.UPDATE,(()=>{this.update()}))}attach(e,t){var r,n=this;return(r=function*(){n.element=e,vl.addStyleElement(I.AFTERPAY_STYLES,Up,n.resolveStylePromise,n.rejectStylePromise);try{yield n.stylesLoadedPromise}catch(e){throw new hi("attaching the Afterpay Checkout Widget")}var r=n.buildAmounts().map((e=>to.moneyAmountToInternationalizedCurrency(e,n.currencyCode,n.locale))),i=!1;t&&t.includeBranding&&(i=!0);var o=Xp(n.locale),s='\n      <div class="sq-ap__checkout-widget-container">\n        '.concat(i?'<div class="sq-ap__wordmark">\n                <img id="ap-wordmark-image" src="'.concat(I.STATIC_ASSET(o),'"/>\n              </div>'):"",'\n        <p class="sq-ap__checkout-title">').concat(n.context.getLocaleString().paymentMethods.afterpay.checkoutWidget.title,'</p>\n        <div class="sq-ap__payment-container">\n          ').concat(r.map(((e,t)=>'\n              <div id="ap-payment-container-'.concat(t,'" class="sq-ap__individual-payment">\n                <div class="sq-ap__harvey-ball-container">\n                  ').concat(function(e){var t=12,r=2*Math.PI*6,n=r*nh[e]/100;return'\n      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 '.concat(24," ").concat(24,'" class="sq-ap__harvey-ball">\n        <circle\n          r="').concat(t,'"\n          cx="').concat(t,'"\n          cy="').concat(t,'"\n          fill="white"\n        />\n        <circle\n          r="').concat(6,'"\n          cx="').concat(t,'"\n          cy="').concat(t,'"\n          fill="none"\n          stroke="').concat("#B2FCE4",'"\n          stroke-width="').concat(t,'"\n          stroke-dasharray="').concat(n," ").concat(r,'"\n          transform="rotate(-90) translate(-').concat(24,')"\n        />\n        <circle\n          r="').concat(t,'"\n          cx="').concat(t,'"\n          cy="').concat(t,'"\n          fill="none"\n          stroke-width="2"\n          stroke="black"\n       />\n      </svg>\n    ')}(t),'\n                </div>\n                <p id="ap-payment-amount-').concat(t,'" class="sq-ap__amount">').concat(e,'</p>\n                <p class="sq-ap__period">').concat(n.PERIOD_TEXT[t],"</p>\n              </div>\n            "))).join(""),"\n        </div>\n      </div>\n    ");n.element.insertAdjacentHTML("afterbegin",s),n.attached=!0},function(){var e=this,t=arguments;return new Promise((function(n,i){var o=r.apply(e,t);function s(e){rh(o,n,i,s,a,"next",e)}function a(e){rh(o,n,i,s,a,"throw",e)}s(void 0)}))})()}update(){if(this.attached&&this.element){var e=document.getElementById("ap-wordmark-image");if(e){var t=Xp(this.locale);e.src=I.STATIC_ASSET(t)}this.buildAmounts().map((e=>to.moneyAmountToInternationalizedCurrency(e,this.currencyCode,this.locale))).forEach(((e,t)=>{var r,n=null===(r=this.element)||void 0===r?void 0:r.querySelector("#ap-payment-amount-".concat(t));n&&(n.innerHTML=e)}))}}buildAmounts(){var e=to.paymentRequestAmountToMoneyAmount(this.req.total.amount,this.req.currencyCode),t=e/4;switch(e%4){case 0:return oh(t,0);case 1:return oh(t,1);case 2:return oh(t,-2);case 3:return oh(t,-1);default:return[]}}}function oh(e,t){var r=Array.from({length:3}).fill(Math.round(e));return r.push(e+t),r}function sh(e,t,r,n,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,i)}function ah(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function s(e){sh(o,n,i,s,a,"next",e)}function a(e){sh(o,n,i,s,a,"throw",e)}s(void 0)}))}}var ch,uh,lh=new Set(["en_US","en_CA","fr_CA","en_AU","en_NZ","en_GB","fr_FR","es_ES","it_IT"]),dh=new Set(["AUD","GBP","USD","CAD","EUR"]),ph={[fn.BLACK]:"#000",[fn.MINT]:"#b2fce4"};class hh extends Ba{constructor(e,t,r,n,i){if(super(n),this.methodType=dn.AFTERPAY_CLEARPAY,this.onTokenizeCallbacks=[],this.tokenizationBuffer=[],this.wasFirstInteractionCalled=!1,this.onTokenizeHandlerAdded=!1,this.transferOptions={},this.buyNowOption=!1,this.afterpayLibrary=e,this.afterpayMessagingLibrary=t,this.req=r,this.paymentRequestLockController=i,this.paymentMessenger=new ja(this.context),this.total=this.totalMoney(),!this.session.locationId)throw new oi(ba.INVALID_CONFIG,"locationId");this.locationID=this.session.locationId,this.req.addEventListener("update",(()=>{delete this.checkoutTokenResponse,this.element&&this.initializeAfterpayPopup(this.element),this.total=this.totalMoney()})),this.stylesLoadedPromise=new Promise(((e,t)=>{this.resolveStylePromise=e,this.rejectStylePromise=t}))}attach(e,t){var r=this;return ah((function*(){var n,i;r.throwIfAlreadyAttached(),r.status=Ha.ATTACHED,r.metricsHandler.logEvent(Do.AttachStart),r.metricsHandler.logEvent(xo.Configured,t);try{n=ml(e)}catch(e){throw r.metricsHandler.logEvent(Do.AttachError),r.status===Ha.ATTACHED&&(r.status=Ha.DETACHED),e}if(!t||!t.useCustomButton){vl.addStyleElement(I.AFTERPAY_STYLES,Up,r.resolveStylePromise,r.rejectStylePromise);try{yield r.stylesLoadedPromise}catch(e){throw r.status===Ha.ATTACHED&&(r.status=Ha.DETACHED),new hi("attaching Afterpay")}var o=(null==t?void 0:t.buttonColor)||fn.BLACK,s=(null==t?void 0:t.buttonType)||gn.BuyNowWithAfterpay,a=Jp(o,r.session.locale);if(!a)throw r.status===Ha.ATTACHED&&(r.status=Ha.DETACHED),new Qn("buttonColor",o);var c=a[s];if(!c)throw r.status===Ha.ATTACHED&&(r.status=Ha.DETACHED),new Qn("buttonType",s);var u='\n        <button\n          type="button"\n          class="sq-ap__button"\n          style="\n            background-color: '.concat(ph[o],";\n            background-image: url(").concat(I.STATIC_ASSET(c),');\n          "\n        ></button>\n      ');n.insertAdjacentHTML("afterbegin",u)}r.buyNowOption=(null==t?void 0:t.finalCtaButtonType)===mn.BUY_NOW,r.initializeAfterpayPopup(n),r.metricsHandler.logEvent(Do.AttachOK),r.element=n,r.onTokenizeHandlerAdded&&(null===(i=r.element)||void 0===i||i.addEventListener("click",ah((function*(){yield r.openPaymentModal()}))))}))()}attachMessaging(e,t){return this.throwIfDestroyed(),function(e){fl(e,pl)}(e),this.afterpayMessagingLibrary.createPlacements({targetSelector:e,attributes:{amount:Number(this.req.total.amount),badgeTheme:null==t?void 0:t.badgeTheme,currency:this.req.currencyCode,locale:this.session.locale,modalLinkStyle:null==t?void 0:t.modalLinkStyle,modalTheme:null==t?void 0:t.modalTheme,size:null==t?void 0:t.size}}),Promise.resolve()}attachCheckoutWidget(e,t){var r=this;return ah((function*(){if(!dh.has(r.req.currencyCode))throw new Bn("Currency is not supported by Afterpay. Valid currencies are: ".concat([...dh].join(", ")));var n=new ih(r.req,r.context),i=ml(e);yield n.attach(i,t)}))()}displayInformationModal(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=to.convertLocaleToUnderscore(this.session.locale);lh.has(t)||(t="en_US"),this.afterpayMessagingLibrary.launchModal(Object.assign({},e,{locale:t}))}onTokenize(e){var t,r=this;this.throwIfDestroyed(),this.onTokenizeCallbacks.push(e),1===this.onTokenizeCallbacks.length&&(this.tokenizationBuffer.forEach((e=>{var{result:t,error:r}=e;this.emitTokenizationResult(t,r)})),this.tokenizationBuffer=[]),this.onTokenizeHandlerAdded||void 0===this.element||null===(t=this.element)||void 0===t||t.addEventListener("click",ah((function*(){yield r.openPaymentModal()}))),this.onTokenizeHandlerAdded=!0}tokenize(){var e=this;return ah((function*(){if(e.throwIfNotAttached(),e.onTokenizeHandlerAdded)throw new Ln;var t,r,n=new Promise(((e,n)=>{t=e,r=n}));return e.onTokenizeCallbacks=[function(e,n){void 0===n?void 0!==e?t(e):r(new pi([ao.UNKNOWN])):r(n)}],yield e.openPaymentModal(),n}))()}destroy(){return this.detachElement(Ha.DESTROYED,xo.Destroyed),Promise.resolve()}detach(){return this.detachElement(Ha.DETACHED,xo.Detached),Promise.resolve()}internalSetCheckoutToken(){var e=this;return ah((function*(){try{var t=yield e.paymentMessenger.request(Dp.REQUEST_AFTERPAY_CHECKOUT_HANDLER,e.buildCheckoutPayload());return e.checkoutTokenResponse=t,e.checkoutTokenResponse.token}catch(t){var r=t;throw to.isInstanceOf(t,[...th,Fn,Bn])||(e.errorLogger.captureException(t,e.session.instanceId,e.session.sessionId),r=new hi("tokenizing with Afterpay")),r}}))()}commenceCheckout(e){var t=this;return ah((function*(){if(t.wasFirstInteractionCalled||(t.wasFirstInteractionCalled=!0,t.metricsHandler.logEvent(Do.FirstInteraction)),t.metricsHandler.logEvent(Lo.ExternalSessionStart),t.paymentRequestLockController.lock(t),void 0!==t.checkoutTokenResponse&&new Date(t.checkoutTokenResponse.expires)>new Date)e.resolve(t.checkoutTokenResponse.token);else try{var r=yield t.internalSetCheckoutToken();e.resolve(r)}catch(r){t.paymentRequestLockController.unlock(t),t.metricsHandler.logEvent(Lo.ExternalSessionError),t.emitTokenizationResult(void 0,r),e.reject(r.message)}}))()}completeCheckout(e){var t=this;return ah((function*(){try{if(function(e){return"SUCCESS"===e.status&&void 0!==e.orderToken}(e)){var r,n=yield t.paymentMessenger.request(Dp.REQUEST_AFTERPAY_INSTANT_WALLET_TOKEN,t.buildInstantWalletTokenPayload(e.orderToken,t.total));t.context.updateSession(n.sessionID),t.metricsHandler.logEvent(Lo.ExternalSessionOK);var i={details:{method:dn.AFTERPAY_CLEARPAY,shipping:{contact:{email:null==n||null===(r=n.afterpayData)||void 0===r?void 0:r.email}}},status:hn.OK,token:n.token};null!=n&&n.billingContact&&(i.details.billing=null==n?void 0:n.billingContact),null!=n&&n.shippingContact&&(i.details.shipping={contact:null==n?void 0:n.shippingContact}),delete t.checkoutTokenResponse,t.emitTokenizationResult(i)}else t.metricsHandler.logEvent(Lo.ExternalSessionCancel),t.emitTokenizationResult({status:hn.CANCEL})}catch(e){var o=e;t.metricsHandler.logEvent(Lo.ExternalSessionError),to.isInstanceOf(e,eh)||(t.errorLogger.captureException(e,t.session.instanceId,t.session.sessionId),o=new hi("tokenizing Afterpay")),t.emitTokenizationResult(void 0,o)}t.paymentRequestLockController.unlock(t)}))()}onShippingOptionChange(e){this.metricsHandler.logEvent(Lo.ShippingOptionChangeOK),this.total.amount=to.paymentRequestAmountToMoneyAmount(e.orderAmount.amount,this.req.currencyCode),this.req.dispatchEvent(An.AFTERPAY_SHIPPING_OPTION_CHANGED,{contactOrOption:Kp(e)},(e=>{}))}onShippingAddressChange(e,t){if(!this.req.hasEventListener(An.AFTERPAY_SHIPPING_ADDRESS_CHANGED))return this.emitTokenizationResult(void 0,new xn("PaymentRequest",An.AFTERPAY_SHIPPING_ADDRESS_CHANGED)),t.reject(Np.SERVICE_UNAVAILABLE),void this.afterpayLibrary.close();var r=this.req;this.metricsHandler.logEvent(Lo.ShippingAddressChangeOK),this.req.dispatchEvent(An.AFTERPAY_SHIPPING_ADDRESS_CHANGED,{contactOrOption:zp(e)},(e=>{if(e.error)t.reject(Np.SHIPPING_ADDRESS_UNSUPPORTED);else if(e.shippingErrors)t.reject(Np.SHIPPING_ADDRESS_UNRECOGNIZED);else{var n=Yp(e,r);t.resolve(n)}}))}emitTokenizationResult(e,t){0===this.onTokenizeCallbacks.length?this.tokenizationBuffer.push({result:e,error:t}):this.onTokenizeCallbacks.forEach((r=>{r(e,t)}))}buildInstantWalletTokenPayload(e,t){return{paymentMethodTrackingID:this.context.getPaymentMethodTrackingId(),analyticsToken:this.session.analyticsToken,afterpayData:{afterpayToken:e,buyerAmount:t},clientID:this.session.applicationId,locationID:this.locationID,sessionID:this.session.sessionId,websdkVersion:I.VERSION,websiteURL:this.session.sourceUrl,requestBillingContact:this.req.requestBillingContact,requestShippingContact:this.req.requestShippingContact}}buildCheckoutPayload(){var e,t={applicationID:this.session.applicationId,discounts:[],locationID:this.locationID,popupOriginUrl:this.session.sourceUrl,amount:Vp(this.req)};if(this.req.lineItems&&(t.items=Fp(this.req.lineItems,this.req.currencyCode)),this.req.discounts&&(t.discounts=jp(this.req.discounts,this.req.currencyCode)),this.req.requestShippingContact?e=this.req.shippingContact:this.req.pickupContact&&(e=this.req.pickupContact),void 0!==e){var r=$p(e);if(!r.isValid)throw new Fn(r.missingFields);t.shipping=qp(e)}return t}totalMoney(){return{amount:to.paymentRequestAmountToMoneyAmount(this.req.total.amount,this.req.currencyCode),currency:this.req.currencyCode}}openPaymentModal(){var e=this;return ah((function*(){e.afterpayLibrary.open();var t=yield new Promise(((t,r)=>{e.commenceCheckout({resolve:t,reject:r})}));e.afterpayLibrary.transfer(Object.assign({token:t},e.transferOptions))}))()}initializeAfterpayPopup(e){var t=this.commenceCheckout.bind(this),r=this.completeCheckout.bind(this),n=document.createElement("div");n.id="sq-afterpay-dummy-element-".concat(ka()),n.style.visibility="hidden",e.appendChild(n),this.transferOptions={buyNow:this.buyNowOption,shippingOptionRequired:this.req.requestShippingContact},this.req.requestShippingContact||this.req.pickupContact||(this.transferOptions.addressMode="NO_ADDRESS");var i,o,s={countryCode:this.req.countryCode,onCommenceCheckout:(o=ah((function*(e){yield t(e)})),function(e){return o.apply(this,arguments)}),onComplete:(i=ah((function*(e){var{data:t}=e;yield r(t)})),function(e){return i.apply(this,arguments)}),target:"#".concat(n.id),shippingOptionRequired:this.req.requestShippingContact,addressMode:this.transferOptions.addressMode};this.req.requestShippingContact?(s.onShippingAddressChange=this.onShippingAddressChange.bind(this),s.onShippingOptionChange=this.onShippingOptionChange.bind(this)):this.req.pickupContact&&(this.transferOptions.pickup=!0),this.afterpayLibrary.initializeForPopup(s),e.removeChild(n)}detachElement(e,t){this.throwIfNotAttached(),this.status=e,this.afterpayLibrary.close(),this.element&&(this.element.innerHTML=""),this.element=null,this.tokenizationBuffer=[],this.onTokenizeCallbacks=[],this.metricsHandler.logEvent(t)}}!function(e){e.CUSTOMER_INTERACTION="CUSTOMER_INTERACTION",e.CUSTOMER_REQUEST_APPROVED="CUSTOMER_REQUEST_APPROVED",e.CUSTOMER_REQUEST_DECLINED="CUSTOMER_REQUEST_DECLINED",e.CUSTOMER_REQUEST_FAILED="CUSTOMER_REQUEST_FAILED"}(ch||(ch={})),function(e){e.REQUEST_CASH_APP_PAY_INSTANT_WALLET_TOKEN="REQUEST_CASH_APP_PAY_INSTANT_WALLET_TOKEN"}(uh||(uh={}));class fh extends Nn{constructor(e){var t=e.map((e=>{var[t,r]=e;return'expected property: "'.concat(t,'" of type "').concat(r,'"')})).join("\n");super("\n".concat(t)),this.name="InvalidCashAppPayV1OptionsFieldTypes",Object.setPrototypeOf(this,fh.prototype)}}class gh extends Nn{constructor(e){var t=e.map((e=>{var[t,r]=e;return'accepted property: "'.concat(t,'" values are "').concat(r,'"')})).join("\n");super("\n".concat(t)),this.name="InvalidCashAppPayV1OptionsFieldValues",Object.setPrototypeOf(this,gh.prototype)}}class mh extends Nn{constructor(e){super(e),this.name="CashAppPayInvalidPaymentRequestError",Object.setPrototypeOf(this,mh.prototype)}}class Eh extends Nn{constructor(){super("A redirect url is always required for requests. This must also be a secure link."),this.name="CashAppPayMissingRedirectUrlError",Object.setPrototypeOf(this,Eh.prototype)}}class vh extends Nn{constructor(){super("A grant was not returned from CashApp and is required for tokenization"),this.name="CashAppPayGrantIsUndefinedError",Object.setPrototypeOf(this,vh.prototype)}}function yh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ah(e,t,r,n,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,i)}function Ih(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function s(e){Ah(o,n,i,s,a,"next",e)}function a(e){Ah(o,n,i,s,a,"throw",e)}s(void 0)}))}}var Sh=new Set(["USD"]);class Ch extends Ba{constructor(e,t,r,n,i){if(super(n),this.methodType=dn.CASH_APP_PAY,this.wasFirstInteractionCalled=!1,this.cashAppPayElementId="cash_app_pay_v1_element",this.CashAppPayInstance=e,this.req=t,this.context=n,this.paymentRequestLockController=i,this.element=void 0,this.options=r,this.paymentMessenger=new ja(this.context),!this.session.locationId)throw new oi(ba.INVALID_CONFIG,"locationId");if(this.locationId=this.session.locationId,!this.session.cashAppPayMerchantIdentifier)throw new oi(ba.INVALID_CONFIG,"merchantId");if(this.scopeId=this.session.cashAppPayMerchantIdentifier,!Sh.has(this.req.currencyCode))throw new mh("".concat(this.req.currencyCode," is not supported by CashAppPay. Valid currencies are: ").concat([...Sh].join(", ")));if(!r.redirectURL)throw new Eh;var o=this.createCustomerRequestDetails();this.customerRequestCreated=e.customerRequest(o),this.cashAppEventHandler={[ch.CUSTOMER_INTERACTION]:()=>this.registerExternalEventStart(),[ch.CUSTOMER_REQUEST_APPROVED]:e=>this.customerRequestApprovedEvent(e),[ch.CUSTOMER_REQUEST_DECLINED]:e=>this.customerRequestDeclinedEvent(e),[ch.CUSTOMER_REQUEST_FAILED]:e=>this.customerRequestFailedEvent(e)},Object.keys(ch).forEach((e=>this.CashAppPayInstance.addEventListener(e,this.cashAppEventHandler[e]))),this.paymentRequestLockController.lock(this)}attach(e,t){var r=this;return Ih((function*(){r.throwIfAlreadyAttached();var n=t;n&&n.values&&(n.theme||(n.theme=n.values));var i=function(e){if(void 0===e)return{isValid:!0,missingFields:[]};var t={};return Object.keys(e).forEach((function(e){Es.has(e)&&(t[e]="string")})),ud(e,t)}(n);if(!i.isValid)throw new fh(i.missingFields);var o=function(e){var t=[],r=!0;if(void 0===e)return{isValid:r,missingFields:t};var n={shape:ws,size:Ns,theme:bs,width:Ds},i=JSON.parse(ks(e));return Object.entries(i).forEach((function(e){var[i,o]=e;o===ss&&(r=!1,t.push([i,[...n[i]].join(",")]))})),{isValid:r,missingFields:t}}(n);if(!o.isValid)throw new gh(o.missingFields);r.metricsHandler.logEvent(Do.AttachStart),n&&r.metricsHandler.logEvent(xo.Configured,n),r.status=Ha.ATTACHED,r.element=gl(e);try{var s=document.createElement("div");s.id=r.cashAppPayElementId,r.element.appendChild(s);var a="#".concat(r.cashAppPayElementId);r.renderController=yield r.CashAppPayInstance.render(a,{button:n}),r.metricsHandler.logEvent(Do.AttachOK)}catch(e){throw r.metricsHandler.logEvent(Do.AttachError),r.status===Ha.ATTACHED&&(r.status=Ha.DETACHED),e}}))()}destroy(){return this.detachElement(Ha.DESTROYED,xo.Destroyed),Object.keys(ch).forEach((e=>this.CashAppPayInstance.removeEventListener(e,this.cashAppEventHandler[e]))),Promise.resolve(!0)}detach(){return this.detachElement(Ha.DETACHED,xo.Detached),Promise.resolve(!0)}addEventListener(e,t){this.metricsHandler.logEvent(xo.EventListenerAdded,e),super.addEventListener(e,t)}removeEventListener(e,t){super.removeEventListener(e,t)}createCustomerRequestDetails(){var{amount:e}=this.req.total,t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yh(Object(r),!0).forEach((function(t){_h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yh(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({actions:{payment:{amount:{currency:this.req.currencyCode,value:to.paymentRequestAmountToMoneyAmount(e,this.req.currencyCode)},scopeId:this.scopeId}}},this.options);return t}customerRequestApprovedEvent(e){var t=this;return Ih((function*(){var r=yield t.createNonce(e);t.dispatchEvent("ontokenization",{tokenResult:r})}))()}customerRequestDeclinedEvent(e){var t={status:hn.CANCEL};this.metricsHandler.logEvent(Lo.ExternalSessionCancel),this.dispatchEvent("ontokenization",{tokenResult:t})}customerRequestFailedEvent(e){var t={status:hn.ERROR,errors:[new hi("tokenizing Cash App Pay")]};this.metricsHandler.logEvent(Lo.ExternalSessionError),this.dispatchEvent("ontokenization",{tokenResult:t})}createNonce(e){var t=this;return Ih((function*(){var{customerProfile:r,grants:n,referenceId:i}=e,o=r.cashtag,s=n.payment,a=t.req.total.amount,c=t.req.currencyCode;try{if(!s)throw new vh;var u=yield t.paymentMessenger.request(uh.REQUEST_CASH_APP_PAY_INSTANT_WALLET_TOKEN,t.buildInstantWalletTokenPayload({amount:a,currency:c},o,s,i));return t.context.updateSession(u.sessionID),t.metricsHandler.logEvent(Lo.ExternalSessionOK),{details:{method:dn.CASH_APP_PAY},status:hn.OK,token:u.token}}catch(e){var l=e;return t.metricsHandler.logEvent(Lo.ExternalSessionError),to.isInstanceOf(e,[pi])||(t.errorLogger.captureException(e,t.session.instanceId,t.session.sessionId),l=new hi("tokenizing CashAppPay")),{status:hn.ERROR,errors:[l]}}}))()}buildInstantWalletTokenPayload(e,t,r,n){return{paymentMethodTrackingID:this.context.getPaymentMethodTrackingId(),analyticsToken:this.session.analyticsToken,clientID:this.session.applicationId,locationID:this.locationId,sessionID:this.session.sessionId,websdkVersion:I.VERSION,websiteURL:this.session.sourceUrl,requestBillingContact:this.req.requestBillingContact,requestShippingContact:this.req.requestShippingContact,applicationId:this.session.applicationId,cashAppPayData:{referenceId:n,grantId:r.grantId,cashtag:t,totalAmount:{amount:e.amount,currency:e.currency}}}}registerExternalEventStart(){this.metricsHandler.logEvent(Lo.ExternalSessionStart),this.wasFirstInteractionCalled||(this.wasFirstInteractionCalled=!0,this.metricsHandler.logEvent(Do.FirstInteraction))}detachElement(e,t){this.throwIfNotAttached(),this.status=e,this.renderController&&this.renderController.destroy(),this.element&&(this.element.innerHTML=""),this.paymentRequestLockController.unlock(this),this.metricsHandler.logEvent(t)}}var Oh=function(e,t,r,n,i){return new hh(e,t,r,n,i)},Th=function(e,t,r){return new hp(e,t,r)},Ph=function(e,t,r,n,i){return new Ch(e,t,r,n,i)},Rh=function(e,t,r,n,i){return new xp(e,t,r,n,i)};function Nh(e,t,r,n,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,i)}function wh(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function s(e){Nh(o,n,i,s,a,"next",e)}function a(e){Nh(o,n,i,s,a,"throw",e)}s(void 0)}))}}function bh(e,t){var{paymentMethodSupportDetail:r,metricsHandler:n}=t,i=t.getSession();if(!i.locationId||0===i.locationId.length)throw new oi(ba.INVALID_CONFIG,"locationId");if(r&&r[e]&&!r[e].IsSupported){var{UnsupportedReasonType:o}=r[e],s=ba.UNKNOWN;throw o&&o in wa&&(s=Da[o]),n.logEvent(Do.BuildError),new oi(s)}}function Dh(e,t){if(!(e instanceof Sd))throw t.metricsHandler.logEvent(Do.BuildError),new Fn([["paymentRequest","PaymentRequest"]])}function Lh(){return(Lh=wh((function*(e,t){return{authJwt:(yield e.request(Ma.GENERATE_GOOGLE_PAY_AUTH_TOKEN,{session:t})).token,merchantId:I.GOOGLE_PAY_MERCHANT_ID}}))).apply(this,arguments)}class xh{constructor(e,t,r){this.localeStrings=new os(navigator.language),this.paymentOptions=e,this.metrics=t,this.errorLogger=r,this.paymentRequestLockMap=new WeakMap}overrideStrings(e){var t=this;return wh((function*(){try{var r=yield t.getPaymentContext(Go.App);if(!r.featureFlagHandler.isActive(Zi.CanUseOverrideStrings))throw new si("overrideStrings");r.metricsHandler.logEvent(xo.OverrideStrings,e),r.setTranslationOverrides(e)}catch(e){if(bo(e))throw t.errorLogger.captureException(e),new hi("overriding the strings");throw e}}))()}setLocale(e){var t=this;return wh((function*(){try{var r=yield t.getPaymentContext(Go.App);return r.metricsHandler.logEvent(xo.SetLocale,e),r.setLocale(e)}catch(e){if(bo(e))throw t.errorLogger.captureException(e),new hi("setting the locale");throw e}}))()}verifyBuyer(e,t){var r=this;return wh((function*(){var n=[];if(r.paymentOptions.locationId&&0!==r.paymentOptions.locationId.length||n.push(new La("verifyBuyer","locationId","string")),e&&"string"==typeof e&&0!==e.length||n.push(new La("verifyBuyer","source","string")),t&&"object"==typeof t?n.push(...jd.validateVerificationDetails(t,"verifyBuyer")):n.push(new La("verifyBuyer","details","object")),n.length>0)throw new xa(n);var i=yield r.getPaymentContext(Go.App);try{i.metricsHandler.logEvent(Do.VerificationStart);var o=yield Sa.analyticsLibrary({applicationId:r.paymentOptions.applicationId,locationId:r.paymentOptions.locationId}),s=yield Sa.verifyBuyer(o,e,t);return i.metricsHandler.logEvent(Do.VerificationOK),s}catch(e){if(i.metricsHandler.logEvent(Do.VerificationError),e instanceof ai)throw r.errorLogger.captureException(e),e;throw new Kn(e)}}))()}card(e){var t=this;return wh((function*(){var r=yield t.getPaymentContext(Go.Card);r.metricsHandler.logEvent(Do.BuildStart);try{var n=new Rl(r,e);return r.metricsHandler.logEvent(Do.BuildOK),n}catch(e){throw r.metricsHandler.logEvent(Do.BuildError),e}}))()}paymentRequest(e){var t=new Td,r=new Sd(e,this.localeStrings,t);return this.paymentRequestLockMap.set(r,t),this.getPaymentContext(Go.PaymentRequest).then((t=>{var{metricsHandler:n}=t;r.setPaymentMetricsHandler(n),n.logEvent(xo.Configured,e)})),r}googlePay(e){var t=this;return wh((function*(){var r,n,i=yield t.getPaymentContext(Go.GooglePay);i.metricsHandler.logEvent(Do.BuildStart),bh(Ws.GOOGLE_PAY,i),function(e){if("undefined"==typeof ShadowRoot)throw e.metricsHandler.logEvent(Do.BuildError),new oi(ba.GOOGLE_PAY_BROWSER_NOT_SUPPORTED)}(i),Dh(e,i);try{var o=function(e,t){return Lh.apply(this,arguments)}(i.messenger,i.getSession()),s=pa();[r,n]=yield Promise.all([s,o])}catch(e){throw i.metricsHandler.logEvent(Do.BuildError),e}try{var a=t.getPaymentRequestLock(e),c=Rh(r,e,i,n,a);return i.metricsHandler.logEvent(Do.BuildOK),c}catch(e){throw i.metricsHandler.logEvent(Do.BuildError),e}}))()}applePay(e){var t=this;return wh((function*(){var r=yield t.getPaymentContext(Go.ApplePay);r.metricsHandler.logEvent(Do.BuildStart),bh(Ws.APPLE_PAY,r),Dh(e,r);try{var n=t.getPaymentRequestLock(e),i=Th(e,r,n);return r.metricsHandler.logEvent(Do.BuildOK),i}catch(e){throw r.metricsHandler.logEvent(Do.BuildError),e}}))()}ach(e){var t=this;return wh((function*(){var r=yield t.getPaymentContext(Go.Ach);r.metricsHandler.logEvent(Do.BuildStart),bh(Ws.ACH,r),e&&e.redirectURI&&e.transactionId||(r.metricsHandler.logEvent(Do.AchMissingRequiredOAuthParameters),console.warn("Missing required OAuth parameters: Chase, Wells Fargo, and Capital One will no longer be available after February 15th, 2022 if these parameters are not provided"));try{var n=yield ha();return r.metricsHandler.logEvent(Do.BuildOK),new sc(n,r,e)}catch(e){throw r.metricsHandler.logEvent(Do.BuildError),e}}))()}cashApp(e){var t=this;return wh((function*(){var r=yield t.getPaymentContext(Go.CashApp);r.metricsHandler.logEvent(Do.BuildStart),bh(Ws.CASH_APP,r);try{var n=new Wl(r,e);return r.metricsHandler.logEvent(Do.BuildOK),n}catch(e){throw r.metricsHandler.logEvent(Do.BuildError),e}}))()}giftCard(e){var t=this;return wh((function*(){var r=yield t.getPaymentContext(Go.GiftCard);r.metricsHandler.logEvent(Do.BuildStart);try{var n=new nd(r,e);return r.metricsHandler.logEvent(Do.BuildOK),n}catch(e){throw r.metricsHandler.logEvent(Do.BuildError),e}}))()}afterpayClearpay(e){var t=this;return wh((function*(){var r=yield t.getPaymentContext(Go.Afterpay);if(r.metricsHandler.logEvent(Do.BuildStart),!r.featureFlagHandler.isActive(Zi.CanUseBNPLA))throw r.metricsHandler.logEvent(Do.BuildError),new Pd;bh(Ws.AFTERPAY,r),Dh(e,r);try{var n=t.getPaymentRequestLock(e),[i,o]=yield Promise.all([ca(),ua()]),s=Oh(i,o,e,r,n);return yield s.internalSetCheckoutToken(),r.metricsHandler.logEvent(Do.BuildOK),s}catch(e){throw r.metricsHandler.logEvent(Do.BuildError),e}}))()}cashAppPay(e,t){var r=this;return wh((function*(){var n,i=yield r.getPaymentContext(Go.CashAppPayV1);i.metricsHandler.logEvent(Do.BuildStart),bh(Ws.CASH_APP_PAY_V1,i),Dh(e,i);try{n=yield da()}catch(e){throw i.errorLogger.captureException(e),e}try{if(void 0===n)throw new hi("initializing Cash App Pay");var o=r.getPaymentRequestLock(e),s=I.CASH_APP_PAY_CLIENT_ID,a=yield n.pay({clientId:s}),c=Ph(a,e,t,i,o);return i.metricsHandler.logEvent(Do.BuildOK),c}catch(e){throw i.metricsHandler.logEvent(Do.BuildError),e}}))()}getPaymentContext(e){var t=this;return wh((function*(){var{featureFlagValues:r,messenger:n,session:i,paymentMethodSupportDetail:o}=yield t.initializePaymentMethod();i.avt&&t.errorLogger.setAvt(i.avt);var s=ka(),a=new class{constructor(e,t,r,n){this.metricsLogger=e,this.eventSource=r,this.session=t,this.paymentMethodTrackingId=n}logEvent(e,t){var r={event:e,eventSource:this.eventSource};void 0!==t&&(r.eventConfigurationValues=t);var{instanceId:n,sessionId:i,paymentsUIInstanceId:o}=this.session.serialize();return this.metricsLogger.logEvent(r,n,i,this.paymentMethodTrackingId,o)}setPaymentMethodTrackingId(e){this.paymentMethodTrackingId=e}getPaymentMethodTrackingId(){return this.paymentMethodTrackingId}}(t.metrics,i,e,s);t.setAnalytics(i),t.contextEventTarget||(t.contextEventTarget=new Ua);var c=new Pa(t.errorLogger,n,a,i,o,t.localeStrings,t.contextEventTarget,r);return t.errorLogger.setFeatureFlagHandler(c.featureFlagHandler),c}))()}initializePaymentMethod(){return this.initializePaymentParamPromise||(this.initializePaymentParamPromise=jd.initializePayment(this.paymentOptions,this.metrics,this.errorLogger,this.localeStrings)),this.initializePaymentParamPromise}setAnalytics(e){if(!this.analyticsInterval){var t=this.analyticsInterval=window.setInterval((()=>{jd.initializeAnalytics(e,this.errorLogger,t)}),ya);jd.initializeAnalytics(e,this.errorLogger,t)}}getPaymentRequestLock(e){var t=this.paymentRequestLockMap.get(e);if(!t){var r=new hi("PaymentRequestLockMap entry does not exist. This should never happen.");throw this.errorLogger.captureException(r),r}return t}}var Uh=I.ENABLE_ERROR_LOGGING,Mh=I.env,kh=new Map;window.Square={errors:Vo,payments:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r="".concat(e,"-").concat(t);if(kh.has(r))return kh.get(r);if(!xi(m.windowLocation))throw new Xn;if(!m.isSupported())throw new Jn;Bi(e);var{origin:n,hostname:i}=v(),o=new oo({applicationId:e,applicationUrl:n,enableErrorLogging:Uh,environment:Mh,sourceName:"web-payments-sdk-public",useGlobalHandlers:!1,version:I.VERSION}),s={applicationId:e,hostname:i,locationId:t,sourceUrl:n},a=new Zs(o,{applicationId:e,hostname:i,locationId:t});a.logEvent({event:Do.LoadOK,eventSource:Go.App});var c=new xh(s,a,o);return kh.set(r,c),c}}})()})();